{"version":3,"sources":["assets/img/pradenW.png","assets/img/donationBackground.jpg","assets/img/Marble.png","assets/img/dropout_formula.png","assets/img/eblan.png","assets/img/Dovolen.png","models/purchase.ts","constants/routes.constants.ts","constants/color.constants.ts","constants/common.constants.ts","utils/common.utils.ts","components/Bracket/components/model.ts","models/alert.model.ts","utils/slots.utils.ts","reducers/notifications/notifications.ts","models/requests.model.ts","services/SlotNamesMap.ts","reducers/Purchases/Purchases.ts","reducers/Slots/Slots.ts","services/PercentsRefMap.ts","pages/auction/Slot/SlotComponent.tsx","hooks/useCostConvert.ts","reducers/ExtraWindows/ExtraWindows.ts","pages/auction/Slot/DroppableSlot.tsx","pages/auction/SlotsColumn/SlotsList.tsx","api/userApi.ts","api/requestsApi.ts","models/redemption.model.ts","services/ChatService.ts","constants/ignoredTokens.ts","reducers/Requests/Requests.ts","reducers/User/User.ts","reducers/AucSettings/AucSettings.ts","pages/auction/SlotsHeader/NewSlotForm/NewSlotForm.tsx","pages/auction/SlotsHeader/SlotSearch/SlotSearch.tsx","pages/auction/SlotsHeader/SlotsHeader.tsx","pages/auction/SlotsColumn/SlotsColumn.tsx","constants/webSocket.constants.ts","reducers/Subscription/Subscription.ts","pages/auction/Stopwatch/Stopwatch.tsx","constants/purchase.constants.ts","api/twitchApi.ts","constants/wheel.ts","pages/auction/RouletteMenu/RoulettePresetView/RoulettePresetView.tsx","pages/auction/RouletteMenu/PresetSelect/PresetSelect.tsx","utils/paths.js","utils/CustomEase.js","services/SpinPaceService.ts","services/PredictionService.ts","hooks/useWheel.tsx","components/RandomWheel/DropoutWheelProof/DropoutWheelProof.tsx","decorators/withLoading.ts","api/randomApi.ts","components/LoadingButton/LoadingButton.tsx","components/RadioButtonGroup/RadioButtonGroup.tsx","components/RandomWheel/PaceSettings/PaceSettings.tsx","components/Form/SlotsPresetInput/SlotsPresetInput.tsx","components/TwitchEmotesList/TwitchEmotesList.tsx","assets/icons/twitch.svg","components/Bracket/components/Clipped.tsx","components/Bracket/components/BracketGame.tsx","components/Bracket/components/Bracket.tsx","components/Bracket/util/winningPathLength.tsx","components/SlotsBracket/SlotsBracket.tsx","components/RandomWheel/ResizableBracket/ResizableBracket.tsx","components/RandomWheel/DuelWheelProof/DuelWheelProof.tsx","components/Form/ImageLinkInput/ImageLinkInput.tsx","components/RandomWheel/RandomWheel.tsx","pages/auction/RouletteMenu/Roulette/Roulette.tsx","pages/auction/RouletteMenu/RouletteMenu.tsx","pages/auction/PurchaseComponent/PurchaseComponent.tsx","pages/auction/DragBidContext/DragBidContext.tsx","pages/auction/DraggableRedemption/DraggableRedemption.tsx","pages/auction/PurchaseList/PurchaseList.tsx","assets/icons/DAAlert.svg","components/IntegrationPage/TwitchLoginButton/TwitchLoginButton.tsx","components/IntegrationPage/DALoginButton/DALoginButton.tsx","pages/auction/IntegrationSubscription/IntegrationSubscription.tsx","pages/auction/FastAccessPanel/FastAccessPanel.tsx","pages/auction/ControlColumn/ControlColumn.tsx","components/Notification/Notification.tsx","components/PageContainer/PageContainer.tsx","components/ResizablePanel/Resizer/Resizer.tsx","components/ResizablePanel/ResizablePanel.tsx","api/youtubeApi.ts","components/TrailersContainer/VideoPreview/VideoPreview.tsx","components/YoutubePlayer/YoutubePlayer.tsx","components/TrailersContainer/TrailerWindow/TrailerWindow.tsx","components/TrailersContainer/TrailersContainer.tsx","constants/format.constants.ts","services/SaveLoadService.ts","enums/language.enum.ts","pages/auction/SaveLoad/SaveRecord/SaveRecord.tsx","pages/auction/SaveLoad/SaveLoad.tsx","constants/language.constants.ts","assets/icons/auction.svg","pages/auction/LanguageDropdown/LanguageDropdown.tsx","pages/auction/AucActions/AucActions.tsx","pages/auction/AucPage.tsx","assets/icons/wheel.svg","constants/menuItems.constants.ts","components/SettingsGroupTitle/SettingsGroupTitle.tsx","components/Form/FormInput/FormInput.tsx","components/Form/FormSwitch/FormSwitch.tsx","components/SettingsPage/StopwatchSettings/StopwatchSettings.tsx","utils/url.utils.ts","components/Form/ImagePresetsInput/ImagePresetsInput.tsx","components/SettingsPage/AucSettings/AucSettings.tsx","constants/history.ts","components/ConfirmFormOnLeave/ConfirmFormOnLeave.tsx","components/SettingsPage/SettingsPage.tsx","components/LoadingPage/LoadingPage.tsx","components/Form/ColorPicker/ColorPicker.tsx","components/Form/FormColorPicker/FormColorPicker.tsx","components/IntegrationPage/TwitchIntegration/TwitchIntegration.tsx","components/IntegrationPage/DAIntegration/DAIntegration.tsx","components/IntegrationPage/IntegrationPage.tsx","constants/theme.constants.ts","components/AlertsContainer/BaseAlert/BaseAlert.tsx","components/AlertsContainer/AlertsContainer.tsx","pages/history/PurchaseHistory/PurchaseHistory.tsx","pages/history/HistoryPage/HistoryPage.tsx","pages/wheel/WheelPage/WheelPage.tsx","pages/documentation/Documentation.tsx","components/TableOfContents/TableOfContents.tsx","constants/documentation.ts","components/HelpPage/HelpPage.tsx","components/Statistic/Scoreboard/Scoreboard.tsx","components/Statistic/UsersChart/UsersChart.tsx","components/Statistic/SlotsChart/SlotsChart.tsx","components/App/App.tsx","components/Statistic/Statistic.tsx","components/StopwatchPage/StopwatchPage.tsx","components/RequestsPage/RequestsDataPanel/ListSettings/ListSettingsDialog.tsx","components/RequestsPage/RequestsDataPanel/RequestsDataPanel.tsx","components/RequestsPage/RequestsTable/RequestsTable.tsx","components/RequestsPage/RequestsActions/RequestsWinners.tsx","components/RequestsPage/RequestsList/RequestsList.tsx","components/RequestsPage/StepWrapper/StepWrapper.tsx","components/RequestsPage/RequestsPage.tsx","reducers/socketIo/socketIo.ts","serviceWorker.ts","assets/i18n/index.ts","reducers/PubSubSocket/PubSubSocket.ts","reducers/index.ts","pages/redirects/TwitchRedirect/TwitchRedirect.tsx","pages/redirects/DARedirect/DARedirect.tsx","components/ChatWheelPage/ChatWheelPage.tsx","components/NewDomainRedirect/NewDomainRedirect.tsx","api/audioRoomApi.ts","components/AudioRoom/RoomLoginPage/RoomLoginPage.tsx","components/AudioRoom/AddPresetButton/AddPresetButton.tsx","components/AudioRoom/Preset/Preset.tsx","components/AudioRoom/PresetsList/PresetsList.tsx","components/AudioRoom/ActiveUsers/ConnectedUsers.tsx","components/AudioRoom/AudioRoom.tsx","index.tsx"],"names":["module","exports","PurchaseStatusEnum","ROUTES","HOME","AUC_PAGE","VIDEO_REQUESTS","CHAT_BOT","TWITCH_REDIRECT","DA_REDIRECT","SKIP_WIDGET","LOGIN","SETTINGS","WHEEL","HISTORY","HELP","INTEGRATION","STATISTIC","STOPWATCH","CHAT_WHEEL","REQUESTS","AUDIO_ROOM","LocalStorage","COLORS","PURCHASE_STATUS","Deleted","Processed","QUERIES","ATTRIBUTES","TAGS","BACKGROUND_PRESETS","TRAILER_MIN_SIZE","Side","getCookie","name","match","RegExp","exec","document","cookie","sortSlots","slots","sort","a","b","undefined","amount","Number","handleDragOver","e","preventDefault","getWheelColor","Math","floor","random","length","formatPercents","value","round","formatDegree","formatSeconds","getDirtyValues","values","dirtyFields","defaultValues","Object","keys","reduce","accum","key","getTotalSize","items","acc","loadFile","filename","data","element","createElement","setAttribute","encodeURIComponent","body","appendChild","click","removeChild","getRandomIntInclusive","min","max","fitText","text","maxLength","slice","createMapByKey","keySelector","filter","map","Map","forEach","record","restData","get","set","percentsFormatter","params","AlertTypeEnum","slotToWheel","id","toString","color","getSlot","slotId","find","getDuelSides","gameId","createSide","restSlots","splice","aSize","bSize","unshift","splitSlotsWitchMostSimilarValues","VISITOR","getOffset","sides","ceil","notificationsSlice","createSlice","initialState","message","alerts","reducers","setNotification","state","action","payload","addAlert","updatedAlerts","deleteAlert","actions","CamilleList","slotNamesMap","deleteBySlotId","delete","updateName","previousName","toLowerCase","purchasesSlice","purchases","history","draggedRedemption","addPurchaseLog","addPurchase","removePurchase","resetPurchases","setDraggedRedemption","updateBid","index","findIndex","logPurchase","bid","dispatch","getState","pointsRate","aucSettings","integration","da","cost","isDonation","timestamp","Date","toISOString","fastAddBid","settings","marbleRate","marblesAuc","rawCost","username","similarSlot","convertToMarble","convertCost","alertMessage","setSlotAmount","status","target","type","Success","processRedemption","redemption","marbleCategory","alwaysAddNew","twitch","normalizedBid","restPurchase","normalizePurchase","similarSlotId","minValue","total","createSlotFromPurchase","updateExistBids","maxFastId","createSlot","props","slot","fastId","extra","searchTerm","getAmountSum","updateSlotPosition","updateSlotAmount","updatedId","transform","updatedIndex","slotsSlice","setSlotName","addSlotAmount","setSlotExtra","addExtra","deleteSlot","deletedId","addSlot","newSlot","resetSlots","clear","setSlots","setSearchTerm","updatedSlots","addBid","addedCost","percentsRefMap","getValidAmount","updatePercents","chanceRefMap","totalSum","ref","innerHTML","toFixed","memo","useDispatch","t","useTranslation","useSelector","root","showChances","useState","currentName","setCurrentName","currentExtra","setCurrentExtra","amountInput","useRef","percentsRef","useEffect","current","handleAddExtra","confirmAmount","useCallback","createNewSlotOnEnter","inputAmount","isAmountChanged","onchange","start","end","duration","startTimestamp","step","progress","window","requestAnimationFrame","animateValue","extraLength","extraFieldWidth","OutlinedInput","className","placeholder","onBlur","onChange","onKeyPress","inputRef","IconButton","onClick","title","style","width","useCostConvert","getMarblesAmount","formatMarblesCost","newSlotCost","addToSlotCost","extraWindowsSlice","trailers","openTrailer","closeTrailer","DroppableSlot","slotProps","background","isExtraOpen","setIsExtraOpen","extraIcon","slotElement","enterCounter","resetOverStyle","classList","remove","updateOverStyle","enterCounterChange","isRemove","add","slotWrapperClasses","classNames","handleDrop","JSON","parse","dataTransfer","getData","redemptionId","handleDragEnter","types","includes","handleDragLeave","openExtra","closeExtra","handleOpenTrailer","onDragOver","onDrop","onDragEnter","onDragLeave","Typography","aria-controls","Menu","open","onClose","anchorEl","PaperProps","TransitionProps","timeout","MenuItem","compact","view","Grid","container","spacing","item","xs","typeName","enterAnimation","leaveAnimation","maintainContainerHeight","updateSettings","Error","updateIntegration","getUserData","getIsCanRestoreSettings","postRestoreSettings","validateIntegrations","RedemptionStatus","getCamilleBotData","listKey","KeyListenersClient","channel","identity","password","process","chatBotToken","channels","commandListeners","createCommandHandler","command","callback","_channel","user","regExpResult","this","removeListener","size","connect","handler","removeCommandListener","addListener","disconnect","Client","CamilleBotLists","uuid","Games","disabled","allData","winnersData","isSyncWithAuc","Movies","lists","currentList","isLoading","chatClient","getListIndex","getList","requestsSlice","initChatClient","setIsLoading","setCurrentList","addRequestsList","deleteRequestsList","updateRequestsList","request","addRequest","listId","dataIndex","arr","setAllData","addRequestWinner","deleteRequestWinner","setWinnersData","setSyncState","userSlice","userId","hasDAAuth","hasTwitchAuth","canBeRestored","setUsername","setUserId","setHasDAAuth","setHasTwitchAuth","setCanBeRestored","setAuthId","authId","updateUsername","startTime","isBuyoutVisible","timeStep","isAutoincrementActive","autoincrementTime","purchaseSort","maxTime","isMaxTimeActive","newSlotIncrement","isNewSlotIncrement","isTotalVisible","luckyWheel","isRefundAvailable","dynamicRewards","rewardsPrefix","rewardPresets","isIncrementActive","incrementTime","mergeCheck","obj","src","aucSettingsSlice","setAucSettings","mergewith","setIntegration","setCompact","setShowChances","loadUserData","twitchAuth","twitchSettings","daSettings","daAuth","isValid","NewSlotForm","enterIconVisible","setEnterIconVisible","nameInput","wrapperClasses","showEnterIcon","hideEnterIcon","getNewSlot","updateNewSlotChance","refMap","resetForm","createNewSlot","createSlotOnEnter","onFocus","display","Button","variant","startIcon","SlotSearch","Paper","InputBase","event","SlotsHeader","SlotsColumn","buyoutInput","rootReducer","setBuyout","handleBuyoutChange","addEventListener","newVisible","slotsColumnClasses","useMemo","dragging","sum","toggleTotalSumVisability","filteredSlots","MESSAGE_TYPES","subscriptionSlice","actual","loading","setTwitchSubscribeState","setDaSubscribeState","sendCpSubscribedState","isSubscribed","setState","twitchSocket","socketIo","once","error","emit","sendDaSubscribedState","daSocket","Stopwatch","webSocket","pubSubSocket","subscription","actualTwitchSub","loadingTwitchSub","defaultTime","stopwatchStep","stopwatchAutoincrement","isStopped","setIsStopped","isStopwatchChanged","setIsStopwatchChanged","previousSlotsLength","time","frameId","prevTimestamp","stopwatchElement","winnerRef","winnerSlot","previousWinnerSlotId","updateStopwatch","timeDifference","dayjs","format","autoUpdateTimer","timeChange","maxMilliseconds","handleDonation","purchase","updateTimeOnFrame","handleStop","cancelAnimationFrame","handleReset","fontSize","PURCHASE_SORT_OPTIONS","order","authenticateTwitch","code","authenticateDA","closeTwitchRewards","updateRedemption","WheelCommand","RoulettePresetView","preset","onSelect","multiplier","backgroundColor","fontWeight","marginLeft","getPresetChance","PresetSelect","presets","WheelFormat","GroupStage","PACE_PRESETS","allowBackStep","valueRandomZone","xRandomZone","valueDisabledZone","randomOffset","points","WHEEL_OPTIONS","Default","Dropout","BattleRoyal","FFA","Teams","_svgPathExp","_scientific","_DEG2RAD","PI","_sin","sin","_cos","cos","_abs","abs","_sqrt","sqrt","_isNumber","atan2","_round","arcToSegment","lastX","lastY","rx","ry","angle","largeArcFlag","sweepFlag","x","y","angleRad","cosAngle","sinAngle","TWOPI","dx2","dy2","x1","y1","x1_sq","y1_sq","radiiCheck","rx_sq","ry_sq","sq","coef","cx1","cy1","cx","cy","ux","uy","vx","vy","temp","angleStart","acos","angleExtent","isNaN","i","segments","rawPath","angleIncrement","controlLength","ma","mb","mc","md","push","stringToRawPath","d","j","isRelative","segment","startX","startY","difX","difY","beziers","prevCommand","flag1","flag2","replace","m","n","path","relativeX","relativeY","elements","errorMessage","line","sx","sy","ex","ey","console","log","toUpperCase","closed","substr","charAt","pop","totalPoints","rawPathToString","sl","s","result","l","gsap","_coreInitted","_getGSAP","registerPlugin","_initCore","registerEase","CustomEase","create","warn","_numExp","_needsParsingExp","_bezierToPoints","x2","y2","x3","y3","x4","y4","threshold","x12","y12","x23","y23","x34","y34","x123","y123","x234","y234","x1234","y1234","dx","dy","d2","d3","config","setData","a1","a2","inc","point","prevPoint","p","closest","lookup","precision","fast","test","indexOf","height","originY","tx","ty","_findMinimum","_normalize","nx","ease","res","onUpdate","custom","getSVGData","core","parseEase","slope","prevX","prevY","utils","toArray","invert","c","_dirty","transformRawPath","join","version","SpinPaceService","rotation","spinTime","getInitialCurvePoint","addStartPoint","addPoint","position","availableSize","randomValue","getCurve","previousPoint","nextPoint","xOffset","yOffset","getCurvePoint","isPreviousPoint","createPath","PredictionService","preserveLogs","dropoutRate","initialSlots","initialChances","getReverseSlots","totalSize","getReverseSize","getWinner","restAmount","performIteration","winner","normalizeWinnersData","iterations","Array","from","wins","chance","winsCount","normalizeSlotsChances","getChance","chances","getChanceDifference","predictChances","count","winningMap","fill","_","previousWins","researchDifference","winners","dropoutChance","originalChance","chanceDifference","updateAmount","diff","amountChange","SlotsPresetType","selectorAngle","getWheelAngle","rotate","useWheel","rawItems","dropout","onWin","deleteItem","isShuffle","canvas","wheelSelector","spinTarget","wrapper","shuffledItems","shuffle","rest","setRotate","offset","setOffset","winnerItem","setWinnerItem","normalizedItems","angleOffset","actualItems","actualTotalSize","resultItem","startAngle","endAngle","normalizedRef","drawSlice","ctx","center","pieEdgeDefault","fillStyle","strokeStyle","lineWidth","pieEdge","radius","beginPath","moveTo","arc","closePath","stroke","resizeCanvas","canvasElement","canvasSize","clientHeight","clientWidth","previousRotate","nextRotate","currentRotate","onWheelSpin","handleWin","drawWheel","getContext","selectorCtx","save","font","textBaseline","offsetModifier","textRadius","measureText","centerAngle","textCoords","translate","fillText","restore","drawText","clearWinner","circleStyles","backgroundImage","pradenW","backgroundPosition","backgroundSize","backgroundRepeat","centerCircleStyles","top","left","borderRadius","border","dialogOpen","setDialogOpen","toggleDialog","prev","spin","seed","paceConfig","winningSeed","correctNextRotate","wheelPath","realSpinChange","split","to","bind","onComplete","animateWheel","wheelComponent","marginRight","pointerEvents","Dialog","DialogContent","DialogActions","zIndex","startsWith","Link","href","withLoading","getRandomNumber","LoadingButton","children","buttonProps","CircularProgress","RadioButtonGroup","onChangeActive","options","activeKey","createButton","ButtonGroup","SLOT_PRESETS_OPTIONS","Current","Random","columns","headerName","field","sortable","flex","valueFormatter","DropoutWheelProof","slotsPresetType","setSlotsPresetType","setIterations","setChanceDifference","setPreserveLogs","safeIterations","slotsToPredict","createRandomSlots","difference","handleIterationsChange","handlePreserveLogsChange","checked","DropoutFormula","alt","TextField","margin","label","FormControlLabel","control","Checkbox","rows","pagination","rowHeight","pageSize","rowsPerPageOptions","disableSelectionOnClick","disableColumnMenu","PaceSettings","setPaceConfig","maxOffset","handleBackStepChange","handleValueRandomZoneChange","handleRandomOffsetChange","handleDisabledZoneChange","Slider","valueLabelDisplay","valueLabelFormat","marks","SlotsPresetInput","buttonTitle","buttonClass","dialogTitle","hint","isInputOpened","setIsInputOpened","saveSlots","setSaveSlots","prevOpened","maxWidth","DialogTitle","dropzoneClass","dropzoneText","file","reader","FileReader","onloadend","readAsText","filesLimit","fetcher","EmoteFetcher","flattenCollection","collection","emoteLists","React","setActiveEmote","onEmotesLoad","userEmotes","setUserEmotes","updateEmotes","defaultEmotes","Promise","resolve","all","fetchTwitchEmotes","then","fetchBTTVEmotes","fetchFFZEmotes","catch","loadedEmotes","flatEmotes","emotes","crateEmoteList","emote","toLink","_style","_title","_g","Clipped","_id","v4","clipPath","RectClipped","defaultProps","homeOnTop","hoveredTeamId","styles","hoverBackgroundColor","scoreBackground","winningScoreBackground","teamNameStyle","textShadow","teamScoreStyle","gameNameStyle","gameTimeStyle","teamSeparatorStyle","strokeWidth","topText","scheduled","toLocaleDateString","bottomText","bracketLabel","BracketGame","game","onHoveredTeamIdChange","isCurrent","fromSide","SideComponent","side","onHover","sideType","hovered","tooltip","lineOffset","cursor","fillOpacity","textAnchor","outline","Bracket","currentGame","gameDimensions","svgPadding","roundSeparatorWidth","lineInfo","separation","homeVisitorSpread","setHoveredTeamId","content","numRounds","winningPathLength","visited","apply","sourceGame","svgSize","setSvgSize","svgDimensions","getBBox","overflow","toBracketGames","gameWidth","sideInfo","calcOffset","bot","realOffset","pathInfo","concat","flat","onGamesOrder","maxDepth","setGame","skipDepthChange","gameOrder","createdGame","createGame","level","matchOrder","parentSide","restItems","createdSide","shouldBeGrouped","gameData","setOffsets","botOffsets","topOffsets","visitorGame","homeGame","ResizableBracket","isFullscreenBracket","setIsFullscreenBracket","scale","setScale","translation","setTranslation","bracketWrapper","scrollToCurrentGame","handleChangeFullscreen","handleMapChange","nextScale","nextTranslation","fullscreen","DuelWheelProof","ImageLinkInput","isCorrectUrl","setIsCorrectUrl","readAsDataURL","onPaste","imageUrl","clipboardData","setTimeout","url","reject","image","Image","onload","onerror","helperText","initialAvailableSettings","mode","randomPace","randomOrg","import","RandomWheel","initialSpinTime","elementsFromProps","hideDeleteItem","localStorage","getItem","activeEmote","setSpinTime","setRawItems","isSpinning","setIsSpinning","isLoadingSeed","setIsLoadingSeed","useRandomOrg","setUseRandomOrg","isRandomPace","setIsRandomPace","wheelFormat","setWheelFormat","gamesOrder","setGamesOrder","nextWinner","setNextWinner","selectedGame","setSelectedGame","isDuelHelpOpen","setIsDuelHelpOpen","isDropoutProofOpen","setIsDropoutProofOpen","setMaxDepth","depthRestrict","setDepthRestrict","initBattleRoyale","games","prevGames","handleWheelFormatChange","currentDuel","duelItems","filteredItems","currentItems","handleEmoteChange","setItem","maxSize","maxValidValue","setMaxValidValue","splittedItems","part","finalItems","prevItems","parentTitle","getElementById","handleCustomWheel","customItems","nextTurn","handleSpin","handleSpinTimeChange","handleDepthRestrictChange","handleMaxValueChange","handleIsRandomPaceChange","presetHint","handleUseRandomOrg","toggleHelp","toggleDropoutProof","getRandomEmote","handleEmotesLoad","shrink","marginTop","fullWidth","dividers","Switch","getPair","currentIndex","insertItems","source","subArray","pairsIndexes","getPairsIndexes","maxSteps","insertedItems","convertToWheelItem","wheelElements","Roulette","onRoll","selectedPreset","hideActions","roulettePresets","selectablePresets","hidden","RouletteMenu","setSelectedPreset","multi","getPreset","safe","PurchaseComponent","isDragging","showBestMatch","rewardId","isRemovePurchase","casinoModalOpened","setCasinoModalOpened","bestMatch","store","slotNames","findBestMatch","rating","bestMatchIndex","refundRedemption","Canceled","redemptionStyles","donationStyles","donationBackground","cardStyles","purchaseClasses","donationCost","costString","bidTitle","Marble","handleAddNewSlot","handleAddToBestMatch","Card","CardContent","draggedBid","DragBidContext","dragRef","initialPosition","setIsDragging","mouseOffset","setMouseOffset","redemptionRef","handleDragStart","stringify","setDragImage","getBoundingClientRect","pageX","pageY","handleDragEnd","handleDrag","isFrameRequested","removeEventListener","draggable","onDragStart","onDragEnd","PurchaseList","handleRedemption","sortedPurchases","orderModifier","compareValues","on","_extends","assign","arguments","prototype","hasOwnProperty","call","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_desc","_defs","_ref","svgRef","viewBox","enableBackground","xmlSpace","ForwardRef","forwardRef","stopColor","fillRule","authParams","client_id","redirect_uri","location","origin","response_type","scope","force_verify","authUrl","URL","TwitchLoginButton","URLSearchParams","search","IntegrationSubscription","twitchActual","twitchLoading","isSubscribedDA","setIsSubscribedDA","isSubscribedTwitch","setIsSubscribedTwitch","subscribeTwitch","subscribeDA","Accordion","defaultExpanded","AccordionSummary","expandIcon","AccordionDetails","FastAccessPanel","ControlColumn","useStyles","makeStyles","theme","createStyles","backdrop","drawer","Notification","classes","notifications","Backdrop","palette","default","primary","paddingTop","paddingBottom","overflowX","overflowY","PageContainer","Container","Resizer","onResize","handleMouseDown","bottom","right","handleMouseUp","handleMouseMove","offsetLeft","offsetTop","role","onMouseDown","tabIndex","ResizablePanel","initialSize","setContainerSize","screen","screenWidth","screenHeight","handleResize","interaction","searchYoutubeVideos","query","VideoPreview","videoId","snippet","handleSelect","YoutubePlayer","playerInstance","setPlayerInstance","PlayerFactory","destroy","setSize","TrailerWindow","windowTitle","searchRequest","setSearchRequest","videos","setVideos","currentVideo","setCurrentVideo","windowSize","setWindowSize","handleCloseTrailer","handleRequestChange","searchVideos","videosData","onSubmit","handleKeyPress","playerOptions","video","TrailersContainer","extraWindows","trailer","FORMAT","dateTime","SaveLoadService","getSavesConfig","rawConfig","SaveConfig","getSlots","configIndex","slotsLocation","rename","nextName","saveInfo","rewrite","newSave","deletedSave","removeItem","Language","SaveRecord","onConfigChange","handleDelete","handleSave","handleLoad","handleRename","handleDownloadFile","defaultValue","SaveLoad","initialSaves","valueOf","saveConfig","setSaveConfig","isImportOpen","setIsImportOpen","handleNewSave","handleImportSave","info","SupportedLanguages","EN","RU","BE","LanguageDropdown","i18n","setAnchorEl","currentLanguage","i18next","language","getCurrentLanguage","handleClose","currentTarget","lng","Boolean","anchorOrigin","vertical","horizontal","transformOrigin","selected","changeLanguage","setLanguage","getSlotNamesByCount","AucActions","confirmRestoreOpen","setConfirmRestoreOpen","handleRestoreOpen","handleRestoreClose","handleSetCompact","handleSetShowChances","rel","createMarbleConfig","AucPage","backgroundStyles","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","MENU_ITEMS","IconComponent","AuctionSvg","AccountCircleIcon","SettingsIcon","WheelSvg","EqualizerIcon","AssignmentIcon","HelpIcon","HowToVoteIcon","divide","SettingsGroupTitle","FormInput","errors","rules","restProps","isNumber","normalizeNumber","renderInput","formValue","flexDirection","as","renderField","labelPlacement","render","FormSwitch","renderSwitch","StopwatchSettings","FormGroup","row","getQueryValue","queryName","ImagePresetsInput","images","setOpen","togglePopper","prevOpen","createImageSelectHandler","Popper","placement","transition","modifiers","enabled","Fade","cloudName","publicId","secure","crop","AucSettings","register","setValue","handleImageChange","shouldDirty","Select","createBrowserHistory","ConfirmFormOnLeave","isDirtyForm","isOpen","setIsOpen","nextLocation","setNextLocation","unBlock","block","pathname","forcePush","handleConfirm","autoFocus","SettingsPage","isSubmitting","setIsSubmitting","formMethods","useForm","handleSubmit","formState","isDirty","reset","LoadingPage","helpText","ColorPicker","handleColorChange","hex","handleOpen","Popover","elevation","ButtonBase","padding","FormColorPicker","renderColorPicker","StyledTableCell","withStyles","head","common","white","TableCell","StyledTableRow","hover","TableRow","TwitchIntegration","setIsSubscribed","useFieldArray","fields","append","handleAppendReward","renderActionColumn","renderCostColumn","renderColorColumn","toggleSubscribe","marginBottom","close","TableContainer","component","Table","TableHead","align","TableBody","DaIntegration","handleSwitchChange","IntegrationPage","twitchDirty","daDirty","getDirtyIntegration","createMuiTheme","main","secondary","paper","contrastThreshold","breakpoints","sm","lg","xl","typography","h3","h4","h5","h6","body2","fontFamily","overrides","MuiFormControlLabel","letterSpacing","successTheme","useAudioPageStyles","flexGrow","justifyContent","alignItems","BaseAlert","clearTimeout","Alert","severity","AlertsContainer","TransitionGroup","alert","CSSTransition","PurchaseHistory","selection","setSelection","slotsMap","valueGetter","filterable","cellClassRules","deleted","processed","handleRefund","rowIds","checkboxSelection","onSelectionChange","autoHeight","HistoryPage","WheelPage","wheelItems","Documentation","Eblan","TableOfContents","paragraphs","DOCUMENTATION_PARAGRAPHS","HelpPage","Scoreboard","scoreboard","score","Chart","registerables","UsersChart","chartRef","defaults","borderColor","datasets","borderWidth","plugins","legend","parsing","xAxisKey","yAxisKey","openDriverTimeout","SlotsChart","topSlots","bids","topSlotsIds","lastTimestamp","reverse","previousCost","showLine","pointBorderColor","pointBackgroundColor","callbacks","parsed","scales","ticks","COST_SELECTOR","ALL","DONATION","POINTS","hasTarget","Statistic","selectorKey","usersMap","createScoreboard","scores","userScoreboard","slotsScoreboard","StopwatchPage","ListSettingsDialog","form","toggleOpen","newListTemplate","RequestsDataPanel","requests","channelName","isSettingsOpen","setIsSettingsOpen","isCreationOpen","setIsCreationOpen","listInfo","isConnected","setIsConnected","has","settingsForm","creationForm","toggleSettingsOpen","toggleCreationOpen","createList","handleListChange","listData","entries","login","handleNewRequest","badges","subOnly","subscriber","founder","handleConnect","listenCommand","handleDisconnect","unListenCommand","Tooltip","RequestsTable","onDelete","renderCell","empty","RequestsWinners","openWheel","randomCount","setRandomCount","clearWinnersList","handleRandomCountChange","addRandomWinners","winnerIndex","handleWheelClick","copyTableData","dataText","navigator","clipboard","writeText","InputProps","RequestsList","deleteRequest","StepWrapper","onBackStep","backSteepTitle","RequestsPage","currentData","setCurrentData","warningOpen","setWarningOpen","moveToUsersRequests","socketIoSlice","client","setSocket","connectToSocketIo","io","flexShrink","whiteSpace","drawerOpen","transitions","easing","sharp","enteringScreen","drawerClose","leavingScreen","minHeight","menuIcon","hasToken","hiddenDrawerRoutes","App","useLocation","isDrawerOpen","setIsDrawerOpen","showDrawer","hideDrawer","interval","setInterval","clearInterval","isHomePage","drawerClasses","createMenuItem","Divider","ListItem","button","ListItemIcon","ListItemText","restoreSettings","Drawer","onMouseEnter","onMouseLeave","List","exact","hostname","puSubSocketSlice","setWebSocket","combineReducers","TwitchRedirect","loadingMessage","setLoadingMessage","isNew","canRestoreSettings","DARedirect","USER_BADGES","MODERATOR_BADGES","getCommand","checkBadges","validBadges","some","badge","ChatWheelPage","participants","setParticipants","isRegOpened","setWinners","useParams","existUsers","newWinner","prevWinners","spinRef","handleConnection","handleMessage","userState","Join","newParticipant","prevState","handleJoin","Spin","removeParticipant","CloseReg","OpenReg","tmi","getOpts","NewDomainRedirect","Dovolen","getUser","getPresets","postPreset","volume","deletePreset","RoomLoginPage","setUser","setErrorMessage","audioRoomApi","response","required","autoComplete","AddPresetButton","formOpen","setFormOpen","audioFile","setAudioFile","presetName","setPresetName","setVolume","audioUrl","createObjectURL","toggleFormOpen","showPreviewsInDropzone","maxFileSize","acceptedFiles","controls","onVolumeChange","Preset","playPreset","PresetsList","ConnectedUsers","users","AudioRoom","setPresets","connectedUsers","setConnectedUsers","socket","addPreset","updatePresets","newPresets","_socket","currentPresets","audio","Audio","play","usernames","_username","resources","ru","en","be","use","LanguageDetector","initReactI18next","init","locale","SORTABLE_SLOT_EVENTS","configureStore","reducer","middleware","thunk","next","sortedSlots","onbeforeunload","host","ReactDOM","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ab2f5b40.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pradenW.4d69ad13.png\";","module.exports = __webpack_public_path__ + \"static/media/donationBackground.bea52d9f.jpg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/dropout_formula.d5927e56.png\";","module.exports = __webpack_public_path__ + \"static/media/eblan.05b31592.png\";","module.exports = \"data:image/png;base64,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\"","import { SortOrder } from './common.model';\n\nexport interface PurchaseSortOption {\n  key: 'timestamp' | 'cost';\n  order: SortOrder;\n}\n\nexport enum PurchaseStatusEnum {\n  Processed = 'Processed',\n  Deleted = 'Deleted',\n}\n","const ROUTES = {\n  HOME: '/',\n  AUC_PAGE: '/auc',\n  VIDEO_REQUESTS: '/videoPoints',\n  CHAT_BOT: '/chatBot',\n  TWITCH_REDIRECT: '/twitch/redirect',\n  DA_REDIRECT: '/da/redirect',\n  SKIP_WIDGET: '/skipWidget',\n  LOGIN: '/login',\n  SETTINGS: '/settings',\n  WHEEL: '/wheel',\n  HISTORY: '/history',\n  HELP: '/help',\n  INTEGRATION: '/integration',\n  STATISTIC: '/statistic',\n  STOPWATCH: '/stopwatch',\n  CHAT_WHEEL: '/chatWheel/:channel',\n  REQUESTS: '/requests',\n  AUDIO_ROOM: '/audioRoom',\n};\n\nexport default ROUTES;\n","import { PurchaseStatusEnum } from '../models/purchase';\n\nexport const COLORS = {\n  PURCHASE_STATUS: {\n    [PurchaseStatusEnum.Deleted]: '#F08080',\n    [PurchaseStatusEnum.Processed]: '#AED581',\n  },\n  WHEEL: [\n    '#00b6ac',\n    '#4a91ae',\n    '#63c575',\n    '#f85842',\n    '#5d60e2',\n    '#e58221',\n    '#966062',\n    '#7daee8',\n    '#6690ad',\n    '#2a8bea',\n    '#e385cf',\n    '#e35182',\n    '#36b5e9',\n    '#355f56',\n    '#375f4e',\n    '#519cc0',\n    '#d17175',\n    '#b062e7',\n    '#abcc9e',\n    '#80c18b',\n    '#717ff6',\n    '#7c9f30',\n    '#c3747f',\n    '#ea5461',\n    '#b87dc8',\n    '#978fbc',\n    '#df5f56',\n    '#f3bf41',\n    '#FFCE24',\n    '#EA631D',\n    '#E33055',\n    '#0085CB',\n    '#275483',\n    '#3CB787',\n    '#80A649',\n    '#E3904C',\n    '#C94D51',\n    '#5B4749',\n  ],\n};\n","export const QUERIES = {\n  CODE: 'code',\n  ORIGINAL_PATH: 'originalPath',\n};\n\nexport const USERNAME_COOKIE_KEY = 'username';\n\nexport const COOKIE_KEYS = {\n  audioRoomToken: 'audioRoomToken',\n};\n\nexport const ALERT_LIFETIME = 6000;\nexport const MAX_ALERTS = 3;\n\nexport const LINE_BREAK = '\\n';\nexport const ATTRIBUTES = {\n  HREF: 'href',\n  DOWNLOAD: 'download',\n};\n\nexport const TAGS = {\n  A: 'a',\n};\n\nexport const BACKGROUND_PRESETS = [\n  'v1615110548/15879138916140_zgjk6z.jpg',\n  'bg.0c0d8acb_egc7mv.jpg',\n  'v1615113668/tree_mm3ewn.webp',\n  'v1615114028/95bQSF_q97014.jpg',\n  'v1615116150/523452345_zwdwmu.png',\n  '15614987449380_vllmkt.jpg',\n];\n\nexport const TRAILER_MIN_SIZE = {\n  width: 400,\n  height: 250,\n};\n\nexport const YOUTUBE_API_KEYS = [];\n\nexport enum LocalStorage {\n  SaveConfig = 'saveConfig',\n}\n","import { DragEvent } from 'react';\nimport { FieldNamesMarkedBoolean } from 'react-hook-form/dist/types/form';\nimport { FieldValues } from 'react-hook-form/dist/types/fields';\nimport { CellValue, ValueGetterParams } from '@material-ui/x-grid';\nimport { Slot } from '../models/slot.model';\nimport { COLORS } from '../constants/color.constants';\nimport { WheelItem } from '../models/wheel.model';\nimport { ATTRIBUTES, TAGS } from '../constants/common.constants';\n\nexport const isProduction = (): boolean => process.env.NODE_ENV === 'production';\n\nexport const animateValue = (ref: HTMLInputElement, start: number, end: number, duration = 500): void => {\n  let startTimestamp = 0;\n\n  if (!duration) {\n    ref.value = end.toString();\n    return;\n  }\n\n  const step = (timestamp: number): void => {\n    if (!startTimestamp) startTimestamp = timestamp;\n\n    const progress = Math.min((timestamp - startTimestamp) / duration, 1);\n\n    ref.value = Math.floor(progress * (end - start) + start).toString();\n\n    if (progress < 1) {\n      window.requestAnimationFrame(step);\n    }\n  };\n  window.requestAnimationFrame(step);\n};\n\nexport const getCookie = (name: string): string => {\n  const match = new RegExp(`(^| )${name}=([^;]+)`).exec(document.cookie);\n  return (match && match[2]) || '';\n};\n\nexport const sortSlots = (slots: Slot[]): Slot[] => {\n  return [...slots].sort((a: Slot, b: Slot) => {\n    if (a.amount === undefined) {\n      return 1;\n    }\n\n    return Number(b.amount) - Number(a.amount);\n  });\n};\n\nexport const handleDragOver = <T extends Element>(e: DragEvent<T>): void => {\n  e.preventDefault();\n};\n\nexport const getWheelColor = (): string => COLORS.WHEEL[Math.floor(Math.random() * COLORS.WHEEL.length)];\n\nexport const toPercents = (value: number): string => `${value}%`;\n\nexport const formatPercents = (value: number): string => `${Math.round(value * 100)}%`;\n\nexport const formatDegree = (value: number): string => `${value}°`;\n\nexport const formatSeconds = (value: number): string => `${value}c.`;\n\nexport const getDirtyValues = <T extends FieldValues>(\n  values: T,\n  dirtyFields: FieldNamesMarkedBoolean<T> = {},\n  defaultValues: T,\n): Partial<T> =>\n  Object.keys(dirtyFields).reduce(\n    (accum, key) => ({\n      ...accum,\n      [key]: values[key] === undefined ? defaultValues[key] : values[key],\n    }),\n    {},\n  );\n\nexport const shuffle = <T>(a: T[]): T[] => {\n  for (let i = a.length - 1; i > 0; i -= 1) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [a[i], a[j]] = [a[j], a[i]];\n  }\n  return a;\n};\n\nexport const isFirefox = (): boolean => navigator.userAgent.toLowerCase().includes('firefox');\n\nexport const getTotalSize = (items: WheelItem[]): number => items.reduce((acc, { amount }) => acc + (amount || 0), 0);\n\nexport const loadFile = (filename: string, data: string): void => {\n  const element = document.createElement(TAGS.A);\n  element.setAttribute(ATTRIBUTES.HREF, `data:text/plain;charset=utf-8,${encodeURIComponent(data)}`);\n  element.setAttribute(ATTRIBUTES.DOWNLOAD, filename);\n\n  document.body.appendChild(element);\n\n  element.click();\n\n  document.body.removeChild(element);\n};\n\nexport const getRandomIntInclusive = (min: number, max: number): number => {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nexport const getRandomInclusive = (min: number, max: number): number => {\n  return Math.random() * (max - min) + min;\n};\n\nexport const fitText = (text: string, maxLength: number): string =>\n  text.length > maxLength ? `${text.slice(0, maxLength)}...` : text;\n\nexport const createMapByKey = <TKey, TData>(\n  data: TData[],\n  keySelector: (record: TData) => TKey,\n  filter: (record: TData) => boolean,\n): Map<TKey, TData[]> => {\n  const map = new Map<TKey, TData[]>();\n\n  data.forEach((record: TData) => {\n    if (filter(record)) {\n      const restData = map.get(keySelector(record)) || [];\n\n      map.set(keySelector(record), [...restData, record]);\n    }\n  });\n\n  return map;\n};\n\nexport const percentsFormatter = (params: ValueGetterParams): CellValue => `${params.value}%`;\n\nexport const getUniqItems = <T>(items: T[], count: number): T[] => {\n  if (items.length <= count) {\n    return items;\n  }\n\n  const indexes: number[] = [];\n\n  while (indexes.length < count) {\n    const index = getRandomIntInclusive(0, items.length - 1);\n\n    if (!indexes.includes(index)) {\n      indexes.push(index);\n    }\n  }\n\n  return indexes.map((index) => items[index]);\n};\n\nexport const getTotal = <T>(items: T[], selectValue: (item: T) => number): number =>\n  items.reduce((acc, value) => acc + selectValue(value), 0);\n\nexport const randomizeItem = <T>(items: T[], selectValue: (item: T) => number): number => {\n  const seed = Math.random();\n  let restAmount = seed * getTotal(items, selectValue);\n\n  return items.findIndex((item) => {\n    restAmount -= Number(selectValue(item));\n\n    return restAmount <= 0;\n  });\n};\n","import { Key } from 'react';\n\nexport enum Side {\n  VISITOR,\n  HOME,\n}\n\nexport type ID = Key;\n\nexport interface SideInfo {\n  amount: number;\n  name: string;\n  sourceGame?: Game | null;\n  sourcePool?: object;\n  id: Key;\n  gameId?: Key;\n  side: Side;\n}\n\nexport interface Offset {\n  top: number;\n  bot: number;\n}\n\nexport interface Game {\n  id: ID;\n  x?: number;\n  y?: number;\n  // the game name\n  name: string;\n  // optional: the label for the game within the bracket, e.g. Gold Finals, Silver Semi-Finals\n  bracketLabel?: string;\n  // the unix timestamp of the game-will be transformed to a human-readable time using momentjs\n  scheduled?: number;\n\n  offset?: Offset;\n  level: number;\n  winner?: Side;\n  parentSide?: SideInfo;\n\n  court?: {\n    name: string;\n    venue: {\n      name: string;\n    };\n  };\n  sides: SideInfo[];\n}\n","export enum AlertTypeEnum {\n  Success = 'success',\n  Error = 'error',\n}\n\nexport interface AlertProps {\n  message: string;\n  type: AlertTypeEnum;\n  duration?: number;\n}\n\nexport interface AlertType extends AlertProps {\n  id: number;\n}\n","import { Key } from 'react';\nimport { Slot } from '../models/slot.model';\nimport { Purchase } from '../reducers/Purchases/Purchases';\nimport { Game, Side, SideInfo } from '../components/Bracket/components/model';\nimport { WheelItem } from '../models/wheel.model';\nimport { getWheelColor } from './common.utils';\n\ntype CreateSideFunc = (restItems: WheelItem[], side: Side, gameId: Key) => SideInfo;\n\nexport const getWinnerSlot = (slots: Slot[]): Slot =>\n  slots.reduce((winnerSlot, slot) => (Number(winnerSlot.amount) > Number(slot.amount) ? winnerSlot : slot));\n\nexport const normalizePurchase = ({ message, cost, ...restPurchase }: Purchase): Purchase => ({\n  message,\n  cost,\n  ...restPurchase,\n});\n\nexport const parseWheelPreset = (text: string): WheelItem[] => {\n  return text.split('\\n').map<WheelItem>((value, id) => ({ id: id.toString(), name: value, color: getWheelColor() }));\n};\n\nexport const parseSlotsPreset = (text: string): Slot[] => {\n  const items = text.split('\\n');\n\n  return items.map<Slot>((item, fastId) => {\n    const [name, amount = 1] = item.split(',');\n\n    return { name, amount: Number(amount), id: Math.random().toString(), fastId, extra: null };\n  });\n};\n\nexport const slotToWheel = ({ id, name, amount }: Slot): WheelItem => ({\n  id: id.toString(),\n  name: name || '',\n  amount: Number(amount),\n  color: getWheelColor(),\n});\n\nexport const getTotalSize = (slots: { amount?: number | null }[]): number =>\n  slots.reduce((accum, { amount }) => accum + Number(amount), 0);\n\nexport const getSlot = (slots: Slot[], slotId: string): Slot | undefined => slots.find(({ id }) => id === slotId);\n\nexport const splitSlotsWitchMostSimilarValues = (items: WheelItem[]): [WheelItem[], WheelItem[]] => {\n  const restSlots = [...items];\n  const a = [restSlots.splice(0, 1)[0]];\n  let aSize = Number(a[0]?.amount);\n  const b = [restSlots.splice(-1, 1)[0]];\n  let bSize = Number(b[0]?.amount);\n\n  while (restSlots.length > 0) {\n    if (aSize + Number(restSlots[0].amount) < bSize + Number(restSlots[restSlots.length - 1].amount)) {\n      aSize += Number(restSlots[0].amount);\n      a.unshift(restSlots.splice(0, 1)[0]);\n    } else {\n      bSize += Number(restSlots[restSlots.length - 1].amount);\n      b.unshift(restSlots.splice(-1, 1)[0]);\n    }\n  }\n\n  return [a, b];\n};\n\nconst getDuelSides = (items: WheelItem[], gameId: Key, createSide: CreateSideFunc): SideInfo[] => {\n  const [a, b] = splitSlotsWitchMostSimilarValues(items);\n  return [createSide(b, Side.VISITOR, gameId), createSide(a, Side.HOME, gameId)];\n};\n\nexport const createGame = (\n  items: WheelItem[],\n  level = 0,\n  matchOrder: Game[] = [],\n  parentSide?: SideInfo,\n  maxDepth?: number,\n): Game | null => {\n  if (!items.length) {\n    return null;\n  }\n\n  const createSide = (restItems: WheelItem[], side: Side, gameId: Key): SideInfo => {\n    const createdSide: SideInfo =\n      restItems.length === 1\n        ? {\n            amount: Number(restItems[0]?.amount),\n            name: restItems[0].name || '',\n            id: restItems[0].id,\n            side,\n            gameId,\n          }\n        : {\n            side,\n            amount: getTotalSize(restItems),\n            name: '',\n            id: Math.random(),\n            gameId,\n          };\n\n    if (restItems.length > 1) {\n      createdSide.sourceGame = createGame(restItems, level + 1, matchOrder, createdSide, maxDepth);\n    }\n\n    return createdSide;\n  };\n\n  const id = Math.random();\n  const shouldBeGrouped = maxDepth && level >= maxDepth;\n  const sides = shouldBeGrouped\n    ? items.map((item) => createSide([item], Side.VISITOR, id))\n    : getDuelSides(items, id, createSide);\n\n  const game: Game = { id, name: '', level, sides, parentSide };\n\n  matchOrder.push(game);\n\n  return game;\n};\n\nconst getOffset = ({ sides }: Game): number => Math.ceil(sides.length / 4);\n\nexport const setOffsets = (game: Game): Game => {\n  let botOffsets = { top: 0, bot: 0 };\n  let topOffsets = { top: 0, bot: 0 };\n  let visitorGame = game.sides[Side.VISITOR].sourceGame;\n  let homeGame = game.sides[Side.HOME].sourceGame;\n\n  if (visitorGame) {\n    visitorGame = setOffsets(visitorGame);\n    game.sides[Side.VISITOR].sourceGame = visitorGame;\n\n    botOffsets = visitorGame.offset || botOffsets;\n  }\n\n  if (homeGame) {\n    homeGame = setOffsets(homeGame);\n    game.sides[Side.HOME].sourceGame = homeGame;\n\n    topOffsets = homeGame.offset || topOffsets;\n  }\n\n  game.offset = {\n    top: topOffsets.top + topOffsets.bot + (homeGame ? getOffset(homeGame) : 0),\n    bot: botOffsets.bot + botOffsets.top + (visitorGame ? getOffset(visitorGame) : 0),\n  };\n\n  return game;\n};\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { AlertProps, AlertType } from '../../models/alert.model';\nimport { MAX_ALERTS } from '../../constants/common.constants';\n\ninterface NotificationsState {\n  message: string | null;\n  alerts: AlertType[];\n}\n\nconst initialState: NotificationsState = {\n  message: null,\n  alerts: [],\n};\n\nconst notificationsSlice = createSlice({\n  name: 'notifications',\n  initialState,\n  reducers: {\n    setNotification(state, action: PayloadAction<string | null>): void {\n      state.message = action.payload;\n    },\n    addAlert(state, action: PayloadAction<AlertProps>): void {\n      const updatedAlerts = [...state.alerts, { ...action.payload, id: Math.random() }];\n\n      if (updatedAlerts.length > MAX_ALERTS) {\n        updatedAlerts.splice(0, 1);\n      }\n\n      state.alerts = updatedAlerts;\n    },\n    deleteAlert(state, action: PayloadAction<number>): void {\n      state.alerts = state.alerts.filter(({ id }) => id !== action.payload);\n    },\n  },\n});\n\nexport const { setNotification, addAlert, deleteAlert } = notificationsSlice.actions;\n\nexport default notificationsSlice.reducer;\n","export enum CamilleList {\n  Games = 'subday',\n  Movies = 'submovie',\n}\n\nexport interface RequestsListInfo {\n  name: string;\n  uuid: string;\n  isSyncWithAuc: boolean;\n  command?: string;\n  subOnly?: boolean;\n  disabled?: boolean;\n  allData: UserRequest[];\n  winnersData: UserRequest[];\n}\n\nexport interface UserRequest {\n  username: string;\n  id: string;\n  request?: string;\n}\n","class SlotNamesMap extends Map<string, string> {\n  deleteBySlotId = (id: string): void => {\n    this.forEach((value, key) => {\n      if (id === value) {\n        this.delete(key);\n      }\n    });\n  };\n\n  updateName = (previousName: string, name: string, id: string): void => {\n    this.delete(previousName);\n    this.set(name, id);\n  };\n\n  set = (key: string, value: string): this => super.set(key.toLowerCase(), value);\n  get = (key: string): string | undefined => super.get(key.toLowerCase());\n}\n\nconst slotNamesMap = new SlotNamesMap();\n\nexport default slotNamesMap;\n","import { createSlice, PayloadAction, ThunkDispatch } from '@reduxjs/toolkit';\nimport { ReactText } from 'react';\nimport { Action } from 'redux';\nimport { normalizePurchase } from '../../utils/slots.utils';\nimport { RootState } from '../index';\nimport { createSlotFromPurchase, setSlotAmount } from '../Slots/Slots';\nimport { addAlert } from '../notifications/notifications';\nimport { AlertTypeEnum } from '../../models/alert.model';\nimport slotNamesMap from '../../services/SlotNamesMap';\nimport { PurchaseStatusEnum } from '../../models/purchase';\n\nexport interface Purchase {\n  timestamp: string;\n  cost: number;\n  username: string;\n  message: string;\n  color: string;\n  id: string;\n  rewardId?: string;\n  isDonation?: boolean;\n}\n\nexport interface PurchaseLog extends Purchase {\n  status: PurchaseStatusEnum;\n  target?: string;\n}\n\ninterface PurchasesState {\n  purchases: Purchase[];\n  history: PurchaseLog[];\n  draggedRedemption: Purchase | null;\n}\n\nconst initialState: PurchasesState = {\n  purchases: [],\n  history: [],\n  draggedRedemption: null,\n};\n\nconst purchasesSlice = createSlice({\n  name: 'purchases',\n  initialState,\n  reducers: {\n    addPurchaseLog(state, action: PayloadAction<PurchaseLog>): void {\n      state.history = [...state.history, action.payload];\n    },\n    addPurchase(state, action: PayloadAction<Purchase>): void {\n      state.purchases = [...state.purchases, action.payload];\n    },\n    removePurchase(state, action: PayloadAction<ReactText>): void {\n      state.purchases = state.purchases.filter(({ id }) => id !== action.payload);\n    },\n    resetPurchases(state): void {\n      state.purchases = [];\n    },\n    setDraggedRedemption(state, action: PayloadAction<Purchase | null>): void {\n      state.draggedRedemption = action.payload;\n    },\n    updateBid(state, action: PayloadAction<Purchase>): void {\n      const index = state.purchases.findIndex(({ id }) => id === action.payload?.id);\n\n      if (index !== -1) {\n        state.purchases[index] = action.payload;\n      }\n    },\n  },\n});\n\nexport const { addPurchase, removePurchase, addPurchaseLog, resetPurchases, setDraggedRedemption, updateBid } =\n  purchasesSlice.actions;\n\nexport const logPurchase =\n  (bid: PurchaseLog) =>\n  (dispatch: ThunkDispatch<RootState, {}, Action>, getState: () => RootState): void => {\n    const { pointsRate } = getState().aucSettings.integration.da;\n    const { cost, isDonation } = bid;\n\n    dispatch(\n      addPurchaseLog({ ...bid, timestamp: new Date().toISOString(), cost: isDonation ? cost * pointsRate : cost }),\n    );\n  };\n\nexport const fastAddBid =\n  (bid: Purchase, slotId: string) =>\n  (dispatch: ThunkDispatch<RootState, {}, Action>, getState: () => RootState): void => {\n    const {\n      slots: { slots },\n      aucSettings: {\n        settings: { marbleRate = 1, marblesAuc },\n        integration: {\n          da: { pointsRate },\n        },\n      },\n    } = getState();\n\n    const convertToMarble = (cost: number): number => Math.floor(cost / marbleRate);\n\n    const convertCost = (cost: number): number => (marblesAuc ? convertToMarble(cost) : cost);\n\n    const { cost: rawCost, username, message } = bid;\n    const similarSlot = slots.find(({ id }) => id === slotId);\n\n    if (similarSlot) {\n      const { id, amount, name } = similarSlot;\n      const addedCost = bid.isDonation ? rawCost * pointsRate : rawCost;\n      const cost = convertCost(addedCost);\n      const alertMessage = `${username} добавил ${cost} к \"${name}\" (\"${message}\")!`;\n\n      dispatch(setSlotAmount({ id, amount: Number(amount) + cost }));\n      dispatch(logPurchase({ ...bid, status: PurchaseStatusEnum.Processed, target: id.toString(), cost }));\n      dispatch(addAlert({ type: AlertTypeEnum.Success, message: alertMessage }));\n    }\n  };\n\nexport const processRedemption =\n  (redemption: Purchase) =>\n  (dispatch: ThunkDispatch<RootState, {}, Action>, getState: () => RootState): void => {\n    const {\n      aucSettings: {\n        settings: { marbleRate = 1, marblesAuc, marbleCategory },\n        integration: {\n          twitch: { alwaysAddNew },\n        },\n      },\n    } = getState();\n    const normalizedBid = normalizePurchase(redemption);\n    const similarSlotId = slotNamesMap.get(normalizedBid.message);\n    const convertToMarble = (cost: number): number => {\n      const minValue = marbleCategory || 0;\n\n      if (cost < minValue) {\n        return 0;\n      }\n      const total = cost - minValue;\n\n      return Math.floor(total / marbleRate) + 1;\n    };\n    const convertCost = (cost: number): number => (marblesAuc ? convertToMarble(cost) : cost);\n    const cost = convertCost(normalizedBid.cost);\n\n    if (similarSlotId) {\n      dispatch(fastAddBid(normalizedBid, similarSlotId));\n    } else if (alwaysAddNew) {\n      dispatch(createSlotFromPurchase({ ...normalizedBid, cost }));\n    } else {\n      dispatch(addPurchase(normalizedBid));\n    }\n  };\n\nexport const updateExistBids = (dispatch: ThunkDispatch<RootState, {}, Action>, getState: () => RootState): void => {\n  const {\n    purchases: { purchases },\n  } = getState();\n\n  purchases.forEach((bid) => {\n    const similarSlotId = slotNamesMap.get(bid.message);\n\n    if (similarSlotId) {\n      dispatch(fastAddBid(bid, similarSlotId));\n      dispatch(removePurchase(bid.id));\n    }\n  });\n};\n\nexport default purchasesSlice.reducer;\n","import { createSlice, PayloadAction, ThunkDispatch } from '@reduxjs/toolkit';\nimport { ReactText } from 'react';\nimport { Action } from 'redux';\nimport { Slot } from '../../models/slot.model';\nimport { logPurchase, Purchase, removePurchase } from '../Purchases/Purchases';\nimport { RootState } from '../index';\nimport { getRandomIntInclusive, sortSlots } from '../../utils/common.utils';\nimport slotNamesMap from '../../services/SlotNamesMap';\nimport { PurchaseStatusEnum } from '../../models/purchase';\n\ninterface SlotsState {\n  slots: Slot[];\n  searchTerm: string;\n}\n\nlet maxFastId = 0;\n\nconst createSlot = (props: Partial<Slot> = {}): Slot => {\n  const slot = {\n    // eslint-disable-next-line no-plusplus\n    fastId: ++maxFastId,\n    id: Math.random().toString(),\n    extra: null,\n    amount: null,\n    name: '',\n    ...props,\n  };\n\n  slotNamesMap.set(`#${slot.fastId}`, slot.id);\n\n  return slot;\n};\n\nexport const createRandomSlots = (count: number, max: number, min = 1): Slot[] =>\n  sortSlots(\n    Array(count)\n      .fill(null)\n      .map(() => {\n        const amount = getRandomIntInclusive(min, max);\n\n        return createSlot({ amount, name: amount.toString() });\n      }),\n  );\n\nconst initialState: SlotsState = {\n  slots: [createSlot()],\n  searchTerm: '',\n  // slots: [\n  // ...createRandomSlots(2, 20000, 10000),\n  // ...createRandomSlots(5, 10000, 500),\n  // ...createRandomSlots(4, 650, 600),\n  // ...createRandomSlots(100, 300, 100),\n  // ],\n  // slots: [createSlot({ amount: 50, name: '1' }), createSlot({ amount: 50, name: '2' })],\n  // slots: [...new Array(6).fill(null).map(() => createSlot({ amount: 100, name: '100' }))],\n};\n\nconst getAmountSum = (slot: Slot): number | null => (slot.extra ? Number(slot.amount) + slot.extra : slot.amount);\n\nconst updateSlotPosition = (slots: Slot[], index: number): void => {\n  if (Number(slots[index].amount) >= Number(slots[0].amount)) {\n    slots.unshift(slots.splice(index, 1)[0]);\n  }\n};\n\nconst updateSlotAmount = (slots: Slot[], updatedId: ReactText, transform: (slot: Slot) => Slot): void => {\n  const updatedIndex = slots.findIndex(({ id }) => updatedId === id);\n\n  slots[updatedIndex] = transform(slots[updatedIndex]);\n  updateSlotPosition(slots, updatedIndex);\n};\n\nconst slotsSlice = createSlice({\n  name: 'slots',\n  initialState,\n  reducers: {\n    setSlotName(state, action: PayloadAction<{ id: string; name: string }>): void {\n      const { id, name } = action.payload;\n      state.slots = state.slots.map((slot) => {\n        if (slot.id === id) {\n          slotNamesMap.updateName(slot.name || '', name, slot.id);\n\n          return { ...slot, name };\n        }\n\n        return slot;\n      });\n    },\n    addSlotAmount(state, action: PayloadAction<{ id: ReactText; amount: number }>): void {\n      const { id, amount } = action.payload;\n      updateSlotAmount(state.slots, id, (slot) => ({ ...slot, amount: (slot.amount || 0) + amount }));\n    },\n    setSlotAmount(state, action: PayloadAction<{ id: ReactText; amount: number }>): void {\n      const { id, amount } = action.payload;\n      updateSlotAmount(state.slots, id, (slot) => ({ ...slot, amount }));\n    },\n    setSlotExtra(state, action: PayloadAction<{ id: ReactText; extra: number }>): void {\n      const { id, extra } = action.payload;\n      state.slots = state.slots.map((slot) => (slot.id === id ? { ...slot, extra } : slot));\n    },\n    addExtra(state, action: PayloadAction<ReactText>): void {\n      const id = action.payload;\n      updateSlotAmount(state.slots, id, (slot) => ({ ...slot, extra: null, amount: getAmountSum(slot) }));\n    },\n    deleteSlot(state, action: PayloadAction<string>): void {\n      const deletedId = action.payload;\n      slotNamesMap.deleteBySlotId(deletedId);\n\n      if (state.slots.length === 1) {\n        state.slots = [createSlot()];\n      } else {\n        state.slots = state.slots.filter(({ id }) => deletedId !== id);\n      }\n    },\n    addSlot(state, action?: PayloadAction<Partial<Slot>>): void {\n      const newSlot = { ...createSlot(), ...action?.payload };\n      state.slots = [...state.slots, newSlot];\n      slotNamesMap.set(`#${maxFastId}`, newSlot.id);\n    },\n    resetSlots(state): void {\n      state.slots = initialState.slots;\n      slotNamesMap.clear();\n    },\n    setSlots(state, action: PayloadAction<Slot[]>): void {\n      state.slots = action.payload;\n    },\n    setSearchTerm(state, action: PayloadAction<string>): void {\n      state.searchTerm = action.payload;\n    },\n  },\n});\n\nexport const {\n  setSlotAmount,\n  setSlotExtra,\n  setSlotName,\n  addExtra,\n  addSlot,\n  deleteSlot,\n  resetSlots,\n  setSlots,\n  addSlotAmount,\n  setSearchTerm,\n} = slotsSlice.actions;\n\nexport const createSlotFromPurchase =\n  (bid: Purchase) =>\n  (dispatch: ThunkDispatch<RootState, {}, Action>, getState: () => RootState): void => {\n    const {\n      aucSettings: {\n        integration: {\n          da: { pointsRate },\n        },\n      },\n      slots: { slots },\n    } = getState();\n    const { id, message: name, cost, isDonation } = bid;\n    // eslint-disable-next-line no-plusplus\n    const newSlot: Slot = { id, name, amount: isDonation ? cost * pointsRate : cost, extra: null, fastId: ++maxFastId };\n    const updatedSlots = [...slots, newSlot];\n    slotNamesMap.set(name, id);\n    slotNamesMap.set(`#${maxFastId}`, id);\n\n    updateSlotPosition(updatedSlots, updatedSlots.length - 1);\n    dispatch(setSlots(sortSlots(updatedSlots)));\n    dispatch(logPurchase({ ...bid, status: PurchaseStatusEnum.Processed, target: id.toString(), cost }));\n  };\n\nexport const addBid =\n  (slotId: string, bid: Purchase) =>\n  (dispatch: ThunkDispatch<RootState, {}, Action>, getState: () => RootState): void => {\n    const {\n      aucSettings: {\n        settings: { marbleRate = 1, marblesAuc },\n        integration: {\n          da: { pointsRate },\n        },\n      },\n      slots: { slots },\n    } = getState();\n\n    if (!slots.find(({ id }) => id === slotId)) {\n      return;\n    }\n\n    const convertToMarble = (cost: number): number => Math.floor(cost / marbleRate);\n    const convertCost = (cost: number): number => (marblesAuc ? convertToMarble(cost) : cost);\n    const { message, cost, isDonation, id } = bid;\n    const addedCost = isDonation ? cost * pointsRate : cost;\n\n    slotNamesMap.set(message, slotId);\n    dispatch(addSlotAmount({ id: slotId, amount: convertCost(addedCost) }));\n    dispatch(logPurchase({ ...bid, status: PurchaseStatusEnum.Processed, target: slotId }));\n    dispatch(removePurchase(id));\n  };\n\nexport default slotsSlice.reducer;\n","import { Slot } from '../models/slot.model';\n\nexport const percentsRefMap = new Map<string, HTMLSpanElement>();\n\nconst getValidAmount = (amount: number | null): number => (amount && amount > 0 ? amount : 0);\n\nexport const updatePercents = (slots: Slot[], chanceRefMap = percentsRefMap): void => {\n  const totalSum = slots.reduce((accum, { amount }) => accum + getValidAmount(amount), 0) || 1;\n\n  slots.forEach(({ id, amount }) => {\n    const ref = chanceRefMap.get(id);\n\n    if (ref) {\n      ref.innerHTML = `${((getValidAmount(amount) / totalSum) * 100).toFixed(1) || 0}%`;\n    }\n  });\n};\n","import React, { memo, useCallback, useEffect, useRef, useState } from 'react';\nimport { IconButton, OutlinedInput } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport './Slot.scss';\nimport './SlotCompact.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FilledInputProps } from '@material-ui/core/FilledInput';\nimport { useTranslation } from 'react-i18next';\nimport { Slot } from '../../../models/slot.model';\nimport { addExtra, addSlot, setSlotAmount, setSlotExtra, setSlotName } from '../../../reducers/Slots/Slots';\nimport { animateValue } from '../../../utils/common.utils';\nimport { RootState } from '../../../reducers';\nimport { percentsRefMap } from '../../../services/PercentsRefMap';\n\nconst SlotComponent: React.FC<Slot> = ({ id, extra, amount, name }) => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { marblesAuc, showChances } = useSelector((root: RootState) => root.aucSettings.settings);\n  const [currentName, setCurrentName] = useState(name);\n  const [currentExtra, setCurrentExtra] = useState(extra);\n  const amountInput = useRef<HTMLInputElement>(null);\n  const percentsRef = useRef<HTMLSpanElement>(null);\n\n  useEffect(() => {\n    if (percentsRef.current) {\n      percentsRefMap.set(id, percentsRef.current);\n    }\n\n    return (): void => {\n      percentsRefMap.delete(id);\n    };\n  }, [id, showChances]);\n\n  const handleNameBlur: FilledInputProps['onBlur'] = (e): void => {\n    dispatch(setSlotName({ id, name: e.target.value }));\n  };\n  const handleNameChange: FilledInputProps['onChange'] = (e): void => {\n    setCurrentName(e.target.value);\n  };\n\n  const handleExtraBlur: FilledInputProps['onBlur'] = (e): void => {\n    dispatch(setSlotExtra({ id, extra: Number(e.target.value) }));\n  };\n  const handleExtraChange: FilledInputProps['onChange'] = (e): void => {\n    setCurrentExtra(Number(e.target.value));\n  };\n\n  const handleAddExtra = (): void => {\n    dispatch(addExtra(id));\n  };\n\n  const confirmAmount = useCallback(() => {\n    dispatch(setSlotAmount({ id, amount: Number(amountInput.current?.value) }));\n  }, [dispatch, id]);\n\n  const addExtraAmountOnEnter = (e: any): void => {\n    if (e.key === 'Enter') {\n      dispatch(setSlotExtra({ id, extra: Number(currentExtra) }));\n      setCurrentExtra(null);\n      handleAddExtra();\n      e.preventDefault();\n    }\n  };\n\n  const createNewSlotOnEnter = (e: any): void => {\n    const inputAmount = Number(amountInput.current?.value) || null;\n    const isAmountChanged = amount !== inputAmount;\n\n    if (e.key === 'Enter' && !isAmountChanged) {\n      dispatch(addSlot({}));\n    }\n  };\n\n  useEffect(() => {\n    if (amountInput.current) {\n      amountInput.current.onchange = confirmAmount;\n    }\n  }, [confirmAmount]);\n\n  useEffect(() => {\n    if (amountInput.current) {\n      if (amount === null) {\n        amountInput.current.value = '';\n      } else {\n        animateValue(\n          amountInput.current,\n          Number(amountInput.current.value),\n          Number(amount),\n          marblesAuc ? 0 : undefined,\n        );\n      }\n    }\n  }, [amount, marblesAuc]);\n  useEffect(() => setCurrentName(name), [name]);\n  useEffect(() => setCurrentExtra(extra), [extra]);\n\n  const extraLength = Number(currentExtra?.toString().length);\n  const extraFieldWidth = `${extraLength > 3 ? 5 + extraLength : 8}ch`;\n\n  return (\n    <>\n      <OutlinedInput\n        className=\"slot-name slot-input\"\n        placeholder={t('auc.lotName')}\n        onBlur={handleNameBlur}\n        onChange={handleNameChange}\n        onKeyPress={createNewSlotOnEnter}\n        value={currentName}\n      />\n      {showChances && <span className=\"slot-chance\" ref={percentsRef} />}\n      <OutlinedInput\n        className=\"slot-money slot-input\"\n        placeholder={t('common.currencySign')}\n        inputRef={amountInput}\n        onKeyPress={createNewSlotOnEnter}\n        type=\"number\"\n      />\n      <IconButton className=\"slot-add-extra\" onClick={handleAddExtra} title=\"Прибавить стоимость\">\n        <AddIcon />\n      </IconButton>\n      <OutlinedInput\n        className=\"slot-money slot-input\"\n        style={{ width: extraFieldWidth }}\n        placeholder={t('common.currencySign')}\n        onBlur={handleExtraBlur}\n        onChange={handleExtraChange}\n        value={currentExtra || ''}\n        type=\"number\"\n        onKeyPress={addExtraAmountOnEnter}\n      />\n    </>\n  );\n};\n\nexport default memo(SlotComponent);\n","import { useSelector } from 'react-redux';\nimport { ReactText, useCallback } from 'react';\nimport { RootState } from '../reducers';\n\ninterface UseCostConvertResult {\n  getMarblesAmount: (cost: number, newSlot?: boolean) => number;\n  formatMarblesCost: (cost: number) => ReactText;\n}\n\nexport const useCostConvert = (): UseCostConvertResult => {\n  const {\n    settings: { marblesAuc, marbleCategory = 1, marbleRate = 1 },\n  } = useSelector((root: RootState) => root.aucSettings);\n\n  const convertToMarble = useCallback(\n    (cost: number, newSlot: boolean): number => {\n      const minValue = newSlot ? marbleCategory : marbleRate;\n\n      if (cost < minValue) {\n        return 0;\n      }\n      const total = cost - minValue;\n\n      return Math.floor(total / marbleRate) + 1;\n    },\n    [marbleCategory, marbleRate],\n  );\n\n  const getMarblesAmount = useCallback(\n    (cost: number, newSlot = false): number => (marblesAuc ? convertToMarble(cost, newSlot) : cost),\n    [convertToMarble, marblesAuc],\n  );\n\n  const formatMarblesCost = useCallback(\n    (cost: number): ReactText => {\n      if (!marblesAuc) {\n        return cost;\n      }\n\n      const newSlotCost = convertToMarble(cost, true);\n      const addToSlotCost = convertToMarble(cost, false);\n\n      return newSlotCost === addToSlotCost ? newSlotCost : `${newSlotCost}|${addToSlotCost}`;\n    },\n    [convertToMarble, marblesAuc],\n  );\n\n  return {\n    getMarblesAmount,\n    formatMarblesCost,\n  };\n};\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { Trailer } from '../../models/extraWindows';\n\ninterface ExtraWindowsState {\n  trailers: Trailer[];\n}\n\nconst initialState: ExtraWindowsState = {\n  trailers: [],\n};\n\nconst extraWindowsSlice = createSlice({\n  name: 'extraWindows',\n  initialState,\n  reducers: {\n    openTrailer(state, action: PayloadAction<string>): void {\n      state.trailers = [...state.trailers, { title: action.payload, id: Math.random() }];\n    },\n    closeTrailer(state, action: PayloadAction<number>): void {\n      state.trailers = state.trailers.filter(({ id }) => id !== action.payload);\n    },\n  },\n});\n\nexport const { openTrailer, closeTrailer } = extraWindowsSlice.actions;\n\nexport default extraWindowsSlice.reducer;\n","import React, { DragEvent, useCallback, useRef, useState } from 'react';\nimport './Slot.scss';\nimport { IconButton, Menu, MenuItem, Typography } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport { useDispatch, useSelector } from 'react-redux';\nimport classNames from 'classnames';\nimport SlotComponent from './SlotComponent';\nimport { deleteSlot, setSlotAmount, setSlotName } from '../../../reducers/Slots/Slots';\nimport { Slot } from '../../../models/slot.model';\nimport { RootState } from '../../../reducers';\nimport {\n  logPurchase,\n  Purchase,\n  removePurchase,\n  setDraggedRedemption,\n  updateExistBids,\n} from '../../../reducers/Purchases/Purchases';\nimport slotNamesMap from '../../../services/SlotNamesMap';\nimport { useCostConvert } from '../../../hooks/useCostConvert';\nimport { openTrailer } from '../../../reducers/ExtraWindows/ExtraWindows';\nimport { handleDragOver } from '../../../utils/common.utils';\nimport { PurchaseStatusEnum } from '../../../models/purchase';\n\ninterface DroppableSlotProps extends Slot {\n  index: number;\n}\n\nconst DroppableSlot: React.FC<DroppableSlotProps> = ({ index, ...slotProps }) => {\n  const dispatch = useDispatch();\n  const { background } = useSelector((root: RootState) => root.aucSettings.settings);\n  const {\n    da: { pointsRate },\n  } = useSelector((root: RootState) => root.aucSettings.integration);\n  const [isExtraOpen, setIsExtraOpen] = useState<boolean>(false);\n  const extraIcon = useRef<HTMLButtonElement>(null);\n  const { id, amount, name } = slotProps;\n  const slotElement = useRef<HTMLDivElement>(null);\n  const enterCounter = useRef<number>(0);\n\n  const { getMarblesAmount } = useCostConvert();\n\n  const resetOverStyle = useCallback(() => {\n    enterCounter.current = 0;\n\n    requestAnimationFrame(() => {\n      if (slotElement.current) {\n        slotElement.current.classList.remove('drag-over');\n        slotElement.current.classList.remove('remove-cost');\n      }\n    });\n  }, []);\n\n  const updateOverStyle = useCallback(\n    (enterCounterChange: number, isRemove?: boolean) => {\n      enterCounter.current += enterCounterChange;\n\n      if (enterCounter.current > 0) {\n        requestAnimationFrame(() => {\n          if (slotElement.current) {\n            slotElement.current.classList.add('drag-over');\n\n            if (isRemove) {\n              slotElement.current.classList.add('remove-cost');\n            }\n          }\n        });\n      } else {\n        resetOverStyle();\n      }\n    },\n    [resetOverStyle],\n  );\n\n  const handleDelete = (): void => {\n    dispatch(deleteSlot(id));\n  };\n\n  const slotWrapperClasses = classNames('slot-wrapper', { 'custom-background': background });\n\n  const handleDrop = useCallback(\n    (e: DragEvent<HTMLDivElement>) => {\n      const redemption: Purchase = JSON.parse(e.dataTransfer.getData('redemption'));\n      const { cost, message, isDonation, id: redemptionId } = redemption;\n      const addedCost = isDonation ? cost * pointsRate : cost;\n\n      slotNamesMap.set(message, id);\n      dispatch(setSlotAmount({ id, amount: Number(amount) + getMarblesAmount(addedCost, !amount) }));\n      dispatch(logPurchase({ ...redemption, status: PurchaseStatusEnum.Processed, target: id.toString() }));\n      dispatch(removePurchase(redemptionId));\n      dispatch(setDraggedRedemption(null));\n      dispatch(updateExistBids);\n\n      if (!name) {\n        dispatch(setSlotName({ id, name: message }));\n      }\n      resetOverStyle();\n    },\n    [amount, getMarblesAmount, dispatch, id, name, pointsRate, resetOverStyle],\n  );\n\n  const handleDragEnter = useCallback(\n    (e: DragEvent<HTMLDivElement>) => {\n      updateOverStyle(1, e.dataTransfer.types.includes('remove'));\n    },\n    [updateOverStyle],\n  );\n\n  const handleDragLeave = useCallback(() => {\n    updateOverStyle(-1);\n  }, [updateOverStyle]);\n\n  const openExtra = useCallback(() => setIsExtraOpen(true), []);\n  const closeExtra = useCallback(() => setIsExtraOpen(false), []);\n\n  const handleOpenTrailer = useCallback(() => {\n    closeExtra();\n    dispatch(openTrailer(name || ''));\n  }, [closeExtra, dispatch, name]);\n\n  return (\n    <div\n      className={slotWrapperClasses}\n      onDragOver={handleDragOver}\n      onDrop={handleDrop}\n      onDragEnter={handleDragEnter}\n      onDragLeave={handleDragLeave}\n    >\n      <div className=\"slot\" ref={slotElement}>\n        <Typography className=\"slot-index\">{`${index}.`}</Typography>\n        <Typography className=\"slot-fast-index\">{`#${slotProps.fastId}`}</Typography>\n        <SlotComponent {...slotProps} />\n      </div>\n      <IconButton onClick={handleDelete} className=\"delete-button\" title=\"Удалить слот\">\n        <DeleteIcon />\n      </IconButton>\n      <IconButton\n        onClick={openExtra}\n        className=\"delete-button\"\n        title=\"Дополнительно\"\n        aria-controls=\"extra\"\n        ref={extraIcon}\n      >\n        <MoreHorizIcon />\n      </IconButton>\n      <Menu\n        id=\"extra\"\n        open={isExtraOpen}\n        onClose={closeExtra}\n        anchorEl={extraIcon.current}\n        PaperProps={{ style: { width: '20ch' } }}\n        TransitionProps={{ timeout: 100 }}\n      >\n        <MenuItem onClick={handleOpenTrailer}>Трейлер</MenuItem>\n      </Menu>\n    </div>\n  );\n};\n\nexport default DroppableSlot;\n","import React, { FC, memo } from 'react';\nimport { Grid } from '@material-ui/core';\nimport FlipMove from 'react-flip-move';\nimport { useSelector } from 'react-redux';\nimport DroppableSlot from '../Slot/DroppableSlot';\nimport { Slot } from '../../../models/slot.model';\nimport { RootState } from '../../../reducers';\n\ninterface SlotsListProps {\n  slots: Slot[];\n}\n\nconst SlotsList: FC<SlotsListProps> = ({ slots }) => {\n  const { compact } = useSelector((root: RootState) => root.aucSettings.view);\n  return (\n    <Grid container className=\"slots-column-list\" spacing={1}>\n      {compact ? (\n        <div className=\"compact-view\">\n          {slots.map((slot, index) => (\n            <Grid key={slot.id} item xs={12}>\n              <DroppableSlot index={index + 1} {...slot} />\n            </Grid>\n          ))}\n        </div>\n      ) : (\n        <FlipMove typeName={null} enterAnimation=\"fade\" leaveAnimation=\"fade\" maintainContainerHeight>\n          {slots.map((slot, index) => (\n            <Grid className=\"slot-grid-wrapper\" key={slot.id} item xs={12}>\n              <DroppableSlot index={index + 1} {...slot} />\n            </Grid>\n          ))}\n        </FlipMove>\n      )}\n    </Grid>\n  );\n};\n\nexport default memo(SlotsList);\n","import { DeepPartial } from 'react-hook-form';\nimport ENDPOINTS from '../constants/api.constants';\nimport { IntegrationFields, SettingFields } from '../reducers/AucSettings/AucSettings';\nimport { GetUserDto } from '../models/user.model';\nimport { UserInfo } from '../reducers/User/User';\nimport { axios } from './axios';\n\nexport const getUsername = async (): Promise<UserInfo> => {\n  throw new Error('no network');\n  // const { data } = await axios.get(ENDPOINTS.USER.USERNAME);\n\n  // return data;\n};\n\nexport const updateSettings = async (settings: DeepPartial<SettingFields>): Promise<void> => {\n  throw new Error('no network');\n  // await axios.put(ENDPOINTS.USER.SETTINGS, settings);\n};\n\nexport const updateIntegration = async (integration: DeepPartial<IntegrationFields>): Promise<void> => {\n  throw new Error('no network');\n  // await axios.put(ENDPOINTS.USER.INTEGRATION, integration);\n};\n\nexport const getUserData = async (): Promise<GetUserDto> => {\n  throw new Error('no network');\n  // const { data } = await axios.get(ENDPOINTS.USER.DATA);\n  //\n  // return data;\n};\n\nexport const getIsCanRestoreSettings = async (id: string): Promise<boolean> => {\n  throw new Error('no network');\n  // const { data } = await axios.get(ENDPOINTS.RESTORE_SETTINGS.HAS_USER, { params: { id } });\n  //\n  // return data;\n};\n\nexport const postRestoreSettings = async (id: string): Promise<void> => {\n  throw new Error('no network');\n  // await axios.post(ENDPOINTS.RESTORE_SETTINGS.RESTORE_SETTINGS, { id });\n};\n\nexport const validateIntegrations = async (): Promise<void> => {\n  throw new Error('no network');\n  // await axios.get(ENDPOINTS.USER.VALIDATE_INTEGRATIONS);\n};\n","import { axios } from './axios';\nimport { CamilleList } from '../models/requests.model';\nimport ENDPOINTS from '../constants/api.constants';\n\nexport const getCamilleBotData = async (\n  username: string,\n  listKey: CamilleList,\n): Promise<Record<string, string> | 'You are not registred in camille-bot.'> => {\n  throw new Error('no network');\n  // const { data } = await axios.get(ENDPOINTS.CAMILLE_BOT, {\n  //   params: { username, listKey },\n  // });\n  //\n  // return data;\n};\n","export interface PatchRedemptionDto {\n  rewardId: string;\n  redemptionId: string;\n  status: string;\n}\n\nexport enum RedemptionStatus {\n  Canceled = 'CANCELED',\n  Unfulfilled = 'UNFULFILLED',\n  Fulfilled = 'FULFILLED',\n}\n","import { ChatUserstate, Client } from 'tmi.js';\nimport { chatBotToken } from '../constants/ignoredTokens';\n\ntype CommandCallback = (user: ChatUserstate, payload?: string) => void;\ntype ChatMessageHandler = (_channel: string, user: ChatUserstate, message: string) => void;\n\nexport class KeyListenersClient extends Client {\n  commandListeners = new Map<string, ChatMessageHandler>();\n\n  constructor(channel: string) {\n    super({\n      identity: {\n        username: 'skipsome_bot',\n        password: process.env.chatBotToken || chatBotToken,\n      },\n      channels: [channel],\n    });\n  }\n\n  createCommandHandler =\n    (command: string, callback: CommandCallback): ChatMessageHandler =>\n    (_channel: string, user: ChatUserstate, message: string): void => {\n      const regExp = new RegExp(`^${command}(?:$|\\\\s+(.*))`);\n      const regExpResult = regExp.exec(message);\n\n      if (regExpResult) {\n        callback(user, regExpResult[1]);\n      }\n    };\n\n  removeCommandListener(command: string): void {\n    const callback = this.commandListeners.get(command);\n\n    if (callback) {\n      this.removeListener('message', callback);\n      this.commandListeners.delete(command);\n    }\n  }\n\n  listenCommand(command: string, callback: CommandCallback): void {\n    if (!this.commandListeners.size) {\n      this.connect();\n    }\n\n    const handler = this.createCommandHandler(command, callback);\n\n    this.removeCommandListener(command);\n    this.commandListeners.set(command, handler);\n    this.addListener('message', handler);\n  }\n\n  unListenCommand(command: string): void {\n    this.removeCommandListener(command);\n\n    if (!this.commandListeners.size) {\n      this.disconnect();\n    }\n  }\n}\n","export const chatBotToken = 'oauth:x5mb08s1lyszezcmqoquz0du10jxbk';\n","import { createSlice, PayloadAction, ThunkDispatch } from '@reduxjs/toolkit';\nimport { Action } from 'redux';\nimport { CamilleList, RequestsListInfo, UserRequest } from '../../models/requests.model';\nimport { RootState } from '../index';\nimport { getCamilleBotData } from '../../api/requestsApi';\nimport { addAlert } from '../notifications/notifications';\nimport { AlertTypeEnum } from '../../models/alert.model';\nimport { KeyListenersClient } from '../../services/ChatService';\nimport { addSlot, deleteSlot, setSlotName } from '../Slots/Slots';\nimport { getSlot } from '../../utils/slots.utils';\n\ninterface RequestsState {\n  lists: RequestsListInfo[];\n  currentList: string;\n  isLoading: boolean;\n  chatClient: KeyListenersClient | null;\n}\n\ntype ListData<T> = { listId?: string; data: T };\ntype ListAction<T> = PayloadAction<ListData<T>>;\n\nconst CamilleBotLists: RequestsListInfo[] = [\n  {\n    name: 'Игры сабов (Camille_Bot)',\n    uuid: CamilleList.Games,\n    disabled: true,\n    allData: [],\n    winnersData: [],\n    isSyncWithAuc: false,\n  },\n  {\n    name: 'Фильмы сабов (Camille_Bot)',\n    uuid: CamilleList.Movies,\n    disabled: true,\n    allData: [],\n    winnersData: [],\n    isSyncWithAuc: false,\n  },\n];\n\nconst initialState: RequestsState = {\n  lists: CamilleBotLists,\n  currentList: CamilleBotLists[0].uuid,\n  isLoading: false,\n  chatClient: null,\n};\n\nconst getListIndex = (state: RequestsState, id: string): number => state.lists.findIndex(({ uuid }) => uuid === id);\nexport const getList = (lists: RequestsListInfo[], id: string): RequestsListInfo =>\n  lists.find(({ uuid }) => uuid === id) as RequestsListInfo;\n\nconst requestsSlice = createSlice({\n  name: 'requests',\n  initialState,\n  reducers: {\n    initChatClient(state, { payload }: PayloadAction<string>): void {\n      state.chatClient = new KeyListenersClient(payload);\n    },\n    setIsLoading(state, { payload }: PayloadAction<boolean>): void {\n      state.isLoading = payload;\n    },\n    setCurrentList(state, { payload }: PayloadAction<string>): void {\n      state.currentList = payload;\n    },\n    addRequestsList(state, action: PayloadAction<RequestsListInfo>): void {\n      state.lists = [...state.lists, action.payload];\n    },\n    deleteRequestsList(state, action: PayloadAction<string>): void {\n      state.lists = state.lists.filter(({ uuid }) => action.payload !== uuid);\n    },\n    updateRequestsList(\n      state: RequestsState,\n      action: PayloadAction<{ id: string; data: Partial<RequestsListInfo> }>,\n    ): void {\n      const { data, id } = action.payload;\n      state.lists = state.lists.map((request) => (id === request.uuid ? { ...request, ...data } : request));\n    },\n    addRequest(state, { payload: { listId = state.currentList, data } }: ListAction<UserRequest>): void {\n      const index = getListIndex(state, listId);\n      const dataIndex = state.lists[index].allData.findIndex(({ id }) => id === data.id);\n\n      if (dataIndex === -1) {\n        state.lists[index].allData = [...state.lists[index].allData, data];\n      } else {\n        const arr = [...state.lists[index].allData];\n\n        arr[dataIndex] = data;\n        state.lists[index].allData = arr;\n      }\n    },\n    // deleteRequest(state, { payload: { listId = state.currentList, data } }: ListAction<string>): void {\n    //   const index = getListIndex(state, listId);\n    //   state.lists[index].allData = state.lists[index].allData.filter(({ id }) => data !== id);\n    // },\n    setAllData(state, { payload: { listId = state.currentList, data } }: ListAction<UserRequest[]>): void {\n      state.lists[getListIndex(state, listId)].allData = data;\n    },\n    addRequestWinner(state, { payload: { listId = state.currentList, data } }: ListAction<UserRequest>): void {\n      const index = getListIndex(state, listId);\n      state.lists[index].winnersData = [...state.lists[index].winnersData, data];\n    },\n    deleteRequestWinner(state, { payload: { listId = state.currentList, data } }: ListAction<string>): void {\n      const index = getListIndex(state, listId);\n      state.lists[index].winnersData = state.lists[index].winnersData.filter(({ id }) => data !== id);\n    },\n    setWinnersData(state, { payload: { listId = state.currentList, data } }: ListAction<UserRequest[]>): void {\n      state.lists[getListIndex(state, listId)].winnersData = data;\n    },\n    setSyncState(state, { payload: { listId = state.currentList, data } }: ListAction<boolean>): void {\n      state.lists[getListIndex(state, listId)].isSyncWithAuc = data;\n    },\n  },\n});\n\nexport const {\n  addRequestsList,\n  deleteRequestsList,\n  addRequestWinner,\n  deleteRequestWinner,\n  setCurrentList,\n  setWinnersData,\n  setAllData,\n  updateRequestsList,\n  setIsLoading,\n  initChatClient,\n  setSyncState,\n} = requestsSlice.actions;\n\nexport const updateFromCamilleBot =\n  (username: string, listKey: CamilleList) =>\n  async (dispatch: ThunkDispatch<RootState, {}, Action>): Promise<void> => {\n    dispatch(setIsLoading(true));\n    const data = await getCamilleBotData(username, listKey);\n\n    if (data === 'You are not registred in camille-bot.') {\n      dispatch(addAlert({ duration: 5000, message: data, type: AlertTypeEnum.Error }));\n      dispatch(setIsLoading(false));\n      return;\n    }\n\n    const listData = Object.entries(data).map<UserRequest>(([login, request]) => ({\n      id: login,\n      request,\n      username: login,\n    }));\n\n    dispatch(setAllData({ data: listData }));\n    dispatch(setIsLoading(false));\n  };\n\nexport const addRequest =\n  ({ listId, data }: ListData<UserRequest>): any =>\n  (dispatch: ThunkDispatch<RootState, {}, Action>, getState: () => RootState): void => {\n    const state = getState();\n    const index = getListIndex(state.requests, listId || state.requests.currentList);\n    const { allData, isSyncWithAuc } = state.requests.lists[index];\n    const dataIndex = allData.findIndex(({ id }) => id === data.id);\n    const { id, request, username } = data;\n    const name = `${username}: ${request}`;\n\n    if (dataIndex === -1) {\n      dispatch(setAllData({ listId, data: [...allData, data] }));\n\n      if (isSyncWithAuc) {\n        dispatch(addSlot({ id, amount: 1, name }));\n      }\n    } else {\n      const arr = [...allData];\n\n      arr[dataIndex] = data;\n      dispatch(setAllData({ listId, data: arr }));\n      const { slots } = state.slots;\n      const slot = getSlot(slots, id);\n\n      if (isSyncWithAuc && slot?.amount === 1) {\n        dispatch(setSlotName({ id, name }));\n      }\n    }\n  };\n\nexport const deleteRequest =\n  ({ listId, data }: ListData<string>): any =>\n  (dispatch: ThunkDispatch<RootState, {}, Action>, getState: () => RootState): void => {\n    const state = getState();\n    const index = getListIndex(state.requests, listId || state.requests.currentList);\n    const { allData, isSyncWithAuc } = state.requests.lists[index];\n    dispatch(setAllData({ listId, data: allData.filter(({ id }) => data !== id) }));\n\n    if (isSyncWithAuc) {\n      dispatch(deleteSlot(data));\n    }\n  };\n\nexport const syncWithAuc =\n  (listId?: string): any =>\n  (dispatch: ThunkDispatch<RootState, {}, Action>, getState: () => RootState): void => {\n    const state = getState();\n    const index = getListIndex(state.requests, listId || state.requests.currentList);\n    const { slots } = state.slots;\n    const { allData } = state.requests.lists[index];\n\n    allData.forEach(({ id, request, username }) => {\n      const slot = getSlot(slots, id);\n      const name = `${username}: ${request}`;\n\n      if (!slot) {\n        dispatch(addSlot({ id, amount: 1, name }));\n      } else if (slot.name !== name && slot.amount === 1) {\n        dispatch(setSlotName({ id, name }));\n      }\n    });\n\n    dispatch(setSyncState({ listId, data: true }));\n  };\n\nexport default requestsSlice.reducer;\n","import { createSlice, PayloadAction, ThunkDispatch } from '@reduxjs/toolkit';\nimport { Action } from 'redux';\nimport { RootState } from '../index';\nimport { initChatClient } from '../Requests/Requests';\n\nexport interface UserInfo {\n  username: string | null;\n  userId: string | null;\n}\n\ninterface UserState extends UserInfo {\n  hasDAAuth: boolean;\n  hasTwitchAuth: boolean;\n  canBeRestored?: boolean;\n  authId?: string;\n}\n\nconst initialState: UserState = {\n  username: null,\n  userId: null,\n  hasDAAuth: false,\n  hasTwitchAuth: false,\n  canBeRestored: false,\n};\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    setUsername(state, action: PayloadAction<string | null>): void {\n      state.username = action.payload;\n    },\n    setUserId(state, action: PayloadAction<string | null>): void {\n      state.userId = action.payload;\n    },\n    setHasDAAuth(state, action: PayloadAction<boolean>): void {\n      state.hasDAAuth = action.payload;\n    },\n    setHasTwitchAuth(state, action: PayloadAction<boolean>): void {\n      state.hasTwitchAuth = action.payload;\n    },\n    setCanBeRestored(state, action: PayloadAction<boolean>): void {\n      state.canBeRestored = action.payload;\n    },\n    setAuthId(state, action: PayloadAction<string>): void {\n      state.authId = action.payload;\n    },\n  },\n});\n\nexport const { setUsername, setHasDAAuth, setUserId, setHasTwitchAuth, setCanBeRestored, setAuthId } =\n  userSlice.actions;\n\nexport const updateUsername =\n  (username: string) =>\n  (dispatch: ThunkDispatch<RootState, {}, Action>): void => {\n    dispatch(setUsername(username));\n    dispatch(initChatClient(username));\n  };\n\nexport default userSlice.reducer;\n","import { createSlice, PayloadAction, ThunkDispatch } from '@reduxjs/toolkit';\nimport { Action } from 'redux';\nimport mergewith from 'lodash.mergewith';\nimport { getUserData } from '../../api/userApi';\nimport { setHasDAAuth, setHasTwitchAuth, setUserId, updateUsername } from '../User/User';\nimport { GetUserDto } from '../../models/user.model';\n\nexport interface SettingFields {\n  startTime?: number;\n  timeStep?: number;\n  isAutoincrementActive?: boolean;\n  autoincrementTime?: number;\n  isBuyoutVisible?: boolean;\n  background: string | null;\n  purchaseSort?: number;\n  marblesAuc?: boolean;\n  marbleRate?: number;\n  marbleCategory?: number;\n  isMaxTimeActive?: boolean;\n  maxTime?: number;\n  showChances?: boolean;\n  newSlotIncrement?: number;\n  isNewSlotIncrement?: boolean;\n  isTotalVisible?: boolean;\n  luckyWheel?: boolean;\n}\n\nexport interface ViewSettings {\n  compact: boolean;\n}\n\nexport interface RewardSetting {\n  cost?: number;\n  color?: string;\n}\n\nexport interface TwitchIntegration {\n  isRefundAvailable: boolean;\n  dynamicRewards: boolean;\n  alwaysAddNew: boolean;\n  rewardsPrefix: string;\n  rewardPresets: RewardSetting[];\n}\n\nexport interface DaIntegration {\n  pointsRate: number;\n  isIncrementActive: boolean;\n  incrementTime: number;\n}\n\nexport interface IntegrationFields {\n  twitch: TwitchIntegration;\n  da: DaIntegration;\n}\n\ninterface AucSettingsState {\n  view: ViewSettings;\n  settings: SettingFields;\n  integration: IntegrationFields;\n}\n\nexport const initialState: AucSettingsState = {\n  view: {\n    compact: false,\n  },\n  settings: {\n    startTime: 10,\n    isBuyoutVisible: true,\n    timeStep: 60,\n    isAutoincrementActive: false,\n    autoincrementTime: 30,\n    purchaseSort: 0,\n    background: null,\n    marblesAuc: false,\n    marbleRate: 50,\n    marbleCategory: 100,\n    showChances: false,\n    maxTime: 15,\n    isMaxTimeActive: false,\n    newSlotIncrement: 60,\n    isNewSlotIncrement: false,\n    isTotalVisible: true,\n    luckyWheel: false,\n  },\n  integration: {\n    twitch: {\n      isRefundAvailable: false,\n      dynamicRewards: false,\n      alwaysAddNew: false,\n      rewardsPrefix: 'ставка',\n      rewardPresets: [],\n    },\n    da: {\n      pointsRate: 1,\n      isIncrementActive: false,\n      incrementTime: 30,\n    },\n  },\n};\n\nconst mergeCheck = <T>(obj: T, src: T): T => (src === undefined ? obj : src);\n\nconst aucSettingsSlice = createSlice({\n  name: 'aucSettings',\n  initialState,\n  reducers: {\n    setAucSettings(state, action: PayloadAction<Partial<SettingFields>>): void {\n      state.settings = mergewith(state.settings, action.payload, mergeCheck);\n    },\n    setIntegration(state, action: PayloadAction<IntegrationFields>): void {\n      state.integration.da = mergewith(state.integration.da, action.payload.da, mergeCheck);\n      state.integration.twitch = mergewith(state.integration.twitch, action.payload.twitch, mergeCheck);\n    },\n    setCompact(state, action: PayloadAction<boolean>): void {\n      state.view.compact = action.payload;\n    },\n    setShowChances(state, action: PayloadAction<boolean>): void {\n      state.settings.showChances = action.payload;\n    },\n  },\n});\n\nexport const { setAucSettings, setIntegration, setCompact, setShowChances } = aucSettingsSlice.actions;\n\nexport const loadUserData = async (dispatch: ThunkDispatch<{}, {}, Action>): Promise<GetUserDto> => {\n  const user = await getUserData();\n  const { twitchAuth, twitchSettings, aucSettings, daSettings, daAuth } = user;\n\n  if (aucSettings) {\n    dispatch(setAucSettings(aucSettings));\n  }\n  dispatch(setIntegration({ twitch: twitchSettings, da: daSettings }));\n  dispatch(updateUsername(twitchAuth?.username || daAuth?.username || ''));\n  dispatch(setUserId(twitchAuth?.id as any));\n  dispatch(setHasDAAuth(!!daAuth?.isValid));\n  dispatch(setHasTwitchAuth(!!twitchAuth?.isValid));\n\n  return user;\n};\n\nexport default aucSettingsSlice.reducer;\n","import React, { KeyboardEvent, useCallback, useEffect, useRef, useState } from 'react';\nimport { Button, OutlinedInput } from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport AddIcon from '@material-ui/icons/Add';\nimport classNames from 'classnames';\nimport { useTranslation } from 'react-i18next';\nimport { RootState } from '../../../../reducers';\nimport './NewSlotForm.scss';\nimport { addSlot } from '../../../../reducers/Slots/Slots';\nimport { Slot } from '../../../../models/slot.model';\nimport { updatePercents } from '../../../../services/PercentsRefMap';\n\nconst NewSlotForm = () => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { slots } = useSelector((root: RootState) => root.slots);\n  const { showChances, background } = useSelector((root: RootState) => root.aucSettings.settings);\n  const [enterIconVisible, setEnterIconVisible] = useState(false);\n\n  const nameInput = useRef<HTMLInputElement>();\n  const amountInput = useRef<HTMLInputElement>();\n\n  const wrapperClasses = classNames('new-slot-form', { 'custom-background': background });\n\n  const showEnterIcon = () => setEnterIconVisible(true);\n  const hideEnterIcon = () => setEnterIconVisible(false);\n\n  const percentsRef = useRef<HTMLSpanElement>(null);\n\n  const getNewSlot = useCallback((): Partial<Slot> => {\n    return {\n      amount: Number(amountInput.current?.value) || null,\n      name: nameInput.current?.value,\n    };\n  }, []);\n\n  const updateNewSlotChance = useCallback(() => {\n    if (showChances && percentsRef.current) {\n      const slot: Slot = { ...getNewSlot(), id: Math.random().toString() } as Slot;\n      const refMap = new Map<string, HTMLSpanElement>([[slot.id, percentsRef.current]]);\n\n      updatePercents([...slots, slot], refMap);\n    }\n  }, [getNewSlot, showChances, slots]);\n\n  useEffect(() => {\n    updateNewSlotChance();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showChances]);\n\n  const resetForm = useCallback(() => {\n    if (nameInput.current && amountInput.current) {\n      nameInput.current.value = '';\n      amountInput.current.value = '';\n    }\n    updateNewSlotChance();\n  }, [updateNewSlotChance]);\n\n  const createNewSlot = useCallback(() => {\n    if (nameInput.current && amountInput.current) {\n      const slot = getNewSlot();\n      dispatch(addSlot(slot));\n      resetForm();\n    }\n  }, [dispatch, getNewSlot, resetForm]);\n\n  const createSlotOnEnter = useCallback(\n    (e: KeyboardEvent) => {\n      if (e.key === 'Enter') {\n        createNewSlot();\n      }\n    },\n    [createNewSlot],\n  );\n\n  return (\n    <div className={wrapperClasses}>\n      <OutlinedInput\n        className=\"slot-name slot-input\"\n        placeholder={t('auc.newLotName')}\n        type=\"text\"\n        inputRef={nameInput}\n        onKeyPress={createSlotOnEnter}\n        onFocus={showEnterIcon}\n        onBlur={hideEnterIcon}\n      />\n\n      {showChances && <span className=\"slot-chance\" ref={percentsRef} />}\n\n      <OutlinedInput type=\"number\" style={{ display: 'none' }} />\n      <OutlinedInput\n        className=\"slot-money slot-input\"\n        placeholder={t('common.currencySign')}\n        type=\"number\"\n        inputRef={amountInput}\n        onKeyPress={createSlotOnEnter}\n        onFocus={showEnterIcon}\n        onBlur={hideEnterIcon}\n        onChange={updateNewSlotChance}\n      />\n\n      <Button\n        className=\"add-slot-button\"\n        variant=\"contained\"\n        color=\"primary\"\n        startIcon={<AddIcon />}\n        onClick={createNewSlot}\n      >\n        {t('auc.addPosition')}\n        {enterIconVisible && <span> &#9166;</span>}\n      </Button>\n    </div>\n  );\n};\n\nexport default NewSlotForm;\n","import React from 'react';\nimport { IconButton, InputBase, InputBaseProps, Paper } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport './SlotSearch.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useTranslation } from 'react-i18next';\nimport { setSearchTerm } from '../../../../reducers/Slots/Slots';\nimport { RootState } from '../../../../reducers';\n\nconst SlotSearch = () => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { searchTerm } = useSelector((root: RootState) => root.slots);\n\n  const onSearchTermChange: InputBaseProps['onChange'] = (event) => {\n    dispatch(setSearchTerm(event.target.value));\n  };\n\n  const clearSearch = () => {\n    dispatch(setSearchTerm(''));\n  };\n\n  return (\n    <Paper className=\"slot-search\">\n      <SearchIcon />\n      <InputBase\n        className=\"search-input\"\n        placeholder={t('auc.lotSearch')}\n        value={searchTerm}\n        onChange={onSearchTermChange}\n      />\n      <div className=\"close-button-wrapper\">\n        {searchTerm && (\n          <IconButton className=\"close-button\" onClick={clearSearch}>\n            <CloseIcon />\n          </IconButton>\n        )}\n      </div>\n    </Paper>\n  );\n};\n\nexport default SlotSearch;\n","import React, { FC } from 'react';\nimport NewSlotForm from './NewSlotForm/NewSlotForm';\nimport SlotSearch from './SlotSearch/SlotSearch';\nimport './SlotsHeader.scss';\n\nconst SlotsHeader: FC = () => {\n  return (\n    <div className=\"slots-header item\">\n      <div className=\"new-slot-wrapper item\">\n        <NewSlotForm />\n      </div>\n      {/* <Divider orientation=\"vertical\" /> */}\n      <div className=\"vertical-divider item\" />\n      <div className=\"slot-search-wrapper item\">\n        <SlotSearch />\n      </div>\n    </div>\n  );\n};\n\nexport default SlotsHeader;\n","import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport './SlotsColumn.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { IconButton, Typography } from '@material-ui/core';\nimport classNames from 'classnames';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport { RootState } from '../../../reducers';\nimport { getCookie } from '../../../utils/common.utils';\nimport SlotsList from './SlotsList';\nimport { setAucSettings } from '../../../reducers/AucSettings/AucSettings';\nimport SlotsHeader from '../SlotsHeader/SlotsHeader';\n\nconst SlotsColumn: React.FC = () => {\n  const dispatch = useDispatch();\n  const buyoutInput = useRef<HTMLInputElement>(null);\n  const { slots, searchTerm } = useSelector((rootReducer: RootState) => rootReducer.slots);\n  const {\n    settings: { isBuyoutVisible, isTotalVisible },\n  } = useSelector((rootReducer: RootState) => rootReducer.aucSettings);\n  const { draggedRedemption } = useSelector((root: RootState) => root.purchases);\n  const [, setBuyout] = useState<number | null>(null);\n\n  const handleBuyoutChange = (): void => {\n    if (buyoutInput.current) {\n      setBuyout(Number(buyoutInput.current.value));\n    }\n  };\n\n  useEffect(() => {\n    if (!isBuyoutVisible && buyoutInput.current) {\n      setBuyout(null);\n      buyoutInput.current.value = '';\n    }\n  }, [isBuyoutVisible]);\n\n  useEffect(() => {\n    if (buyoutInput.current) {\n      buyoutInput.current.addEventListener('change', handleBuyoutChange);\n    }\n  }, [buyoutInput]);\n\n  useEffect(() => {\n    const newVisible = getCookie('showTotal');\n\n    dispatch(setAucSettings({ isTotalVisible: newVisible === 'true' }));\n  }, [dispatch]);\n\n  const slotsColumnClasses = useMemo(\n    () => classNames('slots-column', { dragging: !!draggedRedemption }),\n    [draggedRedemption],\n  );\n\n  const totalSum = useMemo(() => slots.reduce((sum, slot) => (slot.amount ? sum + slot.amount : sum), 0), [slots]);\n\n  const toggleTotalSumVisability = useCallback(() => {\n    document.cookie = `showTotal=${!isTotalVisible}; expires=Fri, 31 Dec 9999 23:59:59 GMT\\``;\n    dispatch(setAucSettings({ isTotalVisible: !isTotalVisible }));\n  }, [dispatch, isTotalVisible]);\n\n  const filteredSlots = useMemo(\n    () => (searchTerm ? slots.filter(({ name }) => name?.toLowerCase().includes(searchTerm.toLowerCase())) : slots),\n    [searchTerm, slots],\n  );\n\n  return (\n    <div className=\"slots\">\n      <SlotsHeader />\n      <div className=\"slots-wrapper\">\n        <div className={slotsColumnClasses}>\n          <SlotsList slots={filteredSlots} />\n          <div className=\"slots-footer\">\n            <div className=\"total-sum-container\">\n              {isTotalVisible && <Typography className=\"total-sum\">{`Всего: ${totalSum} ₽`}</Typography>}\n              <IconButton onClick={toggleTotalSumVisability} className=\"hide-sum\">\n                {isTotalVisible ? <VisibilityOffIcon /> : <VisibilityIcon />}\n              </IconButton>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SlotsColumn;\n","export const MESSAGE_TYPES = {\n  MOCK_PURCHASE: 'GET_MOCK_DATA',\n  CHANNEL_POINTS_SUBSCRIBE: 'CHANNEL_POINTS_SUBSCRIBE',\n  CHANNEL_POINTS_UNSUBSCRIBE: 'CHANNEL_POINTS_UNSUBSCRIBE',\n  IDENTIFY_CLIENT: 'IDENTIFY_CLIENT',\n  NEW_REQUEST: 'NEW_REQUEST',\n  START_VOTING: 'START_VOTING',\n  SKIP_REQUEST: 'SKIP_REQUEST',\n  VOTE_SKIP: 'VOTE_SKIP',\n  VOTE_ANTI_SKIP: 'VOTE_ANTI_SKIP',\n\n  DA_SUBSCRIBE: 'DONATION_ALERTS_SUBSCRIBE',\n  DA_UNSUBSCRIBE: 'DONATION_ALERTS_UNSUBSCRIBE',\n\n  REFUND_REWARD: 'REFUND_REWARD',\n  CANCEL_ALL_REWARDS: 'CANCEL_ALL_REWARDS',\n\n  PURCHASE: 'PURCHASE',\n  SET_AUC_REWARD_PREFIX: 'SET_AUC_REWARD_PREFIX',\n};\n\nexport const SERVER_MESSAGES = {\n  DA_SUBSCRIBED: 'DONATION_ALERTS_SUBSCRIBED',\n  DA_UNSUBSCRIBED: 'DONATION_ALERTS_UNSUBSCRIBED',\n  DA_SUBSCRIBE_ERROR: 'DONATION_ALERTS_SUBSCRIBE_ERROR',\n\n  CP_SUBSCRIBED: 'CP_SUBSCRIBED',\n  CP_UNSUBSCRIBED: 'CP_UNSUBSCRIBED',\n  CP_SUBSCRIBE_ERROR: 'CP_SUBSCRIBE_ERROR',\n};\n","import { createSlice, PayloadAction, ThunkDispatch } from '@reduxjs/toolkit';\nimport { Action } from 'redux';\nimport { RootState } from '../index';\nimport { addAlert } from '../notifications/notifications';\nimport { AlertTypeEnum } from '../../models/alert.model';\n\ninterface SubscribeState {\n  actual: boolean;\n  loading: boolean;\n}\n\ninterface SubscriptionStoreState {\n  twitch: SubscribeState;\n  da: SubscribeState;\n}\n\nexport const initialState: SubscriptionStoreState = {\n  twitch: {\n    actual: false,\n    loading: false,\n  },\n  da: {\n    actual: false,\n    loading: false,\n  },\n};\n\nconst subscriptionSlice = createSlice({\n  name: 'subscription',\n  initialState,\n  reducers: {\n    setTwitchSubscribeState(state, action: PayloadAction<Partial<SubscribeState>>): void {\n      state.twitch = { ...state.twitch, ...action.payload };\n    },\n    setDaSubscribeState(state, action: PayloadAction<Partial<SubscribeState>>): void {\n      state.da = { ...state.da, ...action.payload };\n    },\n  },\n});\n\nconst { setDaSubscribeState, setTwitchSubscribeState } = subscriptionSlice.actions;\n\nexport const sendCpSubscribedState =\n  (isSubscribed: boolean, setState?: (actual: boolean) => void) =>\n  (dispatch: ThunkDispatch<{}, {}, Action>, getState: () => RootState): void => {\n    const { twitchSocket } = getState().socketIo;\n    const event = isSubscribed ? 'bidsSubscribe' : 'bidsUnsubscribe';\n\n    if (!twitchSocket) {\n      return;\n    }\n\n    twitchSocket.once('bidsStateChange', ({ state, error }) => {\n      dispatch(setTwitchSubscribeState({ actual: state, loading: false }));\n      setState && setState(state);\n\n      if (error) {\n        dispatch(addAlert({ type: AlertTypeEnum.Error, message: error }));\n      }\n    });\n    twitchSocket.emit(event);\n\n    dispatch(setTwitchSubscribeState({ loading: true }));\n  };\n\nexport const sendDaSubscribedState =\n  (isSubscribed: boolean) =>\n  (dispatch: ThunkDispatch<{}, {}, Action>, getState: () => RootState): void => {\n    const { daSocket } = getState().socketIo;\n    const event = isSubscribed ? 'bidsSubscribe' : 'bidsUnsubscribe';\n\n    if (!daSocket) {\n      return;\n    }\n\n    daSocket.once('bidsStateChange', ({ state, error }) => {\n      dispatch(setDaSubscribeState({ actual: state, loading: false }));\n\n      if (error) {\n        dispatch(addAlert({ type: AlertTypeEnum.Error, message: error }));\n      }\n    });\n\n    daSocket.emit(event);\n\n    dispatch(setDaSubscribeState({ loading: true }));\n  };\n\nexport default subscriptionSlice.reducer;\n","import React, { ReactText, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport './Stopwatch.scss';\nimport { IconButton } from '@material-ui/core';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport KeyboardCapslockIcon from '@material-ui/icons/KeyboardCapslock';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport { useDispatch, useSelector } from 'react-redux';\nimport dayjs from 'dayjs';\nimport { RootState } from '../../../reducers';\nimport { Slot } from '../../../models/slot.model';\nimport { MESSAGE_TYPES } from '../../../constants/webSocket.constants';\nimport { sendCpSubscribedState } from '../../../reducers/Subscription/Subscription';\n\nexport const STOPWATCH = {\n  FORMAT: 'mm:ss:SSS',\n};\n\nconst Stopwatch: React.FC = () => {\n  const dispatch = useDispatch();\n  const { slots } = useSelector((root: RootState) => root.slots);\n  const { webSocket } = useSelector((root: RootState) => root.pubSubSocket);\n  const {\n    twitch: { actual: actualTwitchSub, loading: loadingTwitchSub },\n  } = useSelector((root: RootState) => root.subscription);\n  const {\n    settings: {\n      startTime,\n      timeStep,\n      isAutoincrementActive,\n      autoincrementTime,\n      maxTime = 15,\n      isMaxTimeActive,\n      isNewSlotIncrement,\n      newSlotIncrement,\n    },\n    integration: {\n      twitch: { dynamicRewards },\n      da,\n    },\n  } = useSelector((root: RootState) => root.aucSettings);\n  const defaultTime = Number(startTime) * 60 * 1000;\n  const stopwatchStep = Number(timeStep) * 1000;\n  const stopwatchAutoincrement = Number(autoincrementTime) * 1000;\n\n  const [isStopped, setIsStopped] = useState<boolean>(true);\n  const [isStopwatchChanged, setIsStopwatchChanged] = useState<boolean>(false);\n  const previousSlotsLength = useRef(1);\n  const time = useRef<number>(defaultTime);\n  const frameId = useRef<number>();\n  const prevTimestamp = useRef<number>();\n  const stopwatchElement = useRef<HTMLDivElement>(null);\n  const winnerRef = useRef<Slot>();\n  const daSettings = useRef(da);\n\n  useEffect(() => {\n    daSettings.current = da;\n  }, [da]);\n\n  useEffect(() => {\n    if (!dynamicRewards || loadingTwitchSub || !isStopwatchChanged || isStopped !== actualTwitchSub) {\n      return;\n    }\n\n    setIsStopwatchChanged(false);\n    dispatch(sendCpSubscribedState(!isStopped));\n  }, [actualTwitchSub, dispatch, dynamicRewards, isStopped, isStopwatchChanged, loadingTwitchSub]);\n\n  const winnerSlot = useMemo(() => {\n    [winnerRef.current] = slots;\n\n    return slots[0];\n  }, [slots]);\n  const previousWinnerSlotId = useRef<ReactText>(winnerSlot.id);\n\n  const updateStopwatch = useCallback((timeDifference = 0): void => {\n    if (stopwatchElement.current) {\n      time.current += timeDifference;\n      if (time.current < 0) {\n        time.current = 0;\n        setIsStopped(true);\n        setIsStopwatchChanged(true);\n        // const { name } = winnerRef.current || {};\n        // dispatch(setNotification(`${name || DEFAULT_SLOT_NAME} победил!`));\n      }\n      stopwatchElement.current.innerHTML = dayjs(time.current).format(STOPWATCH.FORMAT).slice(0, -1);\n    }\n  }, []);\n\n  const autoUpdateTimer = useCallback(\n    (timeChange: number) => {\n      const maxMilliseconds = maxTime * 60 * 1000;\n      if (isMaxTimeActive) {\n        if (time.current < maxMilliseconds) {\n          updateStopwatch(time.current + timeChange > maxMilliseconds ? maxMilliseconds - time.current : timeChange);\n        }\n      } else {\n        updateStopwatch(timeChange);\n      }\n    },\n    [isMaxTimeActive, maxTime, updateStopwatch],\n  );\n\n  const handleDonation = useCallback(\n    ({ data }: MessageEvent) => {\n      const { type, purchase } = JSON.parse(data);\n      const { isIncrementActive, incrementTime } = daSettings.current;\n\n      if (isIncrementActive && type === MESSAGE_TYPES.PURCHASE && purchase.isDonation) {\n        autoUpdateTimer(incrementTime * 1000);\n      }\n    },\n    [autoUpdateTimer],\n  );\n\n  useEffect(() => {\n    webSocket?.addEventListener('message', handleDonation);\n  }, [handleDonation, webSocket]);\n\n  useEffect(() => updateStopwatch(), [updateStopwatch]);\n\n  useEffect(() => {\n    if (slots.length > previousSlotsLength.current && isNewSlotIncrement) {\n      autoUpdateTimer(Number(newSlotIncrement) * 1000);\n    }\n\n    previousSlotsLength.current = slots.length;\n  }, [autoUpdateTimer, isNewSlotIncrement, newSlotIncrement, slots.length]);\n\n  const updateTimeOnFrame = (timestamp: number): void => {\n    if (prevTimestamp.current) {\n      const timeDifference = prevTimestamp.current - timestamp;\n      updateStopwatch(timeDifference);\n    }\n    prevTimestamp.current = timestamp;\n    frameId.current = time.current ? requestAnimationFrame(updateTimeOnFrame) : undefined;\n  };\n  const handleStop = (): void => {\n    if (frameId.current) {\n      cancelAnimationFrame(frameId.current);\n      frameId.current = undefined;\n    }\n    setIsStopped(true);\n    setIsStopwatchChanged(true);\n  };\n\n  const handleReset = useCallback((): void => {\n    handleStop();\n    time.current = defaultTime;\n    updateStopwatch();\n  }, [defaultTime, updateStopwatch]);\n\n  const handleStart = (): void => {\n    if (time.current) {\n      setIsStopped(false);\n      setIsStopwatchChanged(true);\n      prevTimestamp.current = undefined;\n      frameId.current = requestAnimationFrame(updateTimeOnFrame);\n    }\n  };\n\n  const handleAdd = (): void => {\n    updateStopwatch(stopwatchStep);\n  };\n  const handleAddDouble = (): void => {\n    updateStopwatch(stopwatchStep * 2);\n  };\n  const handleSubtract = (): void => {\n    updateStopwatch(-stopwatchStep);\n  };\n\n  useEffect(() => {\n    if (isAutoincrementActive && winnerSlot.amount && previousWinnerSlotId.current !== winnerSlot.id) {\n      autoUpdateTimer(Number(stopwatchAutoincrement));\n    }\n    previousWinnerSlotId.current = winnerSlot.id;\n  }, [autoUpdateTimer, isAutoincrementActive, stopwatchAutoincrement, updateStopwatch, winnerSlot]);\n\n  return (\n    <div className=\"stopwatch-wrapper\">\n      <div className=\"stopwatch\" ref={stopwatchElement} />\n      <div className=\"stopwatch-controls\">\n        {isStopped ? (\n          <IconButton onClick={handleStart} title=\"Продолжить\">\n            <PlayArrowIcon fontSize=\"large\" />\n          </IconButton>\n        ) : (\n          <IconButton onClick={handleStop} title=\"Пауза\">\n            <PauseIcon fontSize=\"large\" />\n          </IconButton>\n        )}\n        <IconButton onClick={handleReset} title=\"Обнулить\">\n          <ReplayIcon fontSize=\"large\" />\n        </IconButton>\n        <IconButton onClick={handleAdd} title=\"Добавить время\">\n          <ExpandLessIcon fontSize=\"large\" />\n        </IconButton>\n        <IconButton onClick={handleSubtract} title=\"Уменьшить время\">\n          <ExpandMoreIcon fontSize=\"large\" />\n        </IconButton>\n        <IconButton onClick={handleAddDouble} title=\"Добавить время Х2\">\n          <KeyboardCapslockIcon fontSize=\"large\" />\n        </IconButton>\n      </div>\n    </div>\n  );\n};\n\nexport default Stopwatch;\n","import { PurchaseSortOption } from '../models/purchase';\n\nexport const PURCHASE_SORT_OPTIONS: PurchaseSortOption[] = [\n  { key: 'timestamp', order: 'ascend' },\n  { key: 'timestamp', order: 'descend' },\n  { key: 'cost', order: 'ascend' },\n  { key: 'cost', order: 'descend' },\n];\n\nexport const REMOVE_COST_PREFIX = '-';\n","import { axios } from './axios';\nimport ENDPOINTS from '../constants/api.constants';\nimport { PatchRedemptionDto } from '../models/redemption.model';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const authenticateTwitch = async (code: string): Promise<{ isNew: boolean }> => {\n  throw new Error('no network');\n  // const { data } = await axios.post(ENDPOINTS.TWITCH_AUTH, { code });\n  //\n  // return data;\n};\n\nexport const authenticateDA = async (code: string): Promise<{ isNew: boolean }> => {\n  throw new Error('no network');\n  // const { data } = await axios.post(ENDPOINTS.DA_AUTH, { code, redirect_uri: `${window.location.origin}/da/redirect` });\n  //\n  // return data;\n};\n\nexport const closeTwitchRewards = async (): Promise<void> => {\n  throw new Error('no network');\n  // await axios.delete(ENDPOINTS.TWITCH_REWARDS);\n};\n\nexport const updateRedemption = async (data: PatchRedemptionDto): Promise<void> => {\n  throw new Error('no network');\n  // await axios.patch(ENDPOINTS.TWITCH_REDEMPTIONS, data);\n};\n","import { RandomPaceConfig } from '../services/SpinPaceService';\nimport { Option } from '../components/RadioButtonGroup/RadioButtonGroup';\n\nexport enum WheelCommand {\n  OpenReg = 'openReg',\n  CloseReg = 'closeReg',\n  Spin = 'spin',\n  Join = 'join',\n}\n\nexport const CHAT_WHEEL_PREFIX = '!w';\n\nexport const SPIN_PATH = 'M0,0,C0.102,0.044,0.171,0.365,0.212,0.542,0.344,0.988,0.808,1,1,1';\n\nexport const PACE_PRESETS: Record<string, RandomPaceConfig> = {\n  suddenFinal: {\n    allowBackStep: true,\n    valueRandomZone: 600,\n    xRandomZone: 0.1,\n    valueDisabledZone: 0.4,\n    randomOffset: 1,\n    points: 0,\n  },\n};\n\nexport enum WheelFormat {\n  Default,\n  Dropout,\n  BattleRoyal,\n}\n\nexport enum GroupStage {\n  FFA,\n  Teams,\n  Dropout,\n}\n\nexport const WHEEL_OPTIONS: Option<WheelFormat>[] = [\n  { key: WheelFormat.Default, value: 'Обычное' },\n  { key: WheelFormat.Dropout, value: 'Выбывание' },\n  { key: WheelFormat.BattleRoyal, value: 'Батл рояль' },\n];\n\nexport const GROUP_STAGES: Option<GroupStage>[] = [\n  { key: GroupStage.FFA, value: 'FFA' },\n  { key: GroupStage.Teams, value: 'Команды' },\n  { key: GroupStage.Dropout, value: 'Выбывание' },\n];\n","import React, { FC } from 'react';\nimport { Button } from '@material-ui/core';\nimport { RoulettePreset } from '../PresetSelect/PresetSelect';\n\ninterface RoulettePresetProps {\n  preset: RoulettePreset;\n  onSelect?: (preset: RoulettePreset) => void;\n}\n\nconst getPresetChance = (multiplier: number): number => +((1 / multiplier) * 100).toFixed(2);\n\nconst RoulettePresetView: FC<RoulettePresetProps> = ({ preset, onSelect }) => {\n  const { multiplier, color } = preset;\n  const onClick = (): void => onSelect?.(preset);\n\n  return (\n    <Button style={{ backgroundColor: color }} className=\"roulette-preset\" onClick={onClick}>\n      <>\n        <span>{`x${multiplier}`}</span>\n        <span style={{ fontWeight: 400, marginLeft: 8 }}>{`(${getPresetChance(multiplier)}%)`}</span>\n      </>\n    </Button>\n  );\n};\n\nexport default RoulettePresetView;\n","import React, { FC } from 'react';\nimport { Typography } from '@material-ui/core';\nimport { useTranslation } from 'react-i18next';\n\nimport './PresetSelect.scss';\nimport RoulettePresetView from '../RoulettePresetView/RoulettePresetView';\n\nexport interface RoulettePreset {\n  amount: number;\n  multiplier: number;\n  color: string;\n  hidden?: boolean;\n  safe?: boolean;\n}\n\ninterface PresetSelectProps {\n  presets: RoulettePreset[];\n  onSelect: (preset: RoulettePreset) => void;\n}\n\nconst PresetSelect: FC<PresetSelectProps> = ({ presets, onSelect }) => {\n  const { t } = useTranslation();\n\n  return (\n    <div className=\"roulette-preset-select\">\n      <Typography variant=\"h2\">{t('auc.casino.selectLot')}</Typography>\n      <Typography className=\"roulette-preset-select-desc\">{t('auc.casino.description')}</Typography>\n      <Typography className=\"roulette-preset-select-warning\">{t('auc.casino.warning')}</Typography>\n      <div className=\"roulette-menu-presets\">\n        {presets.map((preset) => (\n          <RoulettePresetView key={preset.multiplier} preset={preset} onSelect={onSelect} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default PresetSelect;\n","/*!\n * paths 3.6.0\n * https://greensock.com\n *\n * Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n */\n/* eslint-disable */\n// @ts-ignore\n\nlet _svgPathExp = /[achlmqstvz]|(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[0-9]/ig,\n\t_numbersExp = /(?:(-)?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[0-9]/ig,\n\t_scientific = /[\\+\\-]?\\d*\\.?\\d+e[\\+\\-]?\\d+/ig,\n\t_selectorExp = /(^[#\\.][a-z]|[a-y][a-z])/i,\n\t_DEG2RAD = Math.PI / 180,\n\t_RAD2DEG = 180 / Math.PI,\n\t_sin = Math.sin,\n\t_cos = Math.cos,\n\t_abs = Math.abs,\n\t_sqrt = Math.sqrt,\n\t_atan2 = Math.atan2,\n\t_largeNum = 1e8,\n\t_isString = value => typeof(value) === \"string\",\n\t_isNumber = value => typeof(value) === \"number\",\n\t_isUndefined = value => typeof(value) === \"undefined\",\n\t_temp = {},\n\t_temp2 = {},\n\t_roundingNum = 1e5,\n\t_wrapProgress = progress => (Math.round((progress + _largeNum) % 1 * _roundingNum) / _roundingNum) || ((progress < 0) ? 0 : 1), //if progress lands on 1, the % will make it 0 which is why we || 1, but not if it's negative because it makes more sense for motion to end at 0 in that case.\n\t_round = value => (Math.round(value * _roundingNum) / _roundingNum) || 0,\n\t_roundPrecise = value => (Math.round(value * 1e10) / 1e10) || 0,\n\t_splitSegment = (rawPath, segIndex, i, t) => {\n\t\tlet segment = rawPath[segIndex],\n\t\t\tshift = t === 1 ? 6 : subdivideSegment(segment, i, t);\n\t\tif (shift && shift + i + 2 < segment.length) {\n\t\t\trawPath.splice(segIndex, 0, segment.slice(0, i + shift + 2));\n\t\t\tsegment.splice(0, i + shift);\n\t\t\treturn 1;\n\t\t}\n\t},\n\t_reverseRawPath = (rawPath, skipOuter) => {\n\t\tlet i = rawPath.length;\n\t\tskipOuter || rawPath.reverse();\n\t\twhile (i--) {\n\t\t\trawPath[i].reversed || reverseSegment(rawPath[i]);\n\t\t}\n\t},\n\t_copyMetaData = (source, copy) => {\n\t\tcopy.totalLength = source.totalLength;\n\t\tif (source.samples) { //segment\n\t\t\tcopy.samples = source.samples.slice(0);\n\t\t\tcopy.lookup = source.lookup.slice(0);\n\t\t\tcopy.minLength = source.minLength;\n\t\t\tcopy.resolution = source.resolution;\n\t\t} else if (source.totalPoints) { //rawPath\n\t\t\tcopy.totalPoints = source.totalPoints;\n\t\t}\n\t\treturn copy;\n\t},\n\t//pushes a new segment into a rawPath, but if its starting values match the ending values of the last segment, it'll merge it into that same segment (to reduce the number of segments)\n\t_appendOrMerge = (rawPath, segment) => {\n\t\tlet index = rawPath.length,\n\t\t\tprevSeg = rawPath[index - 1] || [],\n\t\t\tl = prevSeg.length;\n\t\tif (index && segment[0] === prevSeg[l-2] && segment[1] === prevSeg[l-1]) {\n\t\t\tsegment = prevSeg.concat(segment.slice(2));\n\t\t\tindex--;\n\t\t}\n\t\trawPath[index] = segment;\n\t},\n\t_bestDistance;\n\n/* TERMINOLOGY\n - RawPath - an array of arrays, one for each Segment. A single RawPath could have multiple \"M\" commands, defining Segments (paths aren't always connected).\n - Segment - an array containing a sequence of Cubic Bezier coordinates in alternating x, y, x, y format. Starting anchor, then control point 1, control point 2, and ending anchor, then the next control point 1, control point 2, anchor, etc. Uses less memory than an array with a bunch of {x, y} points.\n - Bezier - a single cubic Bezier with a starting anchor, two control points, and an ending anchor.\n - the variable \"t\" is typically the position along an individual Bezier path (time) and it's NOT linear, meaning it could accelerate/decelerate based on the control points whereas the \"p\" or \"progress\" value is linearly mapped to the whole path, so it shouldn't really accelerate/decelerate based on control points. So a progress of 0.2 would be almost exactly 20% along the path. \"t\" is ONLY in an individual Bezier piece.\n */\n\n//accepts basic selector text, a path instance, a RawPath instance, or a Segment and returns a RawPath (makes it easy to homogenize things). If an element or selector text is passed in, it'll also cache the value so that if it's queried again, it'll just take the path data from there instead of parsing it all over again (as long as the path data itself hasn't changed - it'll check).\nexport function getRawPath(value) {\n\tvalue = (_isString(value) && _selectorExp.test(value)) ? document.querySelector(value) || value : value;\n\tlet e = value.getAttribute ? value : 0,\n\t\trawPath;\n\tif (e && (value = value.getAttribute(\"d\"))) {\n\t\t//implements caching\n\t\tif (!e._gsPath) {\n\t\t\te._gsPath = {};\n\t\t}\n\t\trawPath = e._gsPath[value];\n\t\treturn (rawPath && !rawPath._dirty) ? rawPath : (e._gsPath[value] = stringToRawPath(value));\n\t}\n\treturn !value ? console.warn(\"Expecting a <path> element or an SVG path data string\") : _isString(value) ? stringToRawPath(value) : (_isNumber(value[0])) ? [value] : value;\n}\n\n//copies a RawPath WITHOUT the length meta data (for speed)\nexport function copyRawPath(rawPath) {\n\tlet a = [],\n\t\ti = 0;\n\tfor (; i < rawPath.length; i++) {\n\t\ta[i] = _copyMetaData(rawPath[i], rawPath[i].slice(0));\n\t}\n\treturn _copyMetaData(rawPath, a);\n}\n\nexport function reverseSegment(segment) {\n\tlet i = 0,\n\t\ty;\n\tsegment.reverse(); //this will invert the order y, x, y, x so we must flip it back.\n\tfor (; i < segment.length; i += 2) {\n\t\ty = segment[i];\n\t\tsegment[i] = segment[i+1];\n\t\tsegment[i+1] = y;\n\t}\n\tsegment.reversed = !segment.reversed;\n}\n\n\n\nlet _createPath = (e, ignore) => {\n\t\tlet path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\"),\n\t\t\tattr = [].slice.call(e.attributes),\n\t\t\ti = attr.length,\n\t\t\tname;\n\t\tignore = \",\" + ignore + \",\";\n\t\twhile (--i > -1) {\n\t\t\tname = attr[i].nodeName.toLowerCase(); //in Microsoft Edge, if you don't set the attribute with a lowercase name, it doesn't render correctly! Super weird.\n\t\t\tif (ignore.indexOf(\",\" + name + \",\") < 0) {\n\t\t\t\tpath.setAttributeNS(null, name, attr[i].nodeValue);\n\t\t\t}\n\t\t}\n\t\treturn path;\n\t},\n\t_typeAttrs = {\n\t\trect:\"rx,ry,x,y,width,height\",\n\t\tcircle:\"r,cx,cy\",\n\t\tellipse:\"rx,ry,cx,cy\",\n\t\tline:\"x1,x2,y1,y2\"\n\t},\n\t_attrToObj = (e, attrs) => {\n\t\tlet props = attrs ? attrs.split(\",\") : [],\n\t\t\tobj = {},\n\t\t\ti = props.length;\n\t\twhile (--i > -1) {\n\t\t\tobj[props[i]] = +e.getAttribute(props[i]) || 0;\n\t\t}\n\t\treturn obj;\n\t};\n\n//converts an SVG shape like <circle>, <rect>, <polygon>, <polyline>, <ellipse>, etc. to a <path>, swapping it in and copying the attributes to match.\nexport function convertToPath(element, swap) {\n\tlet type = element.tagName.toLowerCase(),\n\t\tcirc = 0.552284749831,\n\t\tdata, x, y, r, ry, path, rcirc, rycirc, points, w, h, x2, x3, x4, x5, x6, y2, y3, y4, y5, y6, attr;\n\tif (type === \"path\" || !element.getBBox) {\n\t\treturn element;\n\t}\n\tpath = _createPath(element, \"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points\");\n\tattr = _attrToObj(element, _typeAttrs[type]);\n\tif (type === \"rect\") {\n\t\tr = attr.rx;\n\t\try = attr.ry || r;\n\t\tx = attr.x;\n\t\ty = attr.y;\n\t\tw = attr.width - r * 2;\n\t\th = attr.height - ry * 2;\n\t\tif (r || ry) { //if there are rounded corners, render cubic beziers\n\t\t\tx2 = x + r * (1 - circ);\n\t\t\tx3 = x + r;\n\t\t\tx4 = x3 + w;\n\t\t\tx5 = x4 + r * circ;\n\t\t\tx6 = x4 + r;\n\t\t\ty2 = y + ry * (1 - circ);\n\t\t\ty3 = y + ry;\n\t\t\ty4 = y3 + h;\n\t\t\ty5 = y4 + ry * circ;\n\t\t\ty6 = y4 + ry;\n\t\t\tdata = \"M\" + x6 + \",\" + y3 + \" V\" + y4 + \" C\" + [x6, y5, x5, y6, x4, y6, x4 - (x4 - x3) / 3, y6, x3 + (x4 - x3) / 3, y6, x3, y6, x2, y6, x, y5, x, y4, x, y4 - (y4 - y3) / 3, x, y3 + (y4 - y3) / 3, x, y3, x, y2, x2, y, x3, y, x3 + (x4 - x3) / 3, y, x4 - (x4 - x3) / 3, y, x4, y, x5, y, x6, y2, x6, y3].join(\",\") + \"z\";\n\t\t} else {\n\t\t\tdata = \"M\" + (x + w) + \",\" + y + \" v\" + h + \" h\" + (-w) + \" v\" + (-h) + \" h\" + w + \"z\";\n\t\t}\n\n\t} else if (type === \"circle\" || type === \"ellipse\") {\n\t\tif (type === \"circle\") {\n\t\t\tr = ry = attr.r;\n\t\t\trycirc = r * circ;\n\t\t} else {\n\t\t\tr = attr.rx;\n\t\t\try = attr.ry;\n\t\t\trycirc = ry * circ;\n\t\t}\n\t\tx = attr.cx;\n\t\ty = attr.cy;\n\t\trcirc = r * circ;\n\t\tdata = \"M\" + (x+r) + \",\" + y + \" C\" + [x+r, y + rycirc, x + rcirc, y + ry, x, y + ry, x - rcirc, y + ry, x - r, y + rycirc, x - r, y, x - r, y - rycirc, x - rcirc, y - ry, x, y - ry, x + rcirc, y - ry, x + r, y - rycirc, x + r, y].join(\",\") + \"z\";\n\t} else if (type === \"line\") {\n\t\tdata = \"M\" + attr.x1 + \",\" + attr.y1 + \" L\" + attr.x2 + \",\" + attr.y2; //previously, we just converted to \"Mx,y Lx,y\" but Safari has bugs that cause that not to render properly when using a stroke-dasharray that's not fully visible! Using a cubic bezier fixes that issue.\n\t} else if (type === \"polyline\" || type === \"polygon\") {\n\t\tpoints = (element.getAttribute(\"points\") + \"\").match(_numbersExp) || [];\n\t\tx = points.shift();\n\t\ty = points.shift();\n\t\tdata = \"M\" + x + \",\" + y + \" L\" + points.join(\",\");\n\t\tif (type === \"polygon\") {\n\t\t\tdata += \",\" + x + \",\" + y + \"z\";\n\t\t}\n\t}\n\tpath.setAttribute(\"d\", rawPathToString(path._gsRawPath = stringToRawPath(data)));\n\tif (swap && element.parentNode) {\n\t\telement.parentNode.insertBefore(path, element);\n\t\telement.parentNode.removeChild(element);\n\t}\n\treturn path;\n}\n\n\n\n//returns the rotation (in degrees) at a particular progress on a rawPath (the slope of the tangent)\nexport function getRotationAtProgress(rawPath, progress) {\n\tlet d = getProgressData(rawPath, progress >= 1 ? 1 - 1e-9 : progress ? progress : 1e-9);\n\treturn getRotationAtBezierT(d.segment, d.i, d.t);\n}\n\nfunction getRotationAtBezierT(segment, i, t) {\n\tlet a = segment[i],\n\t\tb = segment[i+2],\n\t\tc = segment[i+4],\n\t\tx;\n\ta += (b - a) * t;\n\tb += (c - b) * t;\n\ta += (b - a) * t;\n\tx = b + ((c + (segment[i+6] - c) * t) - b) * t - a;\n\ta = segment[i+1];\n\tb = segment[i+3];\n\tc = segment[i+5];\n\ta += (b - a) * t;\n\tb += (c - b) * t;\n\ta += (b - a) * t;\n\treturn _round(_atan2(b + ((c + (segment[i+7] - c) * t) - b) * t - a, x) * _RAD2DEG);\n}\n\nexport function sliceRawPath(rawPath, start, end) {\n\tend = _isUndefined(end) ? 1 : _roundPrecise(end) || 0; // we must round to avoid issues like 4.15 / 8 = 0.8300000000000001 instead of 0.83 or 2.8 / 5 = 0.5599999999999999 instead of 0.56 and if someone is doing a loop like start: 2.8 / 0.5, end: 2.8 / 0.5 + 1.\n\tstart = _roundPrecise(start) || 0;\n\tlet loops = Math.max(0, ~~(_abs(end - start) - 1e-8)),\n\t\tpath = copyRawPath(rawPath);\n\tif (start > end) {\n\t\tstart = 1 - start;\n\t\tend = 1 - end;\n\t\t_reverseRawPath(path);\n\t\tpath.totalLength = 0;\n\t}\n\tif (start < 0 || end < 0) {\n\t\tlet offset = Math.abs(~~Math.min(start, end)) + 1;\n\t\tstart += offset;\n\t\tend += offset;\n\t}\n\tpath.totalLength || cacheRawPathMeasurements(path);\n\tlet wrap = (end > 1),\n\t\ts = getProgressData(path, start, _temp, true),\n\t\te = getProgressData(path, end, _temp2),\n\t\teSeg = e.segment,\n\t\tsSeg = s.segment,\n\t\teSegIndex = e.segIndex,\n\t\tsSegIndex = s.segIndex,\n\t\tei = e.i,\n\t\tsi = s.i,\n\t\tsameSegment = (sSegIndex === eSegIndex),\n\t\tsameBezier = (ei === si && sameSegment),\n\t\twrapsBehind, sShift, eShift, i, copy, totalSegments, l, j;\n\tif (wrap || loops) {\n\t\twrapsBehind = eSegIndex < sSegIndex || (sameSegment && ei < si) || (sameBezier && e.t < s.t);\n\t\tif (_splitSegment(path, sSegIndex, si, s.t)) {\n\t\t\tsSegIndex++;\n\t\t\tif (!wrapsBehind) {\n\t\t\t\teSegIndex++;\n\t\t\t\tif (sameBezier) {\n\t\t\t\t\te.t = (e.t - s.t) / (1 - s.t);\n\t\t\t\t\tei = 0;\n\t\t\t\t} else if (sameSegment) {\n\t\t\t\t\tei -= si;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (1 - (end - start) < 1e-5) {\n\t\t\teSegIndex = sSegIndex - 1;\n\t\t} else if (!e.t && eSegIndex) {\n\t\t\teSegIndex--;\n\t\t} else if (_splitSegment(path, eSegIndex, ei, e.t) && wrapsBehind) {\n\t\t\tsSegIndex++;\n\t\t}\n\t\tif (s.t === 1) {\n\t\t\tsSegIndex = (sSegIndex + 1) % path.length;\n\t\t}\n\t\tcopy = [];\n\t\ttotalSegments = path.length;\n\t\tl = 1 + totalSegments * loops;\n\t\tj = sSegIndex;\n\t\tl += ((totalSegments - sSegIndex) + eSegIndex) % totalSegments;\n\t\tfor (i = 0; i < l; i++) {\n\t\t\t_appendOrMerge(copy, path[j++ % totalSegments]);\n\t\t}\n\t\tpath = copy;\n\t} else {\n\t\teShift = e.t === 1 ? 6 : subdivideSegment(eSeg, ei, e.t);\n\t\tif (start !== end) {\n\t\t\tsShift = subdivideSegment(sSeg, si, sameBezier ? s.t / e.t : s.t);\n\t\t\tsameSegment && (eShift += sShift);\n\t\t\teSeg.splice(ei + eShift + 2);\n\t\t\t(sShift || si) && sSeg.splice(0, si + sShift);\n\t\t\ti = path.length;\n\t\t\twhile (i--) {\n\t\t\t\t//chop off any extra segments\n\t\t\t\t(i < sSegIndex || i > eSegIndex) &&\tpath.splice(i, 1);\n\t\t\t}\n\t\t} else {\n\t\t\teSeg.angle = getRotationAtBezierT(eSeg, ei + eShift, 0); //record the value before we chop because it'll be impossible to determine the angle after its length is 0!\n\t\t\tei += eShift;\n\t\t\ts = eSeg[ei];\n\t\t\te = eSeg[ei+1];\n\t\t\teSeg.length = eSeg.totalLength = 0;\n\t\t\teSeg.totalPoints = path.totalPoints = 8;\n\t\t\teSeg.push(s, e, s, e, s, e, s, e);\n\t\t}\n\t}\n\tpath.totalLength = 0;\n\treturn path;\n}\n\n//measures a Segment according to its resolution (so if segment.resolution is 6, for example, it'll take 6 samples equally across each Bezier) and create/populate a \"samples\" Array that has the length up to each of those sample points (always increasing from the start) as well as a \"lookup\" array that's broken up according to the smallest distance between 2 samples. This gives us a very fast way of looking up a progress position rather than looping through all the points/Beziers. You can optionally have it only measure a subset, starting at startIndex and going for a specific number of beziers (remember, there are 3 x/y pairs each, for a total of 6 elements for each Bezier). It will also populate a \"totalLength\" property, but that's not generally super accurate because by default it'll only take 6 samples per Bezier. But for performance reasons, it's perfectly adequate for measuring progress values along the path. If you need a more accurate totalLength, either increase the resolution or use the more advanced bezierToPoints() method which keeps adding points until they don't deviate by more than a certain precision value.\nfunction measureSegment(segment, startIndex, bezierQty) {\n\tstartIndex = startIndex || 0;\n\tif (!segment.samples) {\n\t\tsegment.samples = [];\n\t\tsegment.lookup = [];\n\t}\n\tlet resolution = ~~segment.resolution || 12,\n\t\tinc = 1 / resolution,\n\t\tendIndex = bezierQty ? startIndex + bezierQty * 6 + 1 : segment.length,\n\t\tx1 = segment[startIndex],\n\t\ty1 = segment[startIndex + 1],\n\t\tsamplesIndex = startIndex ? (startIndex / 6) * resolution : 0,\n\t\tsamples = segment.samples,\n\t\tlookup = segment.lookup,\n\t\tmin = (startIndex ? segment.minLength : _largeNum) || _largeNum,\n\t\tprevLength = samples[samplesIndex + bezierQty * resolution - 1],\n\t\tlength = startIndex ? samples[samplesIndex-1] : 0,\n\t\ti, j, x4, x3, x2, xd, xd1, y4, y3, y2, yd, yd1, inv, t, lengthIndex, l, segLength;\n\tsamples.length = lookup.length = 0;\n\tfor (j = startIndex + 2; j < endIndex; j += 6) {\n\t\tx4 = segment[j + 4] - x1;\n\t\tx3 = segment[j + 2] - x1;\n\t\tx2 = segment[j] - x1;\n\t\ty4 = segment[j + 5] - y1;\n\t\ty3 = segment[j + 3] - y1;\n\t\ty2 = segment[j + 1] - y1;\n\t\txd = xd1 = yd = yd1 = 0;\n\t\tif (_abs(x4) < 1e-5 && _abs(y4) < 1e-5 && _abs(x2) + _abs(y2) < 1e-5) { //dump points that are sufficiently close (basically right on top of each other, making a bezier super tiny or 0 length)\n\t\t\tif (segment.length > 8) {\n\t\t\t\tsegment.splice(j, 6);\n\t\t\t\tj -= 6;\n\t\t\t\tendIndex -= 6;\n\t\t\t}\n\t\t} else {\n\t\t\tfor (i = 1; i <= resolution; i++) {\n\t\t\t\tt = inc * i;\n\t\t\t\tinv = 1 - t;\n\t\t\t\txd = xd1 - (xd1 = (t * t * x4 + 3 * inv * (t * x3 + inv * x2)) * t);\n\t\t\t\tyd = yd1 - (yd1 = (t * t * y4 + 3 * inv * (t * y3 + inv * y2)) * t);\n\t\t\t\tl = _sqrt(yd * yd + xd * xd);\n\t\t\t\tif (l < min) {\n\t\t\t\t\tmin = l;\n\t\t\t\t}\n\t\t\t\tlength += l;\n\t\t\t\tsamples[samplesIndex++] = length;\n\t\t\t}\n\t\t}\n\t\tx1 += x4;\n\t\ty1 += y4;\n\t}\n\tif (prevLength) {\n\t\tprevLength -= length;\n\t\tfor (; samplesIndex < samples.length; samplesIndex++) {\n\t\t\tsamples[samplesIndex] += prevLength;\n\t\t}\n\t}\n\tif (samples.length && min) {\n\t\tsegment.totalLength = segLength = samples[samples.length-1] || 0;\n\t\tsegment.minLength = min;\n\t\tl = lengthIndex = 0;\n\t\tfor (i = 0; i < segLength; i += min) {\n\t\t\tlookup[l++] = (samples[lengthIndex] < i) ? ++lengthIndex : lengthIndex;\n\t\t}\n\t} else {\n\t\tsegment.totalLength = samples[0] = 0;\n\t}\n\treturn startIndex ? length - samples[startIndex / 2 - 1] : length;\n}\n\nexport function cacheRawPathMeasurements(rawPath, resolution) {\n\tlet pathLength, points, i;\n\tfor (i = pathLength = points = 0; i < rawPath.length; i++) {\n\t\trawPath[i].resolution = ~~resolution || 12; //steps per Bezier curve (anchor, 2 control points, to anchor)\n\t\tpoints += rawPath[i].length;\n\t\tpathLength += measureSegment(rawPath[i]);\n\t}\n\trawPath.totalPoints = points;\n\trawPath.totalLength = pathLength;\n\treturn rawPath;\n}\n\n//divide segment[i] at position t (value between 0 and 1, progress along that particular cubic bezier segment that starts at segment[i]). Returns how many elements were spliced into the segment array (either 0 or 6)\nexport function subdivideSegment(segment, i, t) {\n\tif (t <= 0 || t >= 1) {\n\t\treturn 0;\n\t}\n\tlet ax = segment[i],\n\t\tay = segment[i+1],\n\t\tcp1x = segment[i+2],\n\t\tcp1y = segment[i+3],\n\t\tcp2x = segment[i+4],\n\t\tcp2y = segment[i+5],\n\t\tbx = segment[i+6],\n\t\tby = segment[i+7],\n\t\tx1a = ax + (cp1x - ax) * t,\n\t\tx2 = cp1x + (cp2x - cp1x) * t,\n\t\ty1a = ay + (cp1y - ay) * t,\n\t\ty2 = cp1y + (cp2y - cp1y) * t,\n\t\tx1 = x1a + (x2 - x1a) * t,\n\t\ty1 = y1a + (y2 - y1a) * t,\n\t\tx2a = cp2x + (bx - cp2x) * t,\n\t\ty2a = cp2y + (by - cp2y) * t;\n\tx2 += (x2a - x2) * t;\n\ty2 += (y2a - y2) * t;\n\tsegment.splice(i + 2, 4,\n\t\t_round(x1a),                  //first control point\n\t\t_round(y1a),\n\t\t_round(x1),                   //second control point\n\t\t_round(y1),\n\t\t_round(x1 + (x2 - x1) * t),   //new fabricated anchor on line\n\t\t_round(y1 + (y2 - y1) * t),\n\t\t_round(x2),                   //third control point\n\t\t_round(y2),\n\t\t_round(x2a),                  //fourth control point\n\t\t_round(y2a)\n\t);\n\tsegment.samples && segment.samples.splice(((i / 6) * segment.resolution) | 0, 0, 0, 0, 0, 0, 0, 0);\n\treturn 6;\n}\n\n// returns an object {path, segment, segIndex, i, t}\nfunction getProgressData(rawPath, progress, decoratee, pushToNextIfAtEnd) {\n\tdecoratee = decoratee || {};\n\trawPath.totalLength || cacheRawPathMeasurements(rawPath);\n\tif (progress < 0 || progress > 1) {\n\t\tprogress = _wrapProgress(progress);\n\t}\n\tlet segIndex = 0,\n\t\tsegment = rawPath[0],\n\t\tsamples, resolution, length, min, max, i, t;\n\tif (!progress) {\n\t\tt = i = segIndex = 0;\n\t\tsegment = rawPath[0];\n\t} else if (progress === 1) {\n\t\tt = 1;\n\t\tsegIndex = rawPath.length - 1;\n\t\tsegment = rawPath[segIndex];\n\t\ti = segment.length - 8;\n\t} else {\n\t\tif (rawPath.length > 1) { //speed optimization: most of the time, there's only one segment so skip the recursion.\n\t\t\tlength = rawPath.totalLength * progress;\n\t\t\tmax = i = 0;\n\t\t\twhile ((max += rawPath[i++].totalLength) < length) {\n\t\t\t\tsegIndex = i;\n\t\t\t}\n\t\t\tsegment = rawPath[segIndex];\n\t\t\tmin = max - segment.totalLength;\n\t\t\tprogress = ((length - min) / (max - min)) || 0;\n\t\t}\n\t\tsamples = segment.samples;\n\t\tresolution = segment.resolution; //how many samples per cubic bezier chunk\n\t\tlength = segment.totalLength * progress;\n\t\ti = segment.lookup[~~(length / segment.minLength)] || 0;\n\t\tmin = i ? samples[i-1] : 0;\n\t\tmax = samples[i];\n\t\tif (max < length) {\n\t\t\tmin = max;\n\t\t\tmax = samples[++i];\n\t\t}\n\t\tt = (1 / resolution) * (((length - min) / (max - min)) + ((i % resolution)));\n\t\ti = ~~(i / resolution) * 6;\n\t\tif (pushToNextIfAtEnd && t === 1) {\n\t\t\tif (i + 6 < segment.length) {\n\t\t\t\ti += 6;\n\t\t\t\tt = 0;\n\t\t\t} else if (segIndex + 1 < rawPath.length) {\n\t\t\t\ti = t = 0;\n\t\t\t\tsegment = rawPath[++segIndex];\n\t\t\t}\n\t\t}\n\t}\n\tdecoratee.t = t;\n\tdecoratee.i = i;\n\tdecoratee.path = rawPath;\n\tdecoratee.segment = segment;\n\tdecoratee.segIndex = segIndex;\n\treturn decoratee;\n}\n\nexport function getPositionOnPath(rawPath, progress, includeAngle, point) {\n\tlet segment = rawPath[0],\n\t\tresult = point || {},\n\t\tsamples, resolution, length, min, max, i, t, a, inv;\n\tif (progress < 0 || progress > 1) {\n\t\tprogress = _wrapProgress(progress);\n\t}\n\tif (rawPath.length > 1) { //speed optimization: most of the time, there's only one segment so skip the recursion.\n\t\tlength = rawPath.totalLength * progress;\n\t\tmax = i = 0;\n\t\twhile ((max += rawPath[i++].totalLength) < length) {\n\t\t\tsegment = rawPath[i];\n\t\t}\n\t\tmin = max - segment.totalLength;\n\t\tprogress = ((length - min) / (max - min)) || 0;\n\t}\n\tsamples = segment.samples;\n\tresolution = segment.resolution;\n\tlength = segment.totalLength * progress;\n\ti = segment.lookup[progress < 1 ? ~~(length / segment.minLength) : segment.lookup.length - 1] || 0;\n\tmin = i ? samples[i-1] : 0;\n\tmax = samples[i];\n\tif (max < length) {\n\t\tmin = max;\n\t\tmax = samples[++i];\n\t}\n\tt = ((1 / resolution) * (((length - min) / (max - min)) + ((i % resolution)))) || 0;\n\tinv = 1 - t;\n\ti = ~~(i / resolution) * 6;\n\ta = segment[i];\n\tresult.x = _round((t * t * (segment[i + 6] - a) + 3 * inv * (t * (segment[i + 4] - a) + inv * (segment[i + 2] - a))) * t + a);\n\tresult.y = _round((t * t * (segment[i + 7] - (a = segment[i+1])) + 3 * inv * (t * (segment[i + 5] - a) + inv * (segment[i + 3] - a))) * t + a);\n\tif (includeAngle) {\n\t\tresult.angle = segment.totalLength ? getRotationAtBezierT(segment, i, t >= 1 ? 1 - 1e-9 : t ? t : 1e-9) : segment.angle || 0;\n\t}\n\treturn result;\n}\n\n\n\n//applies a matrix transform to RawPath (or a segment in a RawPath) and returns whatever was passed in (it transforms the values in the array(s), not a copy).\nexport function transformRawPath(rawPath, a, b, c, d, tx, ty) {\n\tlet j = rawPath.length,\n\t\tsegment, l, i, x, y;\n\twhile (--j > -1) {\n\t\tsegment = rawPath[j];\n\t\tl = segment.length;\n\t\tfor (i = 0; i < l; i += 2) {\n\t\t\tx = segment[i];\n\t\t\ty = segment[i+1];\n\t\t\tsegment[i] = x * a + y * c + tx;\n\t\t\tsegment[i+1] = x * b + y * d + ty;\n\t\t}\n\t}\n\trawPath._dirty = 1;\n\treturn rawPath;\n}\n\n\n\n// translates SVG arc data into a segment (cubic beziers). Angle is in degrees.\nfunction arcToSegment(lastX, lastY, rx, ry, angle, largeArcFlag, sweepFlag, x, y) {\n\tif (lastX === x && lastY === y) {\n\t\treturn;\n\t}\n\trx = _abs(rx);\n\try = _abs(ry);\n\tlet angleRad = (angle % 360) * _DEG2RAD,\n\t\tcosAngle = _cos(angleRad),\n\t\tsinAngle = _sin(angleRad),\n\t\tPI = Math.PI,\n\t\tTWOPI = PI * 2,\n\t\tdx2 = (lastX - x) / 2,\n\t\tdy2 = (lastY - y) / 2,\n\t\tx1 = (cosAngle * dx2 + sinAngle * dy2),\n\t\ty1 = (-sinAngle * dx2 + cosAngle * dy2),\n\t\tx1_sq = x1 * x1,\n\t\ty1_sq = y1 * y1,\n\t\tradiiCheck = x1_sq / (rx * rx) + y1_sq / (ry * ry);\n\tif (radiiCheck > 1) {\n\t\trx = _sqrt(radiiCheck) * rx;\n\t\try = _sqrt(radiiCheck) * ry;\n\t}\n\tlet rx_sq = rx * rx,\n\t\try_sq = ry * ry,\n\t\tsq = ((rx_sq * ry_sq) - (rx_sq * y1_sq) - (ry_sq * x1_sq)) / ((rx_sq * y1_sq) + (ry_sq * x1_sq));\n\tif (sq < 0) {\n\t\tsq = 0;\n\t}\n\tlet coef = ((largeArcFlag === sweepFlag) ? -1 : 1) * _sqrt(sq),\n\t\tcx1 = coef * ((rx * y1) / ry),\n\t\tcy1 = coef * -((ry * x1) / rx),\n\t\tsx2 = (lastX + x) / 2,\n\t\tsy2 = (lastY + y) / 2,\n\t\tcx = sx2 + (cosAngle * cx1 - sinAngle * cy1),\n\t\tcy = sy2 + (sinAngle * cx1 + cosAngle * cy1),\n\t\tux = (x1 - cx1) / rx,\n\t\tuy = (y1 - cy1) / ry,\n\t\tvx = (-x1 - cx1) / rx,\n\t\tvy = (-y1 - cy1) / ry,\n\t\ttemp = ux * ux + uy * uy,\n\t\tangleStart = ((uy < 0) ? -1 : 1) * Math.acos(ux / _sqrt(temp)),\n\t\tangleExtent = ((ux * vy - uy * vx < 0) ? -1 : 1) * Math.acos((ux * vx + uy * vy) / _sqrt(temp * (vx * vx + vy * vy)));\n\tisNaN(angleExtent) && (angleExtent = PI); //rare edge case. Math.cos(-1) is NaN.\n\tif (!sweepFlag && angleExtent > 0) {\n\t\tangleExtent -= TWOPI;\n\t} else if (sweepFlag && angleExtent < 0) {\n\t\tangleExtent += TWOPI;\n\t}\n\tangleStart %= TWOPI;\n\tangleExtent %= TWOPI;\n\tlet segments = Math.ceil(_abs(angleExtent) / (TWOPI / 4)),\n\t\trawPath = [],\n\t\tangleIncrement = angleExtent / segments,\n\t\tcontrolLength = 4 / 3 * _sin(angleIncrement / 2) / (1 + _cos(angleIncrement / 2)),\n\t\tma = cosAngle * rx,\n\t\tmb = sinAngle * rx,\n\t\tmc = sinAngle * -ry,\n\t\tmd = cosAngle * ry,\n\t\ti;\n\tfor (i = 0; i < segments; i++) {\n\t\tangle = angleStart + i * angleIncrement;\n\t\tx1 = _cos(angle);\n\t\ty1 = _sin(angle);\n\t\tux = _cos(angle += angleIncrement);\n\t\tuy = _sin(angle);\n\t\trawPath.push(x1 - controlLength * y1, y1 + controlLength * x1, ux + controlLength * uy, uy - controlLength * ux, ux, uy);\n\t}\n\t//now transform according to the actual size of the ellipse/arc (the beziers were noramlized, between 0 and 1 on a circle).\n\tfor (i = 0; i < rawPath.length; i+=2) {\n\t\tx1 = rawPath[i];\n\t\ty1 = rawPath[i+1];\n\t\trawPath[i] = x1 * ma + y1 * mc + cx;\n\t\trawPath[i+1] = x1 * mb + y1 * md + cy;\n\t}\n\trawPath[i-2] = x; //always set the end to exactly where it's supposed to be\n\trawPath[i-1] = y;\n\treturn rawPath;\n}\n\n//Spits back a RawPath with absolute coordinates. Each segment starts with a \"moveTo\" command (x coordinate, then y) and then 2 control points (x, y, x, y), then anchor. The goal is to minimize memory and maximize speed.\nexport function stringToRawPath(d) {\n\tlet a = (d + \"\").replace(_scientific, m => { let n = +m; return (n < 0.0001 && n > -0.0001) ? 0 : n; }).match(_svgPathExp) || [], //some authoring programs spit out very small numbers in scientific notation like \"1e-5\", so make sure we round that down to 0 first.\n\t\tpath = [],\n\t\trelativeX = 0,\n\t\trelativeY = 0,\n\t\ttwoThirds = 2 / 3,\n\t\telements = a.length,\n\t\tpoints = 0,\n\t\terrorMessage = \"ERROR: malformed path: \" + d,\n\t\ti, j, x, y, command, isRelative, segment, startX, startY, difX, difY, beziers, prevCommand, flag1, flag2,\n\t\tline = function(sx, sy, ex, ey) {\n\t\t\tdifX = (ex - sx) / 3;\n\t\t\tdifY = (ey - sy) / 3;\n\t\t\tsegment.push(sx + difX, sy + difY, ex - difX, ey - difY, ex, ey);\n\t\t};\n\tif (!d || !isNaN(a[0]) || isNaN(a[1])) {\n\t\tconsole.log(errorMessage);\n\t\treturn path;\n\t}\n\tfor (i = 0; i < elements; i++) {\n\t\tprevCommand = command;\n\t\tif (isNaN(a[i])) {\n\t\t\tcommand = a[i].toUpperCase();\n\t\t\tisRelative = (command !== a[i]); //lower case means relative\n\t\t} else { //commands like \"C\" can be strung together without any new command characters between.\n\t\t\ti--;\n\t\t}\n\t\tx = +a[i + 1];\n\t\ty = +a[i + 2];\n\t\tif (isRelative) {\n\t\t\tx += relativeX;\n\t\t\ty += relativeY;\n\t\t}\n\t\tif (!i) {\n\t\t\tstartX = x;\n\t\t\tstartY = y;\n\t\t}\n\n\t\t// \"M\" (move)\n\t\tif (command === \"M\") {\n\t\t\tif (segment) {\n\t\t\t\tif (segment.length < 8) { //if the path data was funky and just had a M with no actual drawing anywhere, skip it.\n\t\t\t\t\tpath.length -= 1;\n\t\t\t\t} else {\n\t\t\t\t\tpoints += segment.length;\n\t\t\t\t}\n\t\t\t}\n\t\t\trelativeX = startX = x;\n\t\t\trelativeY = startY = y;\n\t\t\tsegment = [x, y];\n\t\t\tpath.push(segment);\n\t\t\ti += 2;\n\t\t\tcommand = \"L\"; //an \"M\" with more than 2 values gets interpreted as \"lineTo\" commands (\"L\").\n\n\t\t// \"C\" (cubic bezier)\n\t\t} else if (command === \"C\") {\n\t\t\tif (!segment) {\n\t\t\t\tsegment = [0, 0];\n\t\t\t}\n\t\t\tif (!isRelative) {\n\t\t\t\trelativeX = relativeY = 0;\n\t\t\t}\n\t\t\t//note: \"*1\" is just a fast/short way to cast the value as a Number. WAAAY faster in Chrome, slightly slower in Firefox.\n\t\t\tsegment.push(x,\ty, relativeX + a[i + 3] * 1, relativeY + a[i + 4] * 1, (relativeX += a[i + 5] * 1),\t(relativeY += a[i + 6] * 1));\n\t\t\ti += 6;\n\n\t\t// \"S\" (continuation of cubic bezier)\n\t\t} else if (command === \"S\") {\n\t\t\tdifX = relativeX;\n\t\t\tdifY = relativeY;\n\t\t\tif (prevCommand === \"C\" || prevCommand === \"S\") {\n\t\t\t\tdifX += relativeX - segment[segment.length - 4];\n\t\t\t\tdifY += relativeY - segment[segment.length - 3];\n\t\t\t}\n\t\t\tif (!isRelative) {\n\t\t\t\trelativeX = relativeY = 0;\n\t\t\t}\n\t\t\tsegment.push(difX, difY, x,\ty, (relativeX += a[i + 3] * 1), (relativeY += a[i + 4] * 1));\n\t\t\ti += 4;\n\n\t\t// \"Q\" (quadratic bezier)\n\t\t} else if (command === \"Q\") {\n\t\t\tdifX = relativeX + (x - relativeX) * twoThirds;\n\t\t\tdifY = relativeY + (y - relativeY) * twoThirds;\n\t\t\tif (!isRelative) {\n\t\t\t\trelativeX = relativeY = 0;\n\t\t\t}\n\t\t\trelativeX += a[i + 3] * 1;\n\t\t\trelativeY += a[i + 4] * 1;\n\t\t\tsegment.push(difX, difY, relativeX + (x - relativeX) * twoThirds, relativeY + (y - relativeY) * twoThirds, relativeX, relativeY);\n\t\t\ti += 4;\n\n\t\t// \"T\" (continuation of quadratic bezier)\n\t\t} else if (command === \"T\") {\n\t\t\tdifX = relativeX - segment[segment.length - 4];\n\t\t\tdifY = relativeY - segment[segment.length - 3];\n\t\t\tsegment.push(relativeX + difX, relativeY + difY, x + ((relativeX + difX * 1.5) - x) * twoThirds, y + ((relativeY + difY * 1.5) - y) * twoThirds, (relativeX = x), (relativeY = y));\n\t\t\ti += 2;\n\n\t\t// \"H\" (horizontal line)\n\t\t} else if (command === \"H\") {\n\t\t\tline(relativeX, relativeY, (relativeX = x), relativeY);\n\t\t\ti += 1;\n\n\t\t// \"V\" (vertical line)\n\t\t} else if (command === \"V\") {\n\t\t\t//adjust values because the first (and only one) isn't x in this case, it's y.\n\t\t\tline(relativeX, relativeY, relativeX, (relativeY = x + (isRelative ? relativeY - relativeX : 0)));\n\t\t\ti += 1;\n\n\t\t// \"L\" (line) or \"Z\" (close)\n\t\t} else if (command === \"L\" || command === \"Z\") {\n\t\t\tif (command === \"Z\") {\n\t\t\t\tx = startX;\n\t\t\t\ty = startY;\n\t\t\t\tsegment.closed = true;\n\t\t\t}\n\t\t\tif (command === \"L\" || _abs(relativeX - x) > 0.5 || _abs(relativeY - y) > 0.5) {\n\t\t\t\tline(relativeX, relativeY, x, y);\n\t\t\t\tif (command === \"L\") {\n\t\t\t\t\ti += 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\trelativeX = x;\n\t\t\trelativeY = y;\n\n\t\t// \"A\" (arc)\n\t\t} else if (command === \"A\") {\n\t\t\tflag1 = a[i+4];\n\t\t\tflag2 = a[i+5];\n\t\t\tdifX = a[i+6];\n\t\t\tdifY = a[i+7];\n\t\t\tj = 7;\n\t\t\tif (flag1.length > 1) { // for cases when the flags are merged, like \"a8 8 0 018 8\" (the 0 and 1 flags are WITH the x value of 8, but it could also be \"a8 8 0 01-8 8\" so it may include x or not)\n\t\t\t\tif (flag1.length < 3) {\n\t\t\t\t\tdifY = difX;\n\t\t\t\t\tdifX = flag2;\n\t\t\t\t\tj--;\n\t\t\t\t} else {\n\t\t\t\t\tdifY = flag2;\n\t\t\t\t\tdifX = flag1.substr(2);\n\t\t\t\t\tj-=2;\n\t\t\t\t}\n\t\t\t\tflag2 = flag1.charAt(1);\n\t\t\t\tflag1 = flag1.charAt(0);\n\t\t\t}\n\t\t\tbeziers = arcToSegment(relativeX, relativeY, +a[i+1], +a[i+2], +a[i+3], +flag1, +flag2, (isRelative ? relativeX : 0) + difX*1, (isRelative ? relativeY : 0) + difY*1);\n\t\t\ti += j;\n\t\t\tif (beziers) {\n\t\t\t\tfor (j = 0; j < beziers.length; j++) {\n\t\t\t\t\tsegment.push(beziers[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t\trelativeX = segment[segment.length-2];\n\t\t\trelativeY = segment[segment.length-1];\n\n\t\t} else {\n\t\t\tconsole.log(errorMessage);\n\t\t}\n\t}\n\ti = segment.length;\n\tif (i < 6) { //in case there's odd SVG like a M0,0 command at the very end.\n\t\tpath.pop();\n\t\ti = 0;\n\t} else if (segment[0] === segment[i-2] && segment[1] === segment[i-1]) {\n\t\tsegment.closed = true;\n\t}\n\tpath.totalPoints = points + i;\n\treturn path;\n}\n\n//populates the points array in alternating x/y values (like [x, y, x, y...] instead of individual point objects [{x, y}, {x, y}...] to conserve memory and stay in line with how we're handling segment arrays\nexport function bezierToPoints(x1, y1, x2, y2, x3, y3, x4, y4, threshold, points, index) {\n\tlet x12 = (x1 + x2) / 2,\n\t\ty12 = (y1 + y2) / 2,\n\t\tx23 = (x2 + x3) / 2,\n\t\ty23 = (y2 + y3) / 2,\n\t\tx34 = (x3 + x4) / 2,\n\t\ty34 = (y3 + y4) / 2,\n\t\tx123 = (x12 + x23) / 2,\n\t\ty123 = (y12 + y23) / 2,\n\t\tx234 = (x23 + x34) / 2,\n\t\ty234 = (y23 + y34) / 2,\n\t\tx1234 = (x123 + x234) / 2,\n\t\ty1234 = (y123 + y234) / 2,\n\t\tdx = x4 - x1,\n\t\tdy = y4 - y1,\n\t\td2 = _abs((x2 - x4) * dy - (y2 - y4) * dx),\n\t\td3 = _abs((x3 - x4) * dy - (y3 - y4) * dx),\n\t\tlength;\n\tif (!points) {\n\t\tpoints = [x1, y1, x4, y4];\n\t\tindex = 2;\n\t}\n\tpoints.splice(index || points.length - 2, 0, x1234, y1234);\n\tif ((d2 + d3) * (d2 + d3) > threshold * (dx * dx + dy * dy)) {\n\t\tlength = points.length;\n\t\tbezierToPoints(x1, y1, x12, y12, x123, y123, x1234, y1234, threshold, points, index);\n\t\tbezierToPoints(x1234, y1234, x234, y234, x34, y34, x4, y4, threshold, points, index + 2 + (points.length - length));\n\t}\n\treturn points;\n}\n\n/*\nfunction getAngleBetweenPoints(x0, y0, x1, y1, x2, y2) { //angle between 3 points in radians\n\tvar dx1 = x1 - x0,\n\t\tdy1 = y1 - y0,\n\t\tdx2 = x2 - x1,\n\t\tdy2 = y2 - y1,\n\t\tdx3 = x2 - x0,\n\t\tdy3 = y2 - y0,\n\t\ta = dx1 * dx1 + dy1 * dy1,\n\t\tb = dx2 * dx2 + dy2 * dy2,\n\t\tc = dx3 * dx3 + dy3 * dy3;\n\treturn Math.acos( (a + b - c) / _sqrt(4 * a * b) );\n},\n*/\n\n//pointsToSegment() doesn't handle flat coordinates (where y is always 0) the way we need (the resulting control points are always right on top of the anchors), so this function basically makes the control points go directly up and down, varying in length based on the curviness (more curvy, further control points)\nexport function flatPointsToSegment(points, curviness=1) {\n\tlet x = points[0],\n\t\ty = 0,\n\t\tsegment = [x, y],\n\t\ti = 2;\n\tfor (; i < points.length; i+=2) {\n\t\tsegment.push(\n\t\t\tx,\n\t\t\ty,\n\t\t\tpoints[i],\n\t\t\t(y = (points[i] - x) * curviness / 2),\n\t\t\t(x = points[i]),\n\t\t\t-y\n\t\t);\n\t}\n\treturn segment;\n}\n\n//points is an array of x/y points, like [x, y, x, y, x, y]\nexport function pointsToSegment(points, curviness, cornerThreshold) {\n\t//points = simplifyPoints(points, tolerance);\n\t_abs(points[0] - points[2]) < 1e-4 && _abs(points[1] - points[3]) < 1e-4 && (points = points.slice(2)); // if the first two points are super close, dump the first one.\n\tlet l = points.length-2,\n\t\tx = +points[0],\n\t\ty = +points[1],\n\t\tnextX = +points[2],\n\t\tnextY = +points[3],\n\t\tsegment = [x, y, x, y],\n\t\tdx2 = nextX - x,\n\t\tdy2 = nextY - y,\n\t\tclosed = Math.abs(points[l] - x) < 0.001 && Math.abs(points[l+1] - y) < 0.001,\n\t\tprevX, prevY, angle, slope, i, dx1, dx3, dy1, dy3, d1, d2, a, b, c;\n\tif (isNaN(cornerThreshold)) {\n\t\tcornerThreshold = Math.PI / 10;\n\t}\n\tif (closed) { // if the start and end points are basically on top of each other, close the segment by adding the 2nd point to the end, and the 2nd-to-last point to the beginning (we'll remove them at the end, but this allows the curvature to look perfect)\n\t\tpoints.push(nextX, nextY);\n\t\tnextX = x;\n\t\tnextY = y;\n\t\tx = points[l-2];\n\t\ty = points[l-1];\n\t\tpoints.unshift(x, y);\n\t\tl+=4;\n\t}\n\tcurviness = (curviness || curviness === 0) ? +curviness : 1;\n\tfor (i = 2; i < l; i+=2) {\n\t\tprevX = x;\n\t\tprevY = y;\n\t\tx = nextX;\n\t\ty = nextY;\n\t\tnextX = +points[i+2];\n\t\tnextY = +points[i+3];\n\t\tif (x === nextX && y === nextY) {\n\t\t\tcontinue;\n\t\t}\n\t\tdx1 = dx2;\n\t\tdy1 = dy2;\n\t\tdx2 = nextX - x;\n\t\tdy2 = nextY - y;\n\t\tdx3 = nextX - prevX;\n\t\tdy3 = nextY - prevY;\n\t\ta = dx1 * dx1 + dy1 * dy1;\n\t\tb = dx2 * dx2 + dy2 * dy2;\n\t\tc = dx3 * dx3 + dy3 * dy3;\n\t\tangle = Math.acos( (a + b - c) / _sqrt(4 * a * b) ); //angle between the 3 points\n\t\td2 = (angle / Math.PI) * curviness; //temporary precalculation for speed (reusing d2 variable)\n\t\td1 = _sqrt(a) * d2; //the tighter the angle, the shorter we make the handles in proportion.\n\t\td2 *= _sqrt(b);\n\t\tif (x !== prevX || y !== prevY) {\n\t\t\tif (angle > cornerThreshold) {\n\t\t\t\tslope = _atan2(dy3, dx3);\n\t\t\t\tsegment.push(\n\t\t\t\t\t_round(x - _cos(slope) * d1),   //first control point\n\t\t\t\t\t_round(y - _sin(slope) * d1),\n\t\t\t\t\t_round(x),                      //anchor\n\t\t\t\t\t_round(y),\n\t\t\t\t\t_round(x + _cos(slope) * d2),   //second control point\n\t\t\t\t\t_round(y + _sin(slope) * d2)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tslope = _atan2(dy1, dx1);\n\t\t\t\tsegment.push(\n\t\t\t\t\t_round(x - _cos(slope) * d1),   //first control point\n\t\t\t\t\t_round(y - _sin(slope) * d1));\n\t\t\t\tslope = _atan2(dy2, dx2);\n\t\t\t\tsegment.push(\n\t\t\t\t\t_round(x),                      //anchor\n\t\t\t\t\t_round(y),\n\t\t\t\t\t_round(x + _cos(slope) * d2),   //second control point\n\t\t\t\t\t_round(y + _sin(slope) * d2)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\tx !== nextX || y !== nextY || segment.length < 4 ? segment.push(_round(nextX), _round(nextY), _round(nextX), _round(nextY)) : segment.length -= 2;\n\tif (closed) {\n\t\tsegment.splice(0, 6);\n\t\tsegment.length = segment.length - 6;\n\t}\n\treturn segment;\n}\n\n//returns the squared distance between an x/y coordinate and a segment between x1/y1 and x2/y2\nfunction pointToSegDist(x, y, x1, y1, x2, y2) {\n\tlet dx = x2 - x1,\n\t\tdy = y2 - y1,\n\t\tt;\n\tif (dx || dy) {\n\t\tt = ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy);\n\t\tif (t > 1) {\n\t\t\tx1 = x2;\n\t\t\ty1 = y2;\n\t\t} else if (t > 0) {\n\t\t\tx1 += dx * t;\n\t\t\ty1 += dy * t;\n\t\t}\n\t}\n\treturn (x - x1) ** 2 + (y - y1) ** 2;\n}\n\nfunction simplifyStep(points, first, last, tolerance, simplified) {\n\tlet maxSqDist = tolerance,\n\t\tfirstX = points[first],\n\t\tfirstY = points[first+1],\n\t\tlastX = points[last],\n\t\tlastY = points[last+1],\n\t\tindex, i, d;\n\tfor (i = first + 2; i < last; i += 2) {\n\t\td = pointToSegDist(points[i], points[i+1], firstX, firstY, lastX, lastY);\n\t\tif (d > maxSqDist) {\n\t\t\tindex = i;\n\t\t\tmaxSqDist = d;\n\t\t}\n\t}\n\tif (maxSqDist > tolerance) {\n\t\tindex - first > 2 && simplifyStep(points, first, index, tolerance, simplified);\n\t\tsimplified.push(points[index], points[index+1]);\n\t\tlast - index > 2 && simplifyStep(points, index, last, tolerance, simplified);\n\t}\n}\n\n//points is an array of x/y values like [x, y, x, y, x, y]\nexport function simplifyPoints(points, tolerance) {\n\tlet prevX = parseFloat(points[0]),\n\t\tprevY = parseFloat(points[1]),\n\t\ttemp = [prevX, prevY],\n\t\tl = points.length - 2,\n\t\ti, x, y, dx, dy, result, last;\n\ttolerance = (tolerance || 1) ** 2;\n\tfor (i = 2; i < l; i += 2) {\n\t\tx = parseFloat(points[i]);\n\t\ty = parseFloat(points[i+1]);\n\t\tdx = prevX - x;\n\t\tdy = prevY - y;\n\t\tif (dx * dx + dy * dy > tolerance) {\n\t\t\ttemp.push(x, y);\n\t\t\tprevX = x;\n\t\t\tprevY = y;\n\t\t}\n\t}\n\ttemp.push(parseFloat(points[l]), parseFloat(points[l+1]));\n\tlast = temp.length - 2;\n\tresult = [temp[0], temp[1]];\n\tsimplifyStep(temp, 0, last, tolerance, result);\n\tresult.push(temp[last], temp[last+1]);\n\treturn result;\n}\n\nfunction getClosestProgressOnBezier(iterations, px, py, start, end, slices, x0, y0, x1, y1, x2, y2, x3, y3) {\n\tlet inc = (end - start) / slices,\n\t\tbest = 0,\n\t\tt = start,\n\t\tx, y, d, dx, dy, inv;\n\t_bestDistance = _largeNum;\n\twhile (t <= end) {\n\t\tinv = 1 - t;\n\t\tx = inv * inv * inv * x0 + 3 * inv * inv * t * x1 + 3 * inv * t * t * x2 + t * t * t * x3;\n\t\ty = inv * inv * inv * y0 + 3 * inv * inv * t * y1 + 3 * inv * t * t * y2 + t * t * t * y3;\n\t\tdx = x - px;\n\t\tdy = y - py;\n\t\td = dx * dx + dy * dy;\n\t\tif (d < _bestDistance) {\n\t\t\t_bestDistance = d;\n\t\t\tbest = t;\n\t\t}\n\t\tt += inc;\n\t}\n\treturn (iterations > 1) ? getClosestProgressOnBezier(iterations - 1, px, py, Math.max(best - inc, 0), Math.min(best + inc, 1), slices, x0, y0, x1, y1, x2, y2, x3, y3) : best;\n}\n\nexport function getClosestData(rawPath, x, y, slices) { //returns an object with the closest j, i, and t (j is the segment index, i is the index of the point in that segment, and t is the time/progress along that bezier)\n\tlet closest = {j:0, i:0, t:0},\n\t\tbestDistance = _largeNum,\n\t\ti, j, t, segment;\n\tfor (j = 0; j < rawPath.length; j++) {\n\t\tsegment = rawPath[j];\n\t\tfor (i = 0; i < segment.length; i+=6) {\n\t\t\tt = getClosestProgressOnBezier(1, x, y, 0, 1, slices || 20, segment[i], segment[i+1], segment[i+2], segment[i+3], segment[i+4], segment[i+5], segment[i+6], segment[i+7]);\n\t\t\tif (bestDistance > _bestDistance) {\n\t\t\t\tbestDistance = _bestDistance;\n\t\t\t\tclosest.j = j;\n\t\t\t\tclosest.i = i;\n\t\t\t\tclosest.t = t;\n\t\t\t}\n\t\t}\n\t}\n\treturn closest;\n}\n\n//subdivide a Segment closest to a specific x,y coordinate\nexport function subdivideSegmentNear(x, y, segment, slices, iterations) {\n\tlet l = segment.length,\n\t\tbestDistance = _largeNum,\n\t\tbestT = 0,\n\t\tbestSegmentIndex = 0,\n\t\tt, i;\n\tslices = slices || 20;\n\titerations = iterations || 3;\n\tfor (i = 0; i < l; i += 6) {\n\t\tt = getClosestProgressOnBezier(1, x, y, 0, 1, slices, segment[i], segment[i+1], segment[i+2], segment[i+3], segment[i+4], segment[i+5], segment[i+6], segment[i+7]);\n\t\tif (bestDistance > _bestDistance) {\n\t\t\tbestDistance = _bestDistance;\n\t\t\tbestT = t;\n\t\t\tbestSegmentIndex = i;\n\t\t}\n\t}\n\tt = getClosestProgressOnBezier(iterations, x, y, bestT - 0.05, bestT + 0.05, slices, segment[bestSegmentIndex], segment[bestSegmentIndex+1], segment[bestSegmentIndex+2], segment[bestSegmentIndex+3], segment[bestSegmentIndex+4], segment[bestSegmentIndex+5], segment[bestSegmentIndex+6], segment[bestSegmentIndex+7]);\n\tsubdivideSegment(segment, bestSegmentIndex, t);\n\treturn bestSegmentIndex + 6;\n}\n\n/*\nTakes any of the following and converts it to an all Cubic Bezier SVG data string:\n- A <path> data string like \"M0,0 L2,4 v20,15 H100\"\n- A RawPath, like [[x, y, x, y, x, y, x, y][[x, y, x, y, x, y, x, y]]\n- A Segment, like [x, y, x, y, x, y, x, y]\n\nNote: all numbers are rounded down to the closest 0.001 to minimize memory, maximize speed, and avoid odd numbers like 1e-13\n*/\nexport function rawPathToString(rawPath) {\n\tif (_isNumber(rawPath[0])) { //in case a segment is passed in instead\n\t\trawPath = [rawPath];\n\t}\n\tlet result = \"\",\n\t\tl = rawPath.length,\n\t\tsl, s, i, segment;\n\tfor (s = 0; s < l; s++) {\n\t\tsegment = rawPath[s];\n\t\tresult += \"M\" + _round(segment[0]) + \",\" + _round(segment[1]) + \" C\";\n\t\tsl = segment.length;\n\t\tfor (i = 2; i < sl; i++) {\n\t\t\tresult += _round(segment[i++]) + \",\" + _round(segment[i++]) + \" \" + _round(segment[i++]) + \",\" + _round(segment[i++]) + \" \" + _round(segment[i++]) + \",\" + _round(segment[i]) + \" \";\n\t\t}\n\t\tif (segment.closed) {\n\t\t\tresult += \"z\";\n\t\t}\n\t}\n\treturn result;\n}\n\n/*\n// takes a segment with coordinates [x, y, x, y, ...] and converts the control points into angles and lengths [x, y, angle, length, angle, length, x, y, angle, length, ...] so that it animates more cleanly and avoids odd breaks/kinks. For example, if you animate from 1 o'clock to 6 o'clock, it'd just go directly/linearly rather than around. So the length would be very short in the middle of the tween.\nexport function cpCoordsToAngles(segment, copy) {\n\tvar result = copy ? segment.slice(0) : segment,\n\t\tx, y, i;\n\tfor (i = 0; i < segment.length; i+=6) {\n\t\tx = segment[i+2] - segment[i];\n\t\ty = segment[i+3] - segment[i+1];\n\t\tresult[i+2] = Math.atan2(y, x);\n\t\tresult[i+3] = Math.sqrt(x * x + y * y);\n\t\tx = segment[i+6] - segment[i+4];\n\t\ty = segment[i+7] - segment[i+5];\n\t\tresult[i+4] = Math.atan2(y, x);\n\t\tresult[i+5] = Math.sqrt(x * x + y * y);\n\t}\n\treturn result;\n}\n\n// takes a segment that was converted with cpCoordsToAngles() to have angles and lengths instead of coordinates for the control points, and converts it BACK into coordinates.\nexport function cpAnglesToCoords(segment, copy) {\n\tvar result = copy ? segment.slice(0) : segment,\n\t\tlength = segment.length,\n\t\trnd = 1000,\n\t\tangle, l, i, j;\n\tfor (i = 0; i < length; i+=6) {\n\t\tangle = segment[i+2];\n\t\tl = segment[i+3]; //length\n\t\tresult[i+2] = (((segment[i] + Math.cos(angle) * l) * rnd) | 0) / rnd;\n\t\tresult[i+3] = (((segment[i+1] + Math.sin(angle) * l) * rnd) | 0) / rnd;\n\t\tangle = segment[i+4];\n\t\tl = segment[i+5]; //length\n\t\tresult[i+4] = (((segment[i+6] - Math.cos(angle) * l) * rnd) | 0) / rnd;\n\t\tresult[i+5] = (((segment[i+7] - Math.sin(angle) * l) * rnd) | 0) / rnd;\n\t}\n\treturn result;\n}\n\n//adds an \"isSmooth\" array to each segment and populates it with a boolean value indicating whether or not it's smooth (the control points have basically the same slope). For any smooth control points, it converts the coordinates into angle (x, in radians) and length (y) and puts them into the same index value in a smoothData array.\nexport function populateSmoothData(rawPath) {\n\tlet j = rawPath.length,\n\t\tsmooth, segment, x, y, x2, y2, i, l, a, a2, isSmooth, smoothData;\n\twhile (--j > -1) {\n\t\tsegment = rawPath[j];\n\t\tisSmooth = segment.isSmooth = segment.isSmooth || [0, 0, 0, 0];\n\t\tsmoothData = segment.smoothData = segment.smoothData || [0, 0, 0, 0];\n\t\tisSmooth.length = 4;\n\t\tl = segment.length - 2;\n\t\tfor (i = 6; i < l; i += 6) {\n\t\t\tx = segment[i] - segment[i - 2];\n\t\t\ty = segment[i + 1] - segment[i - 1];\n\t\t\tx2 = segment[i + 2] - segment[i];\n\t\t\ty2 = segment[i + 3] - segment[i + 1];\n\t\t\ta = _atan2(y, x);\n\t\t\ta2 = _atan2(y2, x2);\n\t\t\tsmooth = (Math.abs(a - a2) < 0.09);\n\t\t\tif (smooth) {\n\t\t\t\tsmoothData[i - 2] = a;\n\t\t\t\tsmoothData[i + 2] = a2;\n\t\t\t\tsmoothData[i - 1] = _sqrt(x * x + y * y);\n\t\t\t\tsmoothData[i + 3] = _sqrt(x2 * x2 + y2 * y2);\n\t\t\t}\n\t\t\tisSmooth.push(smooth, smooth, 0, 0, smooth, smooth);\n\t\t}\n\t\t//if the first and last points are identical, check to see if there's a smooth transition. We must handle this a bit differently due to their positions in the array.\n\t\tif (segment[l] === segment[0] && segment[l+1] === segment[1]) {\n\t\t\tx = segment[0] - segment[l-2];\n\t\t\ty = segment[1] - segment[l-1];\n\t\t\tx2 = segment[2] - segment[0];\n\t\t\ty2 = segment[3] - segment[1];\n\t\t\ta = _atan2(y, x);\n\t\t\ta2 = _atan2(y2, x2);\n\t\t\tif (Math.abs(a - a2) < 0.09) {\n\t\t\t\tsmoothData[l-2] = a;\n\t\t\t\tsmoothData[2] = a2;\n\t\t\t\tsmoothData[l-1] = _sqrt(x * x + y * y);\n\t\t\t\tsmoothData[3] = _sqrt(x2 * x2 + y2 * y2);\n\t\t\t\tisSmooth[l-2] = isSmooth[l-1] = true; //don't change indexes 2 and 3 because we'll trigger everything from the END, and this will optimize file size a bit.\n\t\t\t}\n\t\t}\n\t}\n\treturn rawPath;\n}\nexport function pointToScreen(svgElement, point) {\n\tif (arguments.length < 2) { //by default, take the first set of coordinates in the path as the point\n\t\tlet rawPath = getRawPath(svgElement);\n\t\tpoint = svgElement.ownerSVGElement.createSVGPoint();\n\t\tpoint.x = rawPath[0][0];\n\t\tpoint.y = rawPath[0][1];\n\t}\n\treturn point.matrixTransform(svgElement.getScreenCTM());\n}\n\n*/","/*!\n * CustomEase 3.6.0\n * https://greensock.com\n *\n * @license Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n */\n/* eslint-disable */\n// @ts-ignore\n\nimport { stringToRawPath, rawPathToString, transformRawPath } from \"./paths.js\";\n\nlet gsap, _coreInitted,\n\t_getGSAP = () => gsap || (typeof(window) !== \"undefined\" && (gsap = window.gsap) && gsap.registerPlugin && gsap),\n\t_initCore = () => {\n\t\tgsap = _getGSAP();\n\t\tif (gsap) {\n\t\t\tgsap.registerEase(\"_CE\", CustomEase.create);\n\t\t\t_coreInitted = 1;\n\t\t} else {\n\t\t\tconsole.warn(\"Please gsap.registerPlugin(CustomEase)\");\n\t\t}\n\t},\n\t_bigNum = 1e20,\n\t_round = value => ~~(value * 1000 + (value < 0 ? -.5 : .5)) / 1000,\n\t_bonusValidated = 1, //<name>CustomEase</name>\n\t_numExp = /[-+=\\.]*\\d+[\\.e\\-\\+]*\\d*[e\\-\\+]*\\d*/gi, //finds any numbers, including ones that start with += or -=, negative numbers, and ones in scientific notation like 1e-8.\n\t_needsParsingExp = /[cLlsSaAhHvVtTqQ]/g,\n\t_findMinimum = values => {\n\t\tlet l = values.length,\n\t\t\tmin = _bigNum,\n\t\t\ti;\n\t\tfor (i = 1; i < l; i += 6) {\n\t\t\t+values[i] < min && (min = +values[i]);\n\t\t}\n\t\treturn min;\n\t},\n\t//takes all the points and translates/scales them so that the x starts at 0 and ends at 1.\n\t_normalize = (values, height, originY) => {\n\t\tif (!originY && originY !== 0) {\n\t\t\toriginY = Math.max(+values[values.length-1], +values[1]);\n\t\t}\n\t\tlet tx = +values[0] * -1,\n\t\t\tty = -originY,\n\t\t\tl = values.length,\n\t\t\tsx = 1 / (+values[l - 2] + tx),\n\t\t\tsy = -height || ((Math.abs(+values[l - 1] - +values[1]) < 0.01 * (+values[l - 2] - +values[0])) ? _findMinimum(values) + ty : +values[l - 1] + ty),\n\t\t\ti;\n\t\tif (sy) { //typically y ends at 1 (so that the end values are reached)\n\t\t\tsy = 1 / sy;\n\t\t} else { //in case the ease returns to its beginning value, scale everything proportionally\n\t\t\tsy = -sx;\n\t\t}\n\t\tfor (i = 0; i < l; i += 2) {\n\t\t\tvalues[i] = (+values[i] + tx) * sx;\n\t\t\tvalues[i + 1] = (+values[i + 1] + ty) * sy;\n\t\t}\n\t},\n\t//note that this function returns point objects like {x, y} rather than working with segments which are arrays with alternating x, y values as in the similar function in paths.js\n\t_bezierToPoints = function (x1, y1, x2, y2, x3, y3, x4, y4, threshold, points, index) {\n\t\tlet x12 = (x1 + x2) / 2,\n\t\t\ty12 = (y1 + y2) / 2,\n\t\t\tx23 = (x2 + x3) / 2,\n\t\t\ty23 = (y2 + y3) / 2,\n\t\t\tx34 = (x3 + x4) / 2,\n\t\t\ty34 = (y3 + y4) / 2,\n\t\t\tx123 = (x12 + x23) / 2,\n\t\t\ty123 = (y12 + y23) / 2,\n\t\t\tx234 = (x23 + x34) / 2,\n\t\t\ty234 = (y23 + y34) / 2,\n\t\t\tx1234 = (x123 + x234) / 2,\n\t\t\ty1234 = (y123 + y234) / 2,\n\t\t\tdx = x4 - x1,\n\t\t\tdy = y4 - y1,\n\t\t\td2 = Math.abs((x2 - x4) * dy - (y2 - y4) * dx),\n\t\t\td3 = Math.abs((x3 - x4) * dy - (y3 - y4) * dx),\n\t\t\tlength;\n\t\tif (!points) {\n\t\t\tpoints = [{x: x1, y: y1}, {x: x4, y: y4}];\n\t\t\tindex = 1;\n\t\t}\n\t\tpoints.splice(index || points.length - 1, 0, {x: x1234, y: y1234});\n\t\tif ((d2 + d3) * (d2 + d3) > threshold * (dx * dx + dy * dy)) {\n\t\t\tlength = points.length;\n\t\t\t_bezierToPoints(x1, y1, x12, y12, x123, y123, x1234, y1234, threshold, points, index);\n\t\t\t_bezierToPoints(x1234, y1234, x234, y234, x34, y34, x4, y4, threshold, points, index + 1 + (points.length - length));\n\t\t}\n\t\treturn points;\n\t};\n\nexport class CustomEase {\n\n\tconstructor(id, data, config) {\n\t\t_coreInitted || _initCore();\n\t\tthis.id = id;\n\t\t_bonusValidated && this.setData(data, config);\n\t}\n\n\tsetData(data, config) {\n\t\tconfig = config || {};\n\t\tdata = data || \"0,0,1,1\";\n\t\tlet values = data.match(_numExp),\n\t\t\tclosest = 1,\n\t\t\tpoints = [],\n\t\t\tlookup = [],\n\t\t\tprecision = config.precision || 1,\n\t\t\tfast = (precision <= 1),\n\t\t\tl, a1, a2, i, inc, j, point, prevPoint, p;\n\t\tthis.data = data;\n\t\tif (_needsParsingExp.test(data) || (~data.indexOf(\"M\") && data.indexOf(\"C\") < 0)) {\n\t\t\tvalues = stringToRawPath(data)[0];\n\t\t}\n\t\tl = values.length;\n\t\tif (l === 4) {\n\t\t\tvalues.unshift(0, 0);\n\t\t\tvalues.push(1, 1);\n\t\t\tl = 8;\n\t\t} else if ((l - 2) % 6) {\n\t\t\tthrow \"Invalid CustomEase\";\n\t\t}\n\t\tif (+values[0] !== 0 || +values[l - 2] !== 1) {\n\t\t\t_normalize(values, config.height, config.originY);\n\t\t}\n\t\tthis.segment = values;\n\t\tfor (i = 2; i < l; i += 6) {\n\t\t\ta1 = {x: +values[i - 2], y: +values[i - 1]};\n\t\t\ta2 = {x: +values[i + 4], y: +values[i + 5]};\n\t\t\tpoints.push(a1, a2);\n\t\t\t_bezierToPoints(a1.x, a1.y, +values[i], +values[i + 1], +values[i + 2], +values[i + 3], a2.x, a2.y, 1 / (precision * 200000), points, points.length - 1);\n\t\t}\n\t\tl = points.length;\n\t\tfor (i = 0; i < l; i++) {\n\t\t\tpoint = points[i];\n\t\t\tprevPoint = points[i - 1] || point;\n\t\t\tif ((point.x > prevPoint.x || (prevPoint.y !== point.y && prevPoint.x === point.x) || point === prevPoint) && point.x <= 1) { //if a point goes BACKWARD in time or is a duplicate, just drop it. Also it shouldn't go past 1 on the x axis, as could happen in a string like \"M0,0 C0,0 0.12,0.68 0.18,0.788 0.195,0.845 0.308,1 0.32,1 0.403,1.005 0.398,1 0.5,1 0.602,1 0.816,1.005 0.9,1 0.91,1 0.948,0.69 0.962,0.615 1.003,0.376 1,0 1,0\".\n\t\t\t\tprevPoint.cx = point.x - prevPoint.x; //change in x between this point and the next point (performance optimization)\n\t\t\t\tprevPoint.cy = point.y - prevPoint.y;\n\t\t\t\tprevPoint.n = point;\n\t\t\t\tprevPoint.nx = point.x; //next point's x value (performance optimization, making lookups faster in getRatio()). Remember, the lookup will always land on a spot where it's either this point or the very next one (never beyond that)\n\t\t\t\tif (fast && i > 1 && Math.abs(prevPoint.cy / prevPoint.cx - points[i - 2].cy / points[i - 2].cx) > 2) { //if there's a sudden change in direction, prioritize accuracy over speed. Like a bounce ease - you don't want to risk the sampling chunks landing on each side of the bounce anchor and having it clipped off.\n\t\t\t\t\tfast = 0;\n\t\t\t\t}\n\t\t\t\tif (prevPoint.cx < closest) {\n\t\t\t\t\tif (!prevPoint.cx) {\n\t\t\t\t\t\tprevPoint.cx = 0.001; //avoids math problems in getRatio() (dividing by zero)\n\t\t\t\t\t\tif (i === l - 1) { //in case the final segment goes vertical RIGHT at the end, make sure we end at the end.\n\t\t\t\t\t\t\tprevPoint.x -= 0.001;\n\t\t\t\t\t\t\tclosest = Math.min(closest, 0.001);\n\t\t\t\t\t\t\tfast = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclosest = prevPoint.cx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpoints.splice(i--, 1);\n\t\t\t\tl--;\n\t\t\t}\n\t\t}\n\t\tl = (1 / closest + 1) | 0;\n\t\tinc = 1 / l;\n\t\tj = 0;\n\t\tpoint = points[0];\n\t\tif (fast) {\n\t\t\tfor (i = 0; i < l; i++) { //for fastest lookups, we just sample along the path at equal x (time) distance. Uses more memory and is slightly less accurate for anchors that don't land on the sampling points, but for the vast majority of eases it's excellent (and fast).\n\t\t\t\tp = i * inc;\n\t\t\t\tif (point.nx < p) {\n\t\t\t\t\tpoint = points[++j];\n\t\t\t\t}\n\t\t\t\ta1 = point.y + ((p - point.x) / point.cx) * point.cy;\n\t\t\t\tlookup[i] = {x: p, cx: inc, y: a1, cy: 0, nx: 9};\n\t\t\t\tif (i) {\n\t\t\t\t\tlookup[i - 1].cy = a1 - lookup[i - 1].y;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlookup[l - 1].cy = points[points.length - 1].y - a1;\n\t\t} else { //this option is more accurate, ensuring that EVERY anchor is hit perfectly. Clipping across a bounce, for example, would never happen.\n\t\t\tfor (i = 0; i < l; i++) { //build a lookup table based on the smallest distance so that we can instantly find the appropriate point (well, it'll either be that point or the very next one). We'll look up based on the linear progress. So it's it's 0.5 and the lookup table has 100 elements, it'd be like lookup[Math.floor(0.5 * 100)]\n\t\t\t\tif (point.nx < i * inc) {\n\t\t\t\t\tpoint = points[++j];\n\t\t\t\t}\n\t\t\t\tlookup[i] = point;\n\t\t\t}\n\n\t\t\tif (j < points.length - 1) {\n\t\t\t\tlookup[i-1] = points[points.length-2];\n\t\t\t}\n\t\t}\n\t\t//this._calcEnd = (points[points.length-1].y !== 1 || points[0].y !== 0); //ensures that we don't run into floating point errors. As long as we're starting at 0 and ending at 1, tell GSAP to skip the final calculation and use 0/1 as the factor.\n\n\t\tthis.ease = p => {\n\t\t\tlet point = lookup[(p * l) | 0] || lookup[l - 1];\n\t\t\tif (point.nx < p) {\n\t\t\t\tpoint = point.n;\n\t\t\t}\n\n\t\t\tlet res = point.y + ((p - point.x) / point.cx) * point.cy\n\n\t\t\tif (config.onUpdate) {\n\t\t\t\tconfig.onUpdate(res);\n\t\t\t}\n\n\t\t\treturn res;\n\t\t};\n\n\t\tthis.ease.custom = this;\n\n\t\tthis.id && gsap.registerEase(this.id, this.ease);\n\n\t\treturn this;\n\t}\n\n\tgetSVGData(config) {\n\t\treturn CustomEase.getSVGData(this, config);\n\t}\n\n\tstatic create(id, data, config) {\n\t\treturn (new CustomEase(id, data, config)).ease;\n\t}\n\n\tstatic register(core) {\n\t\tgsap = core;\n\t\t_initCore();\n\t}\n\n\tstatic get(id) {\n\t\treturn gsap.parseEase(id);\n\t}\n\n\tstatic getSVGData(ease, config) {\n\t\tconfig = config || {};\n\t\tlet width = config.width || 100,\n\t\t\theight = config.height || 100,\n\t\t\tx = config.x || 0,\n\t\t\ty = (config.y || 0) + height,\n\t\t\te = gsap.utils.toArray(config.path)[0],\n\t\t\ta, slope, i, inc, tx, ty, precision, threshold, prevX, prevY;\n\t\tif (config.invert) {\n\t\t\theight = -height;\n\t\t\ty = 0;\n\t\t}\n\t\tif (typeof(ease) === \"string\") {\n\t\t\tease = gsap.parseEase(ease);\n\t\t}\n\t\tif (ease.custom) {\n\t\t\tease = ease.custom;\n\t\t}\n\t\tif (ease instanceof CustomEase) {\n\t\t\ta = rawPathToString(transformRawPath([ease.segment], width, 0, 0, -height, x, y));\n\t\t} else {\n\t\t\ta = [x, y];\n\t\t\tprecision = Math.max(5, (config.precision || 1) * 200);\n\t\t\tinc = 1 / precision;\n\t\t\tprecision += 2;\n\t\t\tthreshold = 5 / precision;\n\t\t\tprevX = _round(x + inc * width);\n\t\t\tprevY = _round(y + ease(inc) * -height);\n\t\t\tslope = (prevY - y) / (prevX - x);\n\t\t\tfor (i = 2; i < precision; i++) {\n\t\t\t\ttx = _round(x + i * inc * width);\n\t\t\t\tty = _round(y + ease(i * inc) * -height);\n\t\t\t\tif (Math.abs((ty - prevY) / (tx - prevX) - slope) > threshold || i === precision - 1) { //only add points when the slope changes beyond the threshold\n\t\t\t\t\ta.push(prevX, prevY);\n\t\t\t\t\tslope = (ty - prevY) / (tx - prevX);\n\t\t\t\t}\n\t\t\t\tprevX = tx;\n\t\t\t\tprevY = ty;\n\t\t\t}\n\t\t\ta = \"M\" + a.join(\",\");\n\t\t}\n\t\te && e.setAttribute(\"d\", a);\n\t\treturn a;\n\t}\n\n}\n\n_getGSAP() && gsap.registerPlugin(CustomEase);\n\nCustomEase.version = \"3.6.0\";\n\nexport { CustomEase as default };","export interface RandomPaceConfig {\n  points: number; // кол-во перегибов\n  allowBackStep: boolean; // возможность крутиться в обратную сторону\n  valueRandomZone: number; // высота рандома 0-1\n  xRandomZone: number; // процент зоны в котором будет рандомится точка по x 0-1\n  valueDisabledZone: number; // процент зона, в которой не будут генериться точки 0-1\n  randomOffset: number; // зона от правого края, в которой начинается рандом 0-0.5\n}\n\nexport interface Point {\n  x: number;\n  y: number;\n}\n\nconst initialCurve = 'M0,0,C0.104,0.204';\n// const initialPoints: Point[] = [{ x: 0.448, y: 0.908 }];\nclass SpinPaceService {\n  config: RandomPaceConfig;\n  path = initialCurve;\n  points: Point[] = [];\n  constructor({ valueRandomZone, randomOffset, ...config }: RandomPaceConfig, rotation: number, spinTime: number) {\n    this.config = { ...config, valueRandomZone: valueRandomZone / rotation, randomOffset: randomOffset / spinTime };\n  }\n\n  getInitialCurvePoint = (progress: number): number => 1 - (1 - progress) ** 2;\n\n  addStartPoint = (): void => {\n    const { randomOffset } = this.config;\n    const x = 1 - randomOffset;\n    const y = this.getInitialCurvePoint(x);\n\n    this.points.push({ x, y });\n\n    this.path = `${this.path},${1 - randomOffset - (1 - randomOffset) / 2},${y - (1 - y) * 2},${x},${y}`;\n  };\n\n  addPoint = (): void => {\n    const { allowBackStep, valueRandomZone, valueDisabledZone } = this.config;\n    const availableSize = valueRandomZone - valueDisabledZone * valueRandomZone;\n    let position;\n\n    if (allowBackStep) {\n      const randomValue = Math.random() * availableSize * 2;\n\n      position =\n        randomValue > availableSize\n          ? randomValue - valueRandomZone - availableSize\n          : randomValue + valueDisabledZone * valueRandomZone;\n    } else {\n      position = Math.random() * availableSize + valueDisabledZone * valueRandomZone;\n    }\n    const { y } = this.points[this.points.length - 1];\n\n    this.points.push({ x: 1, y: position + y });\n  };\n\n  getCurve = (previousPoint: Point, nextPoint: Point): string => {\n    const xOffset = (nextPoint.x - previousPoint.x) / 2;\n    const yOffset = (nextPoint.y - previousPoint.x) / 8;\n    const getCurvePoint = ({ x, y }: Point, isPreviousPoint?: boolean): string =>\n      `${(x + (isPreviousPoint ? xOffset : -xOffset)).toFixed(4)},${(\n        y + (isPreviousPoint ? yOffset : -yOffset)\n      ).toFixed(4)}`;\n\n    return `${getCurvePoint(previousPoint, true)},${getCurvePoint(nextPoint)},${nextPoint.x.toFixed(\n      4,\n    )},${nextPoint.y.toFixed(4)}`;\n  };\n\n  createPath = (): string => {\n    this.points = [];\n\n    this.addStartPoint();\n    this.addPoint();\n\n    return this.points\n      .slice(1)\n      .reduce<string>(\n        (accum, nextPoint, index) => `${accum},${this.getCurve(this.points[index], nextPoint)}`,\n        this.path,\n      );\n  };\n}\n\nexport default SpinPaceService;\n","import { Slot } from '../models/slot.model';\nimport { getSlot, getTotalSize } from '../utils/slots.utils';\n\nexport interface SlotChance {\n  name: string;\n  id: string;\n  chance: number;\n  winsCount?: number;\n}\n\nexport interface SlotChanceDifference {\n  name: string;\n  id: string;\n  amount: number;\n  originalChance: number;\n  dropoutChance: number;\n  chanceDifference: number;\n  winsCount?: number;\n}\n\nclass PredictionService {\n  initialSlots: Slot[];\n  slots: Slot[];\n  initialChances: SlotChance[];\n  dropoutRate: number;\n  preserveLogs: boolean;\n\n  constructor(slots: Slot[], preserveLogs = false, dropoutRate = 1) {\n    this.initialChances = this.normalizeSlotsChances([...slots]);\n    this.slots = [...slots];\n    this.initialSlots = [...slots];\n    this.dropoutRate = dropoutRate;\n    this.preserveLogs = preserveLogs;\n    // console.log(sortSlots(this.getReverseSlots([...slots])));\n  }\n\n  private getReverseSlots = (slots: Slot[]): Slot[] => {\n    const totalSize = getTotalSize(slots);\n\n    return slots.map(({ amount, ...props }) => {\n      return {\n        ...props,\n        amount: PredictionService.getReverseSize(Number(amount), totalSize, slots.length),\n      };\n    });\n  };\n\n  static getReverseSize = (size: number, totalSize: number, length: number): number =>\n    (1 - size / totalSize) / (length - 1);\n\n  private getWinner = (slots: Slot[]): number => {\n    const seed = Math.random();\n    let restAmount = seed * getTotalSize(slots);\n\n    if (this.preserveLogs) {\n      console.log('оставшиеся лоты:');\n      console.log(slots);\n      console.log(`рандом - ${restAmount}`);\n    }\n\n    return slots.findIndex(({ amount }) => {\n      restAmount -= Number(amount);\n\n      return restAmount <= 0;\n    });\n  };\n\n  private performIteration = (slots: Slot[]): string => {\n    const updatedSlots = [...slots];\n    while (updatedSlots.length > 1) {\n      const winner = this.getWinner(this.getReverseSlots(updatedSlots));\n\n      if (this.preserveLogs) {\n        console.log(`${updatedSlots[winner]?.name} вылетел`);\n      }\n\n      updatedSlots.splice(winner, 1);\n    }\n\n    return updatedSlots[0].id;\n  };\n\n  normalizeWinnersData = (data: Map<string, number>, iterations: number): SlotChance[] => {\n    return Array.from(data)\n      .map(([id, wins]) => ({\n        name: getSlot(this.slots, id)?.name || '',\n        chance: (wins / iterations) * 100,\n        id,\n        winsCount: wins,\n      }))\n      .sort(({ chance: a }, { chance: b }) => b - a);\n  };\n\n  normalizeSlotsChances = (slots: Slot[]): SlotChance[] => {\n    const total = getTotalSize(slots);\n    return slots\n      .map<SlotChance>(({ amount, name, id }) => ({ id, chance: (Number(amount) / total) * 100, name: name || '' }))\n      .sort(({ chance: a }, { chance: b }) => b - a);\n  };\n\n  getChance = (chances: SlotChance[], slotId: string): number => chances.find(({ id }) => id === slotId)?.chance || 0;\n\n  getChanceDifference = (a: SlotChance[], b: SlotChance[]): SlotChance[] => {\n    return a.map(({ name, chance, id }) => ({ id, name, chance: chance - this.getChance(b, id) }));\n  };\n\n  predictChances = (count: number): Map<string, number> => {\n    const winningMap = new Map<string, number>();\n    const slots = [...this.slots];\n    // console.log([...this.slots]);\n\n    new Array(count).fill(null).forEach((_, i) => {\n      if (this.preserveLogs) {\n        console.log(`итерация - ${i}`);\n      }\n\n      const winner = this.performIteration([...slots]);\n      const previousWins = winningMap.get(winner);\n\n      previousWins ? winningMap.set(winner, previousWins + 1) : winningMap.set(winner, 1);\n    });\n\n    // console.log(testMap);\n\n    return winningMap;\n  };\n\n  researchDifference = (count: number): SlotChanceDifference[] => {\n    const winners = this.predictChances(count);\n\n    return this.initialSlots.map<SlotChanceDifference>(({ name, id, amount }) => {\n      const winsCount = winners.get(id) || 0;\n      const dropoutChance = winsCount ? (winsCount / count) * 100 : 0;\n      const originalChance = this.initialChances.find(({ id: slotId }) => id === slotId)?.chance || 0;\n      const chanceDifference = dropoutChance - originalChance;\n\n      return {\n        name: name || '',\n        id,\n        amount: Number(amount),\n        originalChance: Number(originalChance.toFixed(3)),\n        dropoutChance: Number(dropoutChance.toFixed(3)),\n        chanceDifference: Number(chanceDifference.toFixed(3)),\n        winsCount,\n      };\n    });\n  };\n\n  updateAmount = (slotId: string, diff: number): void => {\n    const index = this.slots.findIndex(({ id }) => slotId === id);\n\n    if (index >= 0) {\n      const { amount } = this.slots[index];\n      const amountChange = (Number(amount) * diff) / 50;\n      // console.log(`${name} - ${diff} - ${amountChange}`);\n      this.slots[index] = { ...this.slots[index], amount: Number(amount) - amountChange };\n    }\n  };\n}\n\nexport default PredictionService;\n","import React, { CSSProperties, Key, ReactNode, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport gsap from 'gsap';\n// eslint-disable-next-line import/no-named-as-default\nimport { Button, Dialog, DialogActions, DialogContent, Link, Typography } from '@material-ui/core';\nimport { useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport CustomEase from '../utils/CustomEase';\nimport { WheelItem, WheelItemWithAngle } from '../models/wheel.model';\nimport pradenW from '../assets/img/pradenW.png';\nimport { fitText, shuffle } from '../utils/common.utils';\nimport SpinPaceService, { RandomPaceConfig } from '../services/SpinPaceService';\nimport { SPIN_PATH } from '../constants/wheel';\nimport PredictionService from '../services/PredictionService';\nimport { addAlert } from '../reducers/notifications/notifications';\nimport { AlertTypeEnum } from '../models/alert.model';\n\ninterface WheelResult {\n  wheelComponent: ReactNode;\n  clearWinner: () => void;\n  spin: (seed?: number, paceConfig?: RandomPaceConfig) => void;\n}\n\ninterface WheelConfig {\n  rawItems: WheelItem[];\n  onWin: (item: WheelItem) => void;\n  background?: string | null;\n  spinTime?: number;\n  dropout?: boolean;\n  dropoutRate?: number;\n  randomPaceConfig?: RandomPaceConfig;\n  deleteItem?: (id: Key) => void;\n  isShuffle?: boolean;\n}\n\nwindow.gsap = gsap;\n\ntype Context = CanvasRenderingContext2D;\n\nconst centerCircleStyles = (background?: string | null): CSSProperties => ({\n  backgroundImage: `url(${background || pradenW})`,\n  backgroundColor: 'transparent',\n  backgroundPosition: 'center',\n  backgroundSize: 'cover',\n  backgroundRepeat: 'no-repeat',\n});\n\nconst borderWidth = 3;\nconst maxTextLength = 21;\nconst maxWinnerLength = 35;\nconst selectorAngle = (Math.PI / 2) * 3;\n\nconst getWheelAngle = (rotate: number): number => {\n  const degree = 360 - (rotate % 360);\n  const angle = (degree * Math.PI) / 180 + selectorAngle;\n\n  return angle > Math.PI * 2 ? angle - Math.PI * 2 : angle;\n};\n\nconst useWheel = ({\n  rawItems,\n  background,\n  dropout,\n  onWin,\n  deleteItem,\n  spinTime = 20,\n  dropoutRate = 1,\n  isShuffle = true,\n}: WheelConfig): WheelResult => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const canvas = useRef<HTMLCanvasElement>(null);\n  const wheelSelector = useRef<HTMLCanvasElement>(null);\n  const spinTarget = useRef<HTMLDivElement>(null);\n  const wrapper = useRef<HTMLDivElement>(null);\n  const shuffledItems = useMemo(() => (isShuffle ? shuffle(rawItems) : rawItems), [isShuffle, rawItems]);\n  const items = useMemo<WheelItem[]>(\n    () => shuffledItems.map(({ amount, ...rest }) => ({ ...rest, amount: (amount || 1) ** dropoutRate })),\n    [dropoutRate, shuffledItems],\n  );\n  const totalSize = useMemo(() => items.reduce((acc, { amount }) => acc + (amount || 1), 0), [items]);\n  const [rotate, setRotate] = useState<number>(0);\n  const [offset, setOffset] = useState<number>(0);\n  const [winnerItem, setWinnerItem] = useState<WheelItem>();\n\n  const getReverseSize = useCallback(\n    (size: number) => PredictionService.getReverseSize(size, totalSize, rawItems.length),\n    [rawItems.length, totalSize],\n  );\n\n  const normalizedItems = useMemo(() => {\n    let angleOffset = 0;\n    const actualItems = dropout ? items.map((item) => ({ ...item, amount: getReverseSize(item.amount || 1) })) : items;\n    const actualTotalSize = dropout ? actualItems.reduce((acc, { amount }) => acc + (amount || 1), 0) : totalSize;\n\n    return actualItems.map<WheelItemWithAngle>((item) => {\n      const size = (item.amount || 1) / actualTotalSize;\n      const angle = 2 * Math.PI * size;\n      const resultItem = {\n        ...item,\n        startAngle: angleOffset,\n        endAngle: angleOffset + angle,\n        name: item.name,\n      };\n      angleOffset = resultItem.endAngle;\n\n      return resultItem;\n    });\n  }, [dropout, getReverseSize, items, totalSize]);\n\n  const normalizedRef = useRef(normalizedItems);\n\n  useEffect(() => {\n    normalizedRef.current = normalizedItems;\n  }, [normalizedItems]);\n\n  const drawSlice = (\n    ctx: Context,\n    center: number,\n    { startAngle, endAngle, color }: Pick<WheelItemWithAngle, 'startAngle' | 'endAngle' | 'color'>,\n    pieEdgeDefault?: { x: number; y: number },\n  ): void => {\n    if (!ctx) {\n      return;\n    }\n\n    ctx.fillStyle = color;\n    ctx.strokeStyle = '#eee';\n    ctx.lineWidth = borderWidth;\n\n    const pieEdge = pieEdgeDefault || { x: center, y: center };\n    const radius = center - ctx.lineWidth;\n\n    ctx.beginPath();\n    ctx.moveTo(pieEdge.x, pieEdge.y);\n    ctx.arc(center, center, radius, startAngle, endAngle);\n    ctx.closePath();\n    ctx.fill();\n    ctx.moveTo(pieEdge.x, pieEdge.y);\n    ctx.stroke();\n  };\n\n  const drawText = (ctx: Context, center: number, { startAngle, endAngle, name }: WheelItemWithAngle): void => {\n    if ((endAngle - startAngle) / Math.PI / 2 < 0.017) {\n      return;\n    }\n\n    const radius = center - 3;\n    const text = fitText(name, maxTextLength);\n\n    ctx.save();\n    ctx.fillStyle = '#fff';\n    ctx.font = '22px Arial';\n    ctx.textBaseline = 'middle';\n\n    const offsetModifier = -text.length * 0.007 + 1.3;\n    const textRadius = (radius - ctx.measureText(text).width) / offsetModifier;\n    const centerAngle = endAngle - (endAngle - startAngle) / 2;\n    const textCoords = {\n      x: textRadius * Math.cos(centerAngle) + borderWidth,\n      y: textRadius * Math.sin(centerAngle) + borderWidth,\n    };\n\n    ctx.translate(textCoords.x + radius, textCoords.y + radius);\n    ctx.rotate(centerAngle);\n    ctx.fillText(text, 0, 0);\n    ctx.restore();\n  };\n\n  const resizeCanvas = (canvasElement: HTMLCanvasElement | null): void => {\n    if (wrapper.current && canvasElement) {\n      const canvasSize = Math.max(wrapper.current.clientHeight, wrapper.current.clientWidth) + 8 - 72;\n      canvasElement.height = canvasSize;\n      canvasElement.width = canvasSize;\n      wrapper.current.style.width = `${canvasSize}px`;\n      setOffset(canvasSize);\n    }\n  };\n\n  const getWinner = (previousRotate: number, nextRotate: number, progress = 1): WheelItemWithAngle | undefined => {\n    const currentRotate = previousRotate + nextRotate * progress;\n    const angle = getWheelAngle(currentRotate);\n\n    return normalizedRef.current.find(({ startAngle, endAngle }) => angle >= startAngle && angle <= endAngle);\n  };\n\n  const onWheelSpin = (previousRotate: number, nextRotate: number, progress: number): void => {\n    const winner = getWinner(previousRotate, nextRotate, progress);\n\n    if (!winner || !spinTarget.current) {\n      return;\n    }\n\n    spinTarget.current.innerHTML = fitText(winner.name, maxWinnerLength);\n  };\n\n  const handleWin = (previousRotate: number, nextRotate: number): void => {\n    const winner = getWinner(previousRotate, nextRotate);\n\n    if (winner && spinTarget.current) {\n      onWin(winner);\n      setWinnerItem(winner);\n      spinTarget.current.innerHTML = fitText(winner.name, maxWinnerLength);\n    }\n  };\n\n  const animateWheel = (previousRotate: number, nextRotate: number, paceConfig?: RandomPaceConfig): number => {\n    if (canvas.current) {\n      const wheelPath = paceConfig ? new SpinPaceService(paceConfig, 270 * spinTime, spinTime).createPath() : SPIN_PATH;\n      const realSpinChange = Number(wheelPath.split(',').splice(-1, 1)[0]) * (nextRotate - previousRotate);\n\n      gsap.to(canvas.current, {\n        duration: spinTime,\n        ease: CustomEase.create('custom', wheelPath, {\n          onUpdate: onWheelSpin.bind(undefined, previousRotate, nextRotate - previousRotate),\n        }),\n        onComplete: handleWin.bind(undefined, previousRotate, realSpinChange),\n        rotate: nextRotate,\n      });\n\n      return previousRotate + realSpinChange;\n    }\n\n    return 0;\n  };\n\n  const spin = (seed?: number | null, paceConfig?: RandomPaceConfig): void => {\n    setWinnerItem(undefined);\n    const winningSeed = seed && !dropout ? seed : Math.random();\n    const randomSpin = winningSeed * 360;\n    const nextRotate = rotate + (paceConfig ? 270 : 240) * spinTime + randomSpin;\n    const correctNextRotate = animateWheel(rotate, nextRotate, paceConfig);\n    setRotate(correctNextRotate);\n  };\n\n  const drawWheel = (): void => {\n    const ctx = canvas.current?.getContext('2d');\n    const selectorCtx = wheelSelector.current?.getContext('2d');\n    const radius = Number(canvas.current?.width) / 2;\n\n    if (ctx) {\n      normalizedItems.forEach((item) => drawSlice(ctx, radius, item));\n      normalizedItems.forEach((item) => drawText(ctx, radius, item));\n    }\n\n    if (selectorCtx) {\n      drawSlice(\n        selectorCtx,\n        radius,\n        { startAngle: selectorAngle - 0.12, endAngle: selectorAngle + 0.12, color: '#353535' },\n        { x: radius, y: 45 },\n      );\n    }\n  };\n\n  const updateWheel = (): void => {\n    drawWheel();\n  };\n\n  useEffect(() => {\n    resizeCanvas(canvas.current);\n    resizeCanvas(wheelSelector.current);\n    // window.addEventListener('resize', updateWheel);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    updateWheel();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [normalizedItems]);\n\n  const clearWinner = useCallback(() => {\n    setWinnerItem(undefined);\n\n    if (spinTarget.current) {\n      spinTarget.current.innerHTML = t('wheel.winner');\n    }\n  }, [t]);\n\n  const circleStyles: CSSProperties = useMemo(() => {\n    const size = offset * 0.2;\n    return {\n      ...centerCircleStyles(background),\n      top: (offset - size) / 2 + 58,\n      left: (offset - size) / 2,\n      width: size,\n      height: size,\n      position: 'absolute',\n      borderRadius: '100%',\n      border: '3px solid #eee',\n    };\n  }, [background, offset]);\n\n  const [dialogOpen, setDialogOpen] = useState<boolean>(false);\n\n  const toggleDialog = () => {\n    setDialogOpen((prev) => !prev);\n  };\n\n  const deleteWinner = () => {\n    if (deleteItem && winnerItem) {\n      deleteItem(winnerItem.id);\n      toggleDialog();\n      dispatch(addAlert({ type: AlertTypeEnum.Success, message: 'лот был удален' }));\n    }\n  };\n\n  const wheelComponent = (\n    <div\n      style={{ width: '0', height: '100%', display: 'inline-block', marginRight: 45, pointerEvents: 'none' }}\n      ref={wrapper}\n    >\n      <Dialog open={dialogOpen} onClose={toggleDialog}>\n        <DialogContent>\n          <Typography>Это действие удалит лот не только из колеса, но и из самого аукциона.</Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={deleteWinner} variant=\"outlined\" color=\"secondary\">\n            {t('wheel.delete')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <div style={{ width: offset }} className=\"wheel-target\" ref={spinTarget}>\n        {t('wheel.winner')}\n      </div>\n      <canvas style={{ position: 'absolute', zIndex: 1 }} ref={wheelSelector} />\n      <canvas ref={canvas} />\n      <div style={circleStyles} />\n      {!!winnerItem && (\n        <div style={{ width: offset, height: offset, pointerEvents: 'all' }} className=\"wheel-winner\">\n          {winnerItem.name.startsWith('https://') ? (\n            <Link href={winnerItem.name} target=\"_blank\">\n              {winnerItem.name}\n            </Link>\n          ) : (\n            <>{winnerItem.name}</>\n          )}\n          {deleteItem && !dropout && (\n            <Button onClick={toggleDialog} variant=\"outlined\" color=\"secondary\">\n              {t('wheel.deleteLot')}\n            </Button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n\n  return { spin, wheelComponent, clearWinner };\n};\n\nexport default useWheel;\n","import React, { ChangeEvent, FC, Key, useCallback, useState } from 'react';\nimport './DropoutWheelProof.scss';\nimport { useSelector } from 'react-redux';\nimport { Button, Checkbox, FormControlLabel, TextField } from '@material-ui/core';\nimport { ColDef, XGrid } from '@material-ui/x-grid';\nimport RadioButtonGroup, { Option } from '../../RadioButtonGroup/RadioButtonGroup';\nimport PredictionService, { SlotChanceDifference } from '../../../services/PredictionService';\nimport { RootState } from '../../../reducers';\nimport { createRandomSlots } from '../../../reducers/Slots/Slots';\nimport { percentsFormatter } from '../../../utils/common.utils';\nimport DropoutFormula from '../../../assets/img/dropout_formula.png';\n\nenum SlotsPresetType {\n  Random,\n  Current,\n}\n\nconst SLOT_PRESETS_OPTIONS: Option[] = [\n  { key: SlotsPresetType.Current, value: 'текущие лоты' },\n  { key: SlotsPresetType.Random, value: 'рандомные лоты' },\n];\n\nconst columns: ColDef[] = [\n  {\n    headerName: 'Название',\n    field: 'name',\n    sortable: true,\n    flex: 0.8,\n  },\n  {\n    headerName: 'Сумма',\n    field: 'amount',\n    sortable: true,\n    flex: 0.4,\n  },\n  {\n    headerName: 'Обычное колесо',\n    field: 'originalChance',\n    sortable: true,\n    valueFormatter: percentsFormatter,\n    flex: 0.4,\n  },\n  {\n    headerName: 'Выбывание',\n    field: 'dropoutChance',\n    sortable: true,\n    valueFormatter: percentsFormatter,\n    flex: 0.4,\n  },\n  {\n    headerName: 'Разница в шансах',\n    field: 'chanceDifference',\n    sortable: true,\n    valueFormatter: percentsFormatter,\n    flex: 0.4,\n  },\n  {\n    headerName: 'Победы',\n    field: 'winsCount',\n    sortable: true,\n    flex: 0.4,\n  },\n];\n\nconst DropoutWheelProof: FC = () => {\n  const { slots } = useSelector((rootReducer: RootState) => rootReducer.slots);\n  const [slotsPresetType, setSlotsPresetType] = useState<Key>(SlotsPresetType.Current);\n  const [iterations, setIterations] = useState<number>(5000);\n  const [chanceDifference, setChanceDifference] = useState<SlotChanceDifference[]>([]);\n  const [preserveLogs, setPreserveLogs] = useState<boolean>(false);\n\n  const predictChances = useCallback(() => {\n    console.clear();\n\n    const safeIterations = preserveLogs ? Math.min(30, iterations) : iterations;\n    const slotsToPredict = slotsPresetType === SlotsPresetType.Current ? slots : createRandomSlots(20, 2000, 10);\n    const predictionService = new PredictionService(slotsToPredict, preserveLogs);\n    const difference = predictionService.researchDifference(safeIterations);\n\n    setChanceDifference(difference);\n  }, [iterations, preserveLogs, slots, slotsPresetType]);\n\n  const handleIterationsChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n    setIterations(Number(e.target.value));\n  }, []);\n\n  const handlePreserveLogsChange = useCallback((e, checked: boolean) => {\n    setPreserveLogs(checked);\n    setIterations(checked ? 5 : 5000);\n  }, []);\n\n  return (\n    <div className=\"dropout-wheel-proof\">\n      <h2>Кратко</h2>\n      <p>\n        Конечный шанс на победу у лота ТАКОЙ ЖЕ как если бы вы крутили обычное колесо. Но есть неочевидный нюанс, чем\n        больше лотов в колесе, тем более равные шансы на выбывание будет у лотов, и чем меньше лотов осталось, тем\n        меньше шансов выбыть у дорогих лотов. Это бывает очень не очевидно для зрителей, но именно с такой инверссией\n        это колесо полностью честное (все равно как крутить обычное колесо по шансам).\n      </p>\n      <p>\n        Используйте по своему усмотрению, потому что зрители, которые не в курсе, могут возмутиться таким форматом, но\n        такой же правильной инверсии с другим форматом я не знаю.\n      </p>\n      <h2>Доказательство</h2>\n      <h3>Как вычисляются размеры в колесе</h3>\n      <div>Формула для расчета инвертированного размера (написано от руки):</div>\n      <img src={DropoutFormula} alt=\"DropoutFormula\" className=\"dropout_formula\" />\n      <p>\n        Математическое доказательство этой формулы я не делал, потому что в этом кейсе это довольно сложно. С подбором\n        формулы мне помогал чатерс dzyaka, который здорово разбирается в теории вероятностей и математике. Я тестировал\n        эту формулу симуляцией прокрутов и она идеально соответствует шансам в обычном колесе.\n      </p>\n      <h3>Доказательство скриптом</h3>\n      <p>\n        Данный скрипт симулирует прокруты колеса на выбывание до последнего победителя и выводит разницу с обычным\n        колесом. Вы можете рассчитать шансы и убедиться, что разница стремится к нулю при увеличении итераций.\n      </p>\n      <p className=\"warning\">\n        ВНИМАНИЕ! При нажатии на \"Рассчитать шансы\" сайт может зависнуть на несколько секунд (зависит от количества\n        лотов, количества итераций и вашего пк), просто подождите. Но лучше сохраните лоты на всякий, если у вас 50+\n        позиций)\n      </p>\n      <p className=\"warning\">Максимальное количество итераций при включенных подробных логах - 30.</p>\n      <div className=\"row\">\n        <RadioButtonGroup\n          options={SLOT_PRESETS_OPTIONS}\n          activeKey={slotsPresetType}\n          onChangeActive={setSlotsPresetType}\n        />\n        <TextField\n          className=\"iteration-input\"\n          variant=\"outlined\"\n          margin=\"dense\"\n          label=\"кол-во итераций\"\n          onChange={handleIterationsChange}\n          value={iterations}\n        />\n        <Button variant=\"contained\" color=\"primary\" onClick={predictChances}>\n          рассчитать шансы\n        </Button>\n      </div>\n      <FormControlLabel\n        control={<Checkbox checked={preserveLogs} onChange={handlePreserveLogsChange} color=\"primary\" />}\n        label=\"Подробные логи итераций\"\n        className=\"wheel-controls-checkbox\"\n      />\n      {!!chanceDifference.length && preserveLogs && <p>Чтобы посмотреть логи нажмите F12 -&gt; вкладка \"console\"</p>}\n      <div style={{ height: '50vh' }} className=\"history-table\">\n        <XGrid\n          rows={chanceDifference}\n          columns={columns}\n          pagination\n          rowHeight={35}\n          pageSize={30}\n          rowsPerPageOptions={[5, 10, 20, 50, 100]}\n          disableSelectionOnClick\n          disableColumnMenu\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default DropoutWheelProof;\n","const withLoading =\n  <ParamsType, ReturnType>(\n    setIsLoading: (isLoading: boolean) => void,\n    callback: (...args: ParamsType[]) => Promise<ReturnType>,\n  ) =>\n  async (...args: ParamsType[]): Promise<ReturnType> => {\n    try {\n      setIsLoading(true);\n      return await callback(...args);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\nexport default withLoading;\n","import { axios } from './axios';\nimport ENDPOINTS from '../constants/api.constants';\n\nexport const getRandomNumber = async (min: number, max: number): Promise<number> => {\n  throw new Error('no network');\n  // const { data } = await axios.get(ENDPOINTS.RANDOM.INTEGER, { params: { min, max } });\n  //\n  // return data;\n};\n","import React from 'react';\nimport { Button, ButtonProps, CircularProgress } from '@material-ui/core';\nimport './LoadingButton.scss';\n\ninterface LoadingButtonProps extends ButtonProps {\n  isLoading: boolean;\n}\n\nconst LoadingButton: React.FC<LoadingButtonProps> = ({ isLoading, children, ...buttonProps }) => {\n  return (\n    <Button {...buttonProps} disabled={isLoading || buttonProps.disabled}>\n      {children}\n      {isLoading && <CircularProgress size={30} className=\"button-loading\" />}\n    </Button>\n  );\n};\n\nexport default LoadingButton;\n","import React, { Key, useCallback } from 'react';\nimport { Button, ButtonGroup, ButtonGroupProps } from '@material-ui/core';\n\nexport interface Option<KeyType = Key> {\n  key: KeyType;\n  value: string;\n}\n\ninterface RadioButtonGroupProps<T = Key> extends ButtonGroupProps {\n  options: Option<T>[];\n  activeKey: Key;\n  onChangeActive: (key: T) => void;\n}\n\nconst RadioButtonGroup = <T extends Key = Key>({\n  onChangeActive,\n  options,\n  activeKey,\n  ...props\n}: RadioButtonGroupProps<T>): JSX.Element => {\n  const createButton = useCallback(\n    ({ key, value }: Option<T>) => {\n      const handleClick = (): void => onChangeActive(key);\n\n      return (\n        <Button key={key} variant={activeKey === key ? 'contained' : 'outlined'} onClick={handleClick}>\n          {value}\n        </Button>\n      );\n    },\n    [activeKey, onChangeActive],\n  );\n\n  return (\n    <ButtonGroup color=\"primary\" {...props}>\n      {options.map(createButton)}\n    </ButtonGroup>\n  );\n};\n\nexport default RadioButtonGroup;\n","import React, { Dispatch, FC, SetStateAction, useCallback, useMemo } from 'react';\nimport { Checkbox, FormControlLabel, Slider, Typography } from '@material-ui/core';\nimport { RandomPaceConfig } from '../../../services/SpinPaceService';\nimport { formatDegree, formatPercents, formatSeconds } from '../../../utils/common.utils';\n\ninterface PaceSettingsProps {\n  paceConfig: RandomPaceConfig;\n  setPaceConfig: Dispatch<SetStateAction<RandomPaceConfig>>;\n  spinTime: number;\n}\n\nconst PaceSettings: FC<PaceSettingsProps> = ({ paceConfig, setPaceConfig, spinTime }) => {\n  const { allowBackStep, valueDisabledZone, valueRandomZone, randomOffset } = paceConfig;\n\n  const maxOffset = useMemo(() => Math.round(Math.min(5, spinTime * 0.3)), [spinTime]);\n  const handleBackStepChange = useCallback(\n    (e, checked: boolean) => {\n      setPaceConfig((config) => ({ ...config, allowBackStep: checked }));\n    },\n    [setPaceConfig],\n  );\n  // const handlePointsChange = useCallback(\n  //   (e: ChangeEvent<HTMLInputElement>) => {\n  //     setPaceConfig((config) => ({ ...config, points: Number(e.target.value) }));\n  //   },\n  //   [setPaceConfig],\n  // );\n  const handleValueRandomZoneChange = useCallback(\n    (e, value: number | number[]) => {\n      setPaceConfig((config) => ({ ...config, valueRandomZone: Number(value) }));\n    },\n    [setPaceConfig],\n  );\n  const handleRandomOffsetChange = useCallback(\n    (e, value: number | number[]) => {\n      setPaceConfig((config) => ({ ...config, randomOffset: Number(value) }));\n    },\n    [setPaceConfig],\n  );\n  const handleDisabledZoneChange = useCallback(\n    (e, value: number | number[]) => {\n      setPaceConfig((config) => ({ ...config, valueDisabledZone: Number(value) }));\n    },\n    [setPaceConfig],\n  );\n\n  return (\n    <>\n      <FormControlLabel\n        control={<Checkbox checked={allowBackStep} onChange={handleBackStepChange} color=\"primary\" />}\n        label=\"Вращать в обратную сторону\"\n        className=\"wheel-controls-checkbox\"\n      />\n      {/* <div className=\"wheel-controls-row\"> */}\n      {/*  <Typography className=\"wheel-controls-tip\">Количество точек</Typography> */}\n      {/*  <TextField */}\n      {/*    className=\"wheel-controls-input\" */}\n      {/*    variant=\"outlined\" */}\n      {/*    margin=\"dense\" */}\n      {/*    onChange={handlePointsChange} */}\n      {/*    value={points} */}\n      {/*  /> */}\n      {/* </div> */}\n      <div className=\"wheel-controls-row\">\n        <Typography className=\"wheel-controls-tip lg\">Зона начала рандома</Typography>\n        <Slider\n          value={randomOffset}\n          step={0.5}\n          min={0.5}\n          max={maxOffset}\n          valueLabelDisplay=\"auto\"\n          valueLabelFormat={formatSeconds}\n          onChange={handleRandomOffsetChange}\n          marks={[\n            { value: 0.5, label: '0.5c.' },\n            { value: maxOffset, label: `${Math.round(maxOffset)}c.` },\n          ]}\n        />\n      </div>\n      <Typography className=\"wheel-controls-tip hint\">Время с конца, когда начнется докрут</Typography>\n      <div className=\"wheel-controls-row\">\n        <Typography className=\"wheel-controls-tip lg\">Макс. дистанция</Typography>\n        <Slider\n          value={valueRandomZone}\n          step={30}\n          min={90}\n          max={900}\n          valueLabelDisplay=\"auto\"\n          valueLabelFormat={formatDegree}\n          onChange={handleValueRandomZoneChange}\n          marks={[\n            { value: 90, label: '180°' },\n            { value: 900, label: '900°' },\n          ]}\n        />\n      </div>\n      <Typography className=\"wheel-controls-tip lg\">Заблокированная зона рандома</Typography>\n      <Slider\n        value={valueDisabledZone}\n        step={0.01}\n        min={0}\n        max={0.7}\n        valueLabelDisplay=\"auto\"\n        valueLabelFormat={formatPercents}\n        onChange={handleDisabledZoneChange}\n        marks={[\n          { value: 0, label: '0%' },\n          { value: 0.7, label: '70%' },\n        ]}\n      />\n      <Typography className=\"wheel-controls-tip hint\">\n        Чем больше значение, тем ближе к макс дистанции будет рандомится докрут.\n      </Typography>\n    </>\n  );\n};\n\nexport default PaceSettings;\n","import React, { FC, ReactNode, useState } from 'react';\nimport { Button, Checkbox, Dialog, DialogContent, DialogTitle, FormControlLabel } from '@material-ui/core';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport { parseSlotsPreset } from '../../../utils/slots.utils';\nimport './SlotsPresetInput.scss';\nimport { Slot } from '../../../models/slot.model';\n\ninterface SlotsPresetInput {\n  buttonTitle: string;\n  onChange: (items: Slot[], saveSlots: boolean) => void;\n  buttonClass?: string;\n  dialogTitle?: ReactNode;\n  hint?: ReactNode;\n}\n\nconst SlotsPresetInput: FC<SlotsPresetInput> = ({ onChange, buttonTitle, buttonClass, dialogTitle, hint }) => {\n  const [isInputOpened, setIsInputOpened] = useState<boolean>(false);\n  const [saveSlots, setSaveSlots] = useState<boolean>(false);\n  const toggleDialog = (): void => {\n    setIsInputOpened((prevOpened) => !prevOpened);\n  };\n\n  const handleFileUpload = ([file]: File[]): void => {\n    const reader = new FileReader();\n\n    reader.onloadend = (): void => {\n      if (typeof reader.result === 'string') {\n        onChange(parseSlotsPreset(reader.result), saveSlots);\n        setIsInputOpened(false);\n      }\n    };\n    reader.readAsText(file);\n  };\n\n  const handleSaveSlotsChange = (event: any): void => {\n    setSaveSlots(event.target.checked);\n  };\n\n  return (\n    <div className=\"slots-preset-input\">\n      <Dialog open={isInputOpened} onClose={toggleDialog} maxWidth={false}>\n        {!!dialogTitle && <DialogTitle>{dialogTitle}</DialogTitle>}\n        <DialogContent className=\"image-input-wrapper\">\n          <DropzoneArea\n            dropzoneClass=\"drop-zone\"\n            dropzoneText=\"Перетащите сюда файл или нажмите\"\n            onDrop={handleFileUpload}\n            filesLimit={1}\n          />\n          <FormControlLabel\n            className=\"save-slots-checkbox\"\n            control={<Checkbox checked={saveSlots} onChange={handleSaveSlotsChange} color=\"primary\" />}\n            label=\"Сохранить лоты в аук\"\n          />\n          {hint && <div className=\"slots-preset-input-hint\">{hint}</div>}\n        </DialogContent>\n      </Dialog>\n      <Button variant=\"outlined\" color=\"primary\" onClick={toggleDialog} className={buttonClass}>\n        {buttonTitle}\n      </Button>\n    </div>\n  );\n};\n\nexport default SlotsPresetInput;\n","import React, { FC, useCallback, useEffect, useState } from 'react';\nimport { CircularProgress, IconButton } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\n// eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n// @ts-ignore\nimport { EmoteFetcher, Collection, Emote } from '@kozjar/twitch-emoticons';\n// import SevenTV, { SevenTVEmote } from '7tv';\nimport { RootState } from '../../reducers';\nimport './TwitchEmotesList..scss';\n\nconst fetcher = new EmoteFetcher();\n\ninterface TwitchEmotesListProps {\n  setActiveEmote: (emote: string) => void;\n  onEmotesLoad?: (emotes: Emote[]) => void;\n}\n\n// const sevenTVApi = SevenTV();\n//\n// const createSevenTVEmote = ({ id, width }: SevenTVEmote): Emote => ({\n//   min: 1,\n//   max: width.length,\n//   id,\n//   toLink: (size: number): string => `https://cdn.7tv.app/emote/${id}/${size}x.webp`,\n// });\n\nconst flattenCollection = (collection: Collection<string, Emote>): Emote[] => Array.from<Emote>(collection.values());\n\nconst emoteLists = ['default', 'twitch', '7tv', 'bttv', 'ffz'];\n\nconst TwitchEmotesList: FC<TwitchEmotesListProps> = ({ setActiveEmote, onEmotesLoad }) => {\n  const { userId, username } = useSelector((root: RootState) => root.user);\n  const [userEmotes, setUserEmotes] = useState<(Emote[] | null)[]>();\n\n  const updateEmotes = useCallback(async () => {\n    const defaultEmotes = Promise.resolve([]); // sevenTVApi.fetchUserEmotes('minodos_99').then((emotes) => emotes.map(createSevenTVEmote));\n    let loadedEmotes;\n\n    if (userId) {\n      loadedEmotes = await Promise.all(\n        [\n          defaultEmotes,\n          // sevenTVApi.fetchUserEmotes(username || '').then((emotes) => emotes.map(createSevenTVEmote)),\n          fetcher.fetchTwitchEmotes(Number(userId)).then(flattenCollection),\n          fetcher.fetchBTTVEmotes(Number(userId)).then(flattenCollection),\n          fetcher.fetchFFZEmotes(Number(userId)).then(flattenCollection),\n        ].map((request) => request.catch(() => null)),\n      );\n    } else {\n      loadedEmotes = [await defaultEmotes];\n    }\n\n    setUserEmotes(loadedEmotes);\n\n    if (onEmotesLoad) {\n      const flatEmotes = loadedEmotes.reduce((accum, emotes) => (emotes ? [...accum, ...emotes] : accum), []);\n      onEmotesLoad(flatEmotes);\n    }\n  }, [onEmotesLoad, userId /*, username*/]);\n\n  useEffect(() => {\n    updateEmotes();\n  }, [updateEmotes]);\n\n  const crateEmoteList = useCallback(\n    (emotes: Emote[] | null, id: string) => {\n      if (!emotes) {\n        return null;\n      }\n\n      return (\n        <div className=\"emotes-group\" key={id}>\n          {emotes.map((emote) => {\n            const { min = 0, max = 2 } = emote as any;\n            const handleClick = (): void => setActiveEmote(emote.toLink(max));\n\n            return (\n              <IconButton key={emote.id} className=\"emote-button\" onClick={handleClick}>\n                <img alt=\"emote\" src={emote.toLink(min)} />\n              </IconButton>\n            );\n          })}\n        </div>\n      );\n    },\n    [setActiveEmote],\n  );\n\n  return (\n    <div className=\"emotes-container\">\n      {userEmotes ? (\n        <>{userEmotes.map((emotes, index) => crateEmoteList(emotes, emoteLists[index]))}</>\n      ) : (\n        <CircularProgress className=\"emotes-loading\" />\n      )}\n      {!userId && <div className=\"emote-hint\">Подключите Twitch, чтобы выбрать больше изображений в колесе</div>}\n    </div>\n  );\n};\n\nexport default React.memo(TwitchEmotesList);\n","var _style, _title, _g;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgTwitch = function SvgTwitch(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 2400 2800\",\n    style: {\n      enableBackground: \"new 0 0 2400 2800\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _style || (_style = /*#__PURE__*/React.createElement(\"style\", {\n    type: \"text/css\"\n  }, \"\\n\\t.st0{fill:#FFFFFF;}\\n\")), title === undefined ? _title || (_title = /*#__PURE__*/React.createElement(\"title\", null, \"Asset 3\")) : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Layer_1-2\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st0\",\n    d: \"M500,0L0,500v1800h600v500l500-500h400l900-900V0H500z M2200,1300l-400,400h-400l-350,350v-350H600V200h1600 V1300z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 1700,\n    y: 550,\n    className: \"st0\",\n    width: 200,\n    height: 600\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 1150,\n    y: 550,\n    className: \"st0\",\n    width: 200,\n    height: 600\n  })))));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgTwitch, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/twitch.c984e73f.svg\";\nexport { ForwardRef as ReactComponent };","// eslint-disable-next-line max-classes-per-file\nimport * as React from 'react';\nimport { v4 } from 'uuid';\n\nexport interface ClippedProps {\n  path: JSX.Element | JSX.Element[];\n}\n\nclass Clipped extends React.PureComponent<ClippedProps> {\n  _id = v4();\n\n  render() {\n    const { _id } = this;\n    const { path, children } = this.props;\n\n    return (\n      <g>\n        <defs>\n          <clipPath id={_id}>{path}</clipPath>\n        </defs>\n\n        <g clipPath={`url(#${_id})`}>{children}</g>\n      </g>\n    );\n  }\n}\n\nexport interface RectClippedProps {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\nexport class RectClipped extends React.PureComponent<RectClippedProps> {\n  render() {\n    const { x, y, width, height, children } = this.props;\n\n    return <Clipped path={<rect x={x} y={y} width={width} height={height} />}>{children}</Clipped>;\n  }\n}\n","import * as React from 'react';\nimport { Key } from 'react';\nimport { RectClipped } from './Clipped';\nimport { Game, Side, SideInfo } from './model';\n\ninterface BracketGameProps {\n  game: Game;\n  isCurrent: boolean;\n\n  homeOnTop?: boolean;\n  hoveredTeamId?: Key | null;\n\n  x: number;\n  y: number;\n\n  fromSide: number;\n\n  onHoveredTeamIdChange: (id: Key | null) => void;\n  styles?: {\n    backgroundColor: string;\n    hoverBackgroundColor: string;\n    scoreBackground: string;\n    winningScoreBackground: string;\n    teamNameStyle: React.CSSProperties;\n    teamScoreStyle: React.CSSProperties;\n    gameNameStyle: React.CSSProperties;\n    gameTimeStyle: React.CSSProperties;\n    teamSeparatorStyle: React.CSSProperties;\n  };\n  topText?: (game: Game) => string;\n  bottomText?: (game: Game) => string;\n}\n\nconst defaultProps: Partial<BracketGameProps> = {\n  homeOnTop: true,\n  hoveredTeamId: null,\n\n  styles: {\n    backgroundColor: '#58595e',\n    hoverBackgroundColor: '#222',\n\n    scoreBackground: '#787a80',\n    winningScoreBackground: '#ff7324',\n    teamNameStyle: { fill: '#fff', fontSize: 12, textShadow: '1px 1px 1px #222' },\n    teamScoreStyle: { fill: '#23252d', fontSize: 12 },\n    gameNameStyle: { fill: '#999', fontSize: 10 },\n    gameTimeStyle: { fill: '#999', fontSize: 10 },\n    teamSeparatorStyle: { stroke: '#444549', strokeWidth: 1 },\n  },\n\n  topText: ({ scheduled }: Game) => (scheduled ? new Date(scheduled).toLocaleDateString() : ''),\n  bottomText: ({ name, bracketLabel }: Game) => [name, bracketLabel].filter((value) => value).join(' - '),\n};\n\nclass BracketGame extends React.PureComponent<BracketGameProps> {\n  render() {\n    const { game, hoveredTeamId, onHoveredTeamIdChange, styles, fromSide, isCurrent, ...rest } = {\n      ...defaultProps,\n      ...this.props,\n    };\n\n    game.x = rest.x;\n    game.y = rest.y;\n\n    const {\n      backgroundColor,\n      hoverBackgroundColor,\n      scoreBackground,\n      winningScoreBackground,\n      teamNameStyle,\n      teamScoreStyle,\n      teamSeparatorStyle,\n    } = styles || {};\n\n    const { sides } = game;\n\n    interface SideComponentProps {\n      x: number;\n      y: number;\n      side: SideInfo;\n      sideType: Side;\n      onHover: (id: Key | null) => void;\n      winner?: boolean;\n      hovered?: boolean;\n    }\n\n    const SideComponent = ({ x, y, side, onHover, sideType, winner, hovered }: SideComponentProps) => {\n      const tooltip = side ? <title>{side.name}</title> : null;\n      const offset = sideType * 22 + 12.5;\n      const lineOffset = sideType * 22 + 34.5;\n\n      return (\n        <g fontWeight={400} onClick={() => onHover(side ? side.id : null)} style={{ cursor: 'pointer' }}>\n          <rect\n            x=\"0\"\n            y={offset}\n            width=\"200\"\n            height=\"22.5\"\n            fill={hovered ? hoverBackgroundColor : backgroundColor}\n            rx=\"3\"\n            ry=\"3\"\n          />\n          <rect\n            x=\"160\"\n            y={offset}\n            width=\"40\"\n            height=\"22.5\"\n            fill={winner ? winningScoreBackground : scoreBackground}\n            rx=\"3\"\n            ry=\"3\"\n          />\n          {/* trigger mouse events on the entire block */}\n          <rect x={x} y={y} height={22.5} width={200} fillOpacity={0}>\n            {tooltip}\n          </rect>\n\n          <RectClipped x={x} y={y} height={22.5} width={165}>\n            <text x={x + 5} y={y + 16} style={{ ...teamNameStyle }} id={`${game.id}${side.side}`}>\n              {side.name}\n            </text>\n          </RectClipped>\n\n          <text x={x + 175} y={y + 16} style={teamScoreStyle} textAnchor=\"middle\">\n            {side.amount || null}\n          </text>\n\n          {side.side !== sides.length && (\n            <line x1=\"0\" y1={lineOffset} x2=\"200\" y2={lineOffset} style={teamSeparatorStyle} />\n          )}\n        </g>\n      );\n    };\n\n    return (\n      <svg\n        width=\"200\"\n        {...rest}\n        y={rest.y + 29}\n        height={34.5 * sides.length}\n        style={{ outline: isCurrent ? '2px solid #ff1717' : 'none' }}\n      >\n        {game.sides.map((side, index) => (\n          <SideComponent\n            key={side.id}\n            x={0}\n            y={(sides.length - index) * 22 - 12}\n            side={side}\n            onHover={onHoveredTeamIdChange}\n            sideType={sides.length - index - 1}\n            winner={game.winner === index}\n            hovered={hoveredTeamId === side.id}\n          />\n        ))}\n      </svg>\n    );\n  }\n}\n\nexport default BracketGame;\n","import * as React from 'react';\nimport { FC, Key, useEffect, useRef, useState } from 'react';\nimport winningPathLength from '../util/winningPathLength';\nimport BracketGame from './BracketGame';\nimport { Game, Side } from './model';\nimport { Size } from '../../../models/common.model';\n\nexport interface LineInfo {\n  yOffset: number;\n  separation: number;\n  homeVisitorSpread: number;\n}\n\nexport interface GameComponentProps {\n  game: Game;\n  x: number;\n  y: number;\n  homeOnTop: boolean;\n}\n\nexport type GameComponent = React.ComponentType<GameComponentProps>;\n\ninterface BracketGamesFunctionProps {\n  game: Game;\n  x: number;\n  y: number;\n  fromSide: Side;\n  gameDimensions: { width: number; height: number };\n  roundSeparatorWidth: number;\n  round: number;\n  hoveredTeamId: Key | null;\n  setHoveredTeamId: (id: Key | null) => void;\n  lineInfo: LineInfo;\n  currentGame: Key;\n}\n\nconst toBracketGames = ({\n  game,\n  x,\n  y,\n  gameDimensions,\n  roundSeparatorWidth,\n  round,\n  lineInfo,\n  hoveredTeamId,\n  setHoveredTeamId,\n  fromSide,\n  currentGame,\n  ...rest\n}: BracketGamesFunctionProps): JSX.Element[] => {\n  const { width: gameWidth, height } = gameDimensions;\n\n  const data = game.sides\n    .map((sideInfo, index) => ({ ...sideInfo, index }))\n    .filter(({ sourceGame }) => sourceGame)\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    .map(({ sourceGame, index }) => {\n      const offset = index === Side.HOME ? -Number(sourceGame?.offset?.bot) - 1 : Number(sourceGame?.offset?.top) + 1;\n      const calcOffset = (offset * height) / 2;\n      const realOffset =\n        index === Side.HOME ? calcOffset - Math.max((sourceGame?.sides.length || 0) - 4, 0) * 22.5 : calcOffset;\n\n      const pathInfo = [\n        `M${x - lineInfo.separation} ${\n          y + height / 2 + lineInfo.yOffset + (game.sides.length - index) * lineInfo.homeVisitorSpread - 33\n        }`,\n        `H${x - roundSeparatorWidth / 2}`,\n        `V${y + height / 2 + lineInfo.yOffset + realOffset}`,\n        `H${x - roundSeparatorWidth + lineInfo.separation}`,\n      ];\n\n      return [\n        <path key={`${game.id}-${index}-${y}-path`} d={pathInfo.join(' ')} fill=\"transparent\" stroke=\"black\" />,\n      ].concat(\n        toBracketGames({\n          // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n          // @ts-ignore\n          game: sourceGame,\n          fromSide: index,\n          lineInfo,\n          gameDimensions,\n          hoveredTeamId,\n          setHoveredTeamId,\n          roundSeparatorWidth,\n          currentGame,\n          x: x - gameWidth - roundSeparatorWidth,\n          y: y + realOffset,\n          round: round - 1,\n          ...rest,\n        }),\n      );\n    });\n\n  return [\n    <g key={`${game.id}-${y}`}>\n      <BracketGame\n        {...rest}\n        {...gameDimensions}\n        fromSide={fromSide}\n        key={game.id}\n        game={game}\n        isCurrent={currentGame === game.id}\n        x={x}\n        y={y}\n        hoveredTeamId={hoveredTeamId}\n        onHoveredTeamIdChange={setHoveredTeamId}\n      />\n    </g>,\n  ].concat(data.flat());\n};\n\nexport interface BracketProps {\n  game: Game;\n  GameComponent?: GameComponent;\n  homeOnTop?: boolean;\n  gameDimensions?: {\n    height: number;\n    width: number;\n  };\n  svgPadding?: number;\n  roundSeparatorWidth?: number;\n  lineInfo?: LineInfo;\n  currentGame: Key;\n}\n\nconst Bracket: FC<BracketProps> = ({\n  currentGame,\n  gameDimensions = {\n    height: 140,\n    width: 200,\n  },\n  svgPadding = 20,\n  roundSeparatorWidth = 24,\n  lineInfo = {\n    yOffset: -6,\n    separation: 6,\n    homeVisitorSpread: 22,\n  },\n  game,\n  ...rest\n}) => {\n  const [hoveredTeamId, setHoveredTeamId] = useState<Key | null>(null);\n  const content = useRef<SVGGElement>(null);\n  const numRounds = winningPathLength(game);\n  const [svgSize, setSvgSize] = useState<Size>(gameDimensions);\n\n  const svgDimensions = {\n    height: gameDimensions.height * 2 * (numRounds - 1) + svgPadding * 2,\n    width: numRounds * (gameDimensions.width + roundSeparatorWidth) + svgPadding * 2,\n  };\n\n  useEffect(() => {\n    if (content.current) {\n      const { height, width } = content.current.getBBox();\n\n      setSvgSize({ height, width });\n    }\n  }, []);\n\n  return (\n    <svg {...svgSize} style={{ overflow: 'visible' }}>\n      <g ref={content}>\n        {toBracketGames({\n          gameDimensions,\n          fromSide: Side.VISITOR,\n          roundSeparatorWidth,\n          game,\n          round: numRounds,\n          lineInfo,\n          currentGame,\n          hoveredTeamId,\n          setHoveredTeamId,\n          x: svgDimensions.width - svgPadding - gameDimensions.width,\n          y: 0,\n          ...rest,\n        })}\n      </g>\n    </svg>\n  );\n};\n\nexport default Bracket;\n","import { Game } from '../components/model';\n\nexport default function winningPathLength(game: Game, visited: { [id: string]: true } = {}): number {\n  if (visited[game.id]) {\n    return 0;\n  }\n\n  visited[game.id] = true;\n\n  return (\n    1 +\n    (Object.keys(game).length > 0\n      ? // eslint-disable-next-line prefer-spread\n        Math.max.apply(\n          Math,\n          [game.sides[1], game.sides[0]].map(({ sourceGame }) =>\n            sourceGame ? winningPathLength(sourceGame, visited) : 0,\n          ),\n        )\n      : 0)\n  );\n}\n","import React, { FC, Key, useEffect, useRef, useState } from 'react';\nimport Bracket from '../Bracket/components/Bracket';\nimport { Game } from '../Bracket/components/model';\nimport { createGame, setOffsets } from '../../utils/slots.utils';\nimport { WheelItem } from '../../models/wheel.model';\n\nexport interface SlotsBracketProps {\n  value?: number;\n  maxDepth?: number;\n  onGamesOrder: (games: Game[]) => void;\n  currentGame: Key;\n  items: WheelItem[];\n}\n\nconst SlotsBracket: FC<SlotsBracketProps> = ({ onGamesOrder, currentGame, items, maxDepth }) => {\n  const [game, setGame] = useState<Game | null>(null);\n  const skipDepthChange = useRef<boolean>(true);\n\n  useEffect(() => {\n    const gameOrder: Game[] = [];\n\n    if (maxDepth !== undefined && skipDepthChange.current) {\n      skipDepthChange.current = false;\n      return;\n    }\n\n    if (items.length < 2) {\n      return;\n    }\n\n    const data = items.filter(({ amount }) => amount);\n    const createdGame = createGame(data, 0, gameOrder, undefined, maxDepth);\n\n    if (createdGame) {\n      const gameData = setOffsets(createdGame);\n      setGame(gameData);\n    }\n\n    onGamesOrder(gameOrder);\n  }, [onGamesOrder, items, maxDepth]);\n\n  if (!game) {\n    return null;\n  }\n\n  return <Bracket game={game} currentGame={currentGame} />;\n};\n\nexport default React.memo(SlotsBracket);\n","import React, { FC, useCallback, useEffect, useRef, useState } from 'react';\nimport classNames from 'classnames';\n// eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n// @ts-ignore\nimport { MapInteractionCSS } from 'react-map-interaction';\nimport { Button, Typography } from '@material-ui/core';\nimport SlotsBracket, { SlotsBracketProps } from '../../SlotsBracket/SlotsBracket';\nimport { Point } from '../../../services/SpinPaceService';\nimport { Game } from '../../Bracket/components/model';\n\ninterface ResizableBracket extends Omit<SlotsBracketProps, 'currentGame'> {\n  currentGame?: Game | null;\n}\n\nconst ResizableBracket: FC<ResizableBracket> = ({ currentGame, ...props }) => {\n  const [isFullscreenBracket, setIsFullscreenBracket] = useState<boolean>(false);\n  const [scale, setScale] = useState<number>(1);\n  const [translation, setTranslation] = useState<Point>({ x: 0, y: 0 });\n  const bracketWrapper = useRef<HTMLDivElement>(null);\n\n  const scrollToCurrentGame = useCallback(() => {\n    if (currentGame && bracketWrapper.current) {\n      const x = currentGame.x || 0;\n      const y = currentGame.y || 0;\n      const { clientWidth, clientHeight } = bracketWrapper.current;\n\n      setTranslation({ x: -x + (clientWidth / 2 - 160), y: -y + (clientHeight / 2 - 60) });\n      setScale(1);\n    }\n  }, [currentGame]);\n\n  useEffect(() => {\n    scrollToCurrentGame();\n  }, [scrollToCurrentGame]);\n\n  const handleChangeFullscreen = useCallback(() => {\n    setIsFullscreenBracket((prev) => !prev);\n  }, []);\n\n  const handleMapChange = useCallback(({ scale: nextScale, translation: nextTranslation }) => {\n    setScale(nextScale);\n    setTranslation(nextTranslation);\n  }, []);\n\n  return (\n    <div className=\"bracket-wrapper\">\n      <div className={classNames('bracket-sub-wrapper', { fullscreen: isFullscreenBracket })} ref={bracketWrapper}>\n        <div className=\"bracket-controls\">\n          <Button\n            size=\"small\"\n            color=\"primary\"\n            variant=\"outlined\"\n            onClick={handleChangeFullscreen}\n            className=\"fullscreen-button\"\n          >\n            {isFullscreenBracket ? 'Свернуть' : 'На весь экран'}\n          </Button>\n          <Button\n            size=\"small\"\n            color=\"primary\"\n            variant=\"outlined\"\n            onClick={scrollToCurrentGame}\n            className=\"current-game-button\"\n          >\n            Перейти к текущей игре\n          </Button>\n          <Typography className=\"hint\">можно перемещать и масштабировать</Typography>\n        </div>\n        <MapInteractionCSS value={{ scale, translation }} onChange={handleMapChange}>\n          <SlotsBracket {...props} currentGame={currentGame?.id || ''} />\n        </MapInteractionCSS>\n      </div>\n    </div>\n  );\n};\n\nexport default ResizableBracket;\n","import React, { FC } from 'react';\n\nconst DuelWheelProof: FC = () => {\n  return (\n    <>\n      <div style={{ color: '#e5c938' }}>Как работает этот режим?</div>\n      <div>\n        Варианты аукциона сражаются друг с другом, победивший вариант\n        <span style={{ color: '#ff5c36' }}> забирает себе стоимость </span>\n        проигравшего и продвигается дальше в турнирной сетке.\n        <br />\n        (порядок ходов выстроен так, что сначала играется нижняя сетка, затем верхняя)\n      </div>\n      <div>\n        Просто жмите крутить, а дальше разберетесь. Также вы можете поизучать турнирную сетку, нажмите на позицию, чтобы\n        проследить весь путь лота.\n      </div>\n      <div style={{ color: '#e5c938' }}>Сохраняются ли шансы при таком формате?</div>\n      <div>\n        <span style={{ color: '#59ce4b' }}> Абсолютно точно ДА! </span>\n        Шанс лота выграть в этом формате точно такой же как и в обычном колесе, а что самое интересное, нет никакой\n        разницы в каком порядке проводятся дуэли, шансы остаются теми же.\n      </div>\n      <div>У меня пока не было времени оформить пруфы, но скоро я их добавлю.</div>\n      <div style={{ color: '#e5c938' }}>Сохраняются ли шансы при группировке лотов?</div>\n      <div style={{ color: '#59ce4b' }}> ДА! </div>\n      <div>\n        Я все это математически просчитывал и симулировал, весь функционал который есть на сайте полностью соответсвует\n        обычному колессу по шансам и буквально каждый рубль учитывается в шансах на победу.\n      </div>\n      <div>Для детального разъяснения можете написать мне в дис (контакты на странице гайда)</div>\n    </>\n  );\n};\n\nexport default DuelWheelProof;\n","import React, { useState } from 'react';\nimport { Button, Dialog, DialogContent, DialogTitle, TextField, Typography } from '@material-ui/core';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport './ImageLinkInput.scss';\n\ninterface ImageLinkInputProps {\n  buttonTitle: string;\n  onChange: (imageLink: string) => void;\n  dialogTitle?: string;\n  buttonClass?: string;\n}\n\nconst ImageLinkInput: React.FC<ImageLinkInputProps> = ({ buttonTitle, dialogTitle, buttonClass, onChange }) => {\n  const [isInputOpened, setIsInputOpened] = useState<boolean>(false);\n  const [isCorrectUrl, setIsCorrectUrl] = useState(true);\n  const toggleDialog = (): void => {\n    setIsCorrectUrl(true);\n    setIsInputOpened((prevOpened) => !prevOpened);\n  };\n\n  const isImage = (url: string): Promise<Event> =>\n    new Promise((resolve, reject) => {\n      const image = new Image();\n      image.src = url;\n      image.onload = resolve;\n      image.onerror = reject;\n    });\n\n  const handleLinkPaste = (e: any): void => {\n    const imageUrl = e.clipboardData.getData('text');\n    setTimeout(() => {\n      isImage(imageUrl)\n        .then(() => {\n          onChange(imageUrl);\n          setIsInputOpened(false);\n        })\n        .catch(() => setIsCorrectUrl(false));\n    }, 170);\n  };\n\n  const handleFileUpload = ([file]: File[]): void => {\n    const reader = new FileReader();\n\n    reader.onloadend = (): void => {\n      if (typeof reader.result === 'string') {\n        onChange(reader.result);\n        setIsInputOpened(false);\n      }\n    };\n    reader.readAsDataURL(file);\n  };\n\n  return (\n    <>\n      <Dialog open={isInputOpened} onClose={toggleDialog} maxWidth={false}>\n        {!!dialogTitle && <DialogTitle>{dialogTitle}</DialogTitle>}\n        <DialogContent className=\"image-input-wrapper\">\n          <DropzoneArea\n            dropzoneClass=\"drop-zone\"\n            dropzoneText=\"Перетащите сюда файл или нажмите\"\n            onDrop={handleFileUpload}\n            filesLimit={1}\n          />\n          <Typography className=\"divider\">ИЛИ</Typography>\n          <TextField\n            onPaste={handleLinkPaste}\n            placeholder=\"Вставьте ссылку на изображение...\"\n            className=\"link-input\"\n            error={!isCorrectUrl}\n            helperText={!isCorrectUrl ? 'Неверная ссылка' : undefined}\n            variant=\"outlined\"\n          />\n        </DialogContent>\n      </Dialog>\n      <Button variant=\"outlined\" color=\"primary\" onClick={toggleDialog} className={buttonClass}>\n        {buttonTitle}\n      </Button>\n    </>\n  );\n};\n\nexport default ImageLinkInput;\n","import React, { ChangeEvent, Key, ReactElement, ReactNode, useCallback, useEffect, useMemo, useState } from 'react';\nimport classNames from 'classnames';\nimport {\n  Button,\n  Checkbox,\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  FormControlLabel,\n  Slider,\n  Switch,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport { useDispatch } from 'react-redux';\n// eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n// @ts-ignore\nimport { Emote } from '@kozjar/twitch-emoticons';\nimport { useTranslation } from 'react-i18next';\nimport { PACE_PRESETS, WHEEL_OPTIONS, WheelFormat } from '../../constants/wheel';\nimport { RandomPaceConfig } from '../../services/SpinPaceService';\nimport { Game } from '../Bracket/components/model';\nimport { WheelItem } from '../../models/wheel.model';\nimport { getCookie, getRandomIntInclusive, getTotalSize, getWheelColor } from '../../utils/common.utils';\nimport useWheel from '../../hooks/useWheel';\nimport withLoading from '../../decorators/withLoading';\nimport { getRandomNumber } from '../../api/randomApi';\nimport LoadingButton from '../LoadingButton/LoadingButton';\nimport RadioButtonGroup from '../RadioButtonGroup/RadioButtonGroup';\nimport DropoutWheelProof from './DropoutWheelProof/DropoutWheelProof';\nimport PaceSettings from './PaceSettings/PaceSettings';\nimport SlotsPresetInput from '../Form/SlotsPresetInput/SlotsPresetInput';\nimport TwitchEmotesList from '../TwitchEmotesList/TwitchEmotesList';\nimport ResizableBracket from './ResizableBracket/ResizableBracket';\nimport DuelWheelProof from './DuelWheelProof/DuelWheelProof';\nimport './RandomWheel.scss';\nimport ImageLinkInput from '../Form/ImageLinkInput/ImageLinkInput';\nimport { slotToWheel } from '../../utils/slots.utils';\nimport { Slot } from '../../models/slot.model';\nimport { setSlots } from '../../reducers/Slots/Slots';\n\nexport interface SettingElements {\n  mode: boolean;\n  split: boolean;\n  randomPace: boolean;\n  randomOrg: boolean;\n  import: boolean;\n}\n\nconst initialAvailableSettings: SettingElements = {\n  mode: true,\n  split: true,\n  randomPace: true,\n  randomOrg: true,\n  import: true,\n};\n\ninterface RandomWheelProps<TWheelItem extends WheelItem> {\n  items: TWheelItem[];\n  deleteItem?: (id: Key) => void;\n  initialSpinTime?: number;\n  onWin?: (winner: TWheelItem) => void;\n  isShuffle?: boolean;\n  elements?: Partial<SettingElements>;\n  children?: ReactNode;\n  hideDeleteItem?: boolean;\n}\n\nconst RandomWheel = <TWheelItem extends WheelItem>({\n  items,\n  deleteItem,\n  onWin,\n  initialSpinTime = 20,\n  isShuffle = true,\n  elements: elementsFromProps,\n  children,\n  hideDeleteItem,\n}: RandomWheelProps<TWheelItem>): ReactElement => {\n  const elements = useMemo(() => ({ ...initialAvailableSettings, ...elementsFromProps }), [elementsFromProps]);\n\n  const [activeEmote, setActiveEmote] = useState<string | undefined | null>(localStorage.getItem('wheelEmote'));\n  const [spinTime, setSpinTime] = useState<number>(initialSpinTime);\n  const [rawItems, setRawItems] = useState<WheelItem[]>(items);\n  const [isSpinning, setIsSpinning] = useState<boolean>(false);\n  const [isLoadingSeed, setIsLoadingSeed] = useState<boolean>(false);\n  const [useRandomOrg, setUseRandomOrg] = useState<boolean>(elements.randomOrg);\n  const [isRandomPace, setIsRandomPace] = useState<boolean>(false);\n  const [wheelFormat, setWheelFormat] = useState<Key>(WheelFormat.Default);\n  const [paceConfig, setPaceConfig] = useState<RandomPaceConfig>(PACE_PRESETS.suddenFinal);\n  const [gamesOrder, setGamesOrder] = useState<Game[]>([]);\n  const [nextWinner, setNextWinner] = useState<WheelItem | null>(null);\n  const [selectedGame, setSelectedGame] = useState<Game | null | undefined>(null);\n  const [isDuelHelpOpen, setIsDuelHelpOpen] = useState<boolean>(false);\n  const [isDropoutProofOpen, setIsDropoutProofOpen] = useState<boolean>(false);\n  const [maxDepth, setMaxDepth] = useState<number>();\n  const [depthRestrict, setDepthRestrict] = useState<number>();\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n\n  const initBattleRoyale = useCallback((games: Game[]) => {\n    setGamesOrder((prevGames) => {\n      if (!prevGames.length) {\n        setMaxDepth(games[0]?.level);\n        setDepthRestrict(games[0]?.level);\n      }\n      return games;\n    });\n  }, []);\n\n  const handleWheelFormatChange = useCallback((format: WheelFormat) => {\n    setGamesOrder([]);\n    setMaxDepth(undefined);\n    setDepthRestrict(undefined);\n    setWheelFormat(format);\n\n    if (format === WheelFormat.Dropout && !getCookie('seenDropoutProof')) {\n      setIsDropoutProofOpen(true);\n    }\n  }, []);\n\n  const onDelete = (id: Key): void => {\n    if (deleteItem) {\n      deleteItem(id);\n    }\n    setRawItems((prevItems) => prevItems.filter(({ id: _id }) => _id !== id));\n  };\n\n  const currentDuel = useMemo(() => {\n    if (!gamesOrder.length) {\n      return [];\n    }\n    return gamesOrder[0].sides;\n  }, [gamesOrder]);\n\n  const duelItems = useMemo(\n    () => currentDuel.map<WheelItem>(({ name, amount, id }) => ({ name, amount, id, color: getWheelColor() })),\n    [currentDuel],\n  );\n\n  const filteredItems = useMemo(\n    () =>\n      getTotalSize(rawItems)\n        ? rawItems.filter(({ amount }) => amount)\n        : rawItems.map((item) => ({ ...item, amount: 1 })),\n    [rawItems],\n  );\n\n  const currentItems = useMemo(\n    () => (wheelFormat === WheelFormat.BattleRoyal ? duelItems : filteredItems),\n    [duelItems, filteredItems, wheelFormat],\n  );\n  const totalSize = useMemo(() => getTotalSize(currentItems), [currentItems]);\n\n  const handleEmoteChange = useCallback((emote: string) => {\n    localStorage.setItem('wheelEmote', emote);\n    setActiveEmote(emote);\n  }, []);\n\n  const maxSize = useMemo(() => Math.max(...currentItems.map<number>(({ amount }) => Number(amount))), [currentItems]);\n  const [maxValidValue, setMaxValidValue] = useState<number>(maxSize);\n\n  const splittedItems = useMemo(\n    () =>\n      currentItems.reduce<WheelItem[]>((acc, { amount, ...item }) => {\n        const part = Number(amount) / maxValidValue;\n\n        if (part > 1) {\n          return [\n            ...acc,\n            ...new Array<WheelItem>(Math.ceil(part)).fill({ ...item, amount: Number(amount) / Math.ceil(part) }),\n          ];\n        }\n\n        return [...acc, { ...item, amount }];\n      }, []),\n    [maxValidValue, currentItems],\n  );\n\n  const finalItems = useMemo(() => {\n    return splittedItems;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [splittedItems.length, currentItems]);\n\n  const handleWin = useCallback(\n    (winner: TWheelItem) => {\n      setIsSpinning(false);\n      setNextWinner(winner);\n\n      if (wheelFormat === WheelFormat.Dropout) {\n        setRawItems((prevItems) => prevItems.filter(({ id }) => id !== winner.id));\n      }\n\n      if (wheelFormat === WheelFormat.BattleRoyal) {\n        const game = gamesOrder[0];\n        game.winner = game.sides.findIndex(({ id }) => winner.id === id);\n        if (game.parentSide) {\n          game.parentSide.id = winner.id;\n          game.parentSide.name = winner.name;\n        }\n        const parentTitle = document.getElementById(`${game.parentSide?.gameId}${game.parentSide?.side}`);\n\n        if (parentTitle) {\n          parentTitle.innerHTML = winner.name;\n        }\n        setSelectedGame(null);\n      }\n\n      onWin?.(winner);\n    },\n    [gamesOrder, onWin, wheelFormat],\n  );\n\n  const handleCustomWheel = useCallback(\n    (customItems: Slot[], saveSlots: boolean) => {\n      setRawItems(customItems.map(slotToWheel));\n\n      if (saveSlots) {\n        dispatch(setSlots(customItems));\n      }\n    },\n    [dispatch],\n  );\n\n  const { wheelComponent, spin, clearWinner } = useWheel({\n    rawItems: finalItems,\n    onWin: handleWin as any,\n    background: activeEmote || 'https://cdn.7tv.app/emote/60db33899a9fbb6acd26b151/4x',\n    spinTime,\n    dropout: wheelFormat === WheelFormat.Dropout,\n    deleteItem: hideDeleteItem ? undefined : onDelete,\n    isShuffle,\n  });\n\n  const nextTurn = useCallback(() => {\n    clearWinner();\n    setNextWinner(null);\n    setGamesOrder((prev) => prev.slice(1));\n    setSelectedGame(gamesOrder && gamesOrder[0]);\n  }, [clearWinner, gamesOrder]);\n\n  const handleSpin = useCallback(async () => {\n    let seed: number | undefined;\n    const size = totalSize > 5000 ? totalSize : totalSize + 10000;\n\n    if (useRandomOrg) {\n      try {\n        seed = await withLoading(setIsLoadingSeed, getRandomNumber)(1, size);\n      } catch (e) {\n        seed = undefined;\n      }\n    }\n\n    setIsSpinning(true);\n\n    spin(seed && seed / size, isRandomPace ? paceConfig : undefined);\n  }, [isRandomPace, paceConfig, spin, totalSize, useRandomOrg]);\n\n  const handleSpinTimeChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n    setSpinTime(Number(e.target.value));\n  }, []);\n\n  const handleDepthRestrictChange = useCallback((e: ChangeEvent<{}>, value: number | number[]) => {\n    setDepthRestrict(Number(value));\n  }, []);\n\n  const handleMaxValueChange = useCallback((e: ChangeEvent<{}>, value: number | number[]) => {\n    setMaxValidValue(Number(value));\n  }, []);\n\n  const handleIsRandomPaceChange = useCallback((e: ChangeEvent<HTMLInputElement>, checked: boolean) => {\n    setIsRandomPace(checked);\n  }, []);\n\n  useEffect(() => {\n    setMaxValidValue(maxSize);\n  }, [maxSize]);\n\n  const presetHint = (\n    <>\n      <div>* Принимается простой текстовый файл, где позиции лотов разделены новой строкой *</div>\n      <br />\n      <div>Новые лоты появятся в колесе, но не будут влиять на аукцион</div>\n    </>\n  );\n\n  const handleUseRandomOrg = useCallback((e, checked: boolean) => {\n    setUseRandomOrg(checked);\n  }, []);\n\n  const toggleHelp = useCallback(() => {\n    setIsDuelHelpOpen((prev) => !prev);\n  }, []);\n\n  const toggleDropoutProof = useCallback(() => {\n    setIsDropoutProofOpen((prev) => !prev);\n    document.cookie = 'seenDropoutProof=true; expires=Fri, 31 Dec 9999 23:59:59 GMT';\n  }, []);\n\n  const getRandomEmote = useCallback((emotes: Emote[]): string => {\n    const index = getRandomIntInclusive(0, emotes.length - 1);\n    const { max = 2 } = emotes[index] as any;\n\n    return emotes[index].toLink(max);\n  }, []);\n\n  const handleEmotesLoad = useCallback(\n    (emotes: Emote[]) => {\n      setActiveEmote((emote) => emote || getRandomEmote(emotes));\n    },\n    [getRandomEmote],\n  );\n\n  useEffect(() => {\n    if (wheelFormat === WheelFormat.BattleRoyal) {\n      setSelectedGame(gamesOrder && gamesOrder[0]);\n    }\n  }, [gamesOrder, wheelFormat]);\n\n  return (\n    <div className=\"wheel-content\">\n      {wheelComponent}\n      <div className=\"wheel-info-wrapper\">\n        <div className={classNames('wheel-controls', { shrink: wheelFormat === WheelFormat.BattleRoyal })}>\n          <div className=\"settings\">\n            <div className=\"wheel-controls-row\">\n              {wheelFormat === WheelFormat.BattleRoyal && nextWinner ? (\n                <Button className=\"wheel-controls-button\" variant=\"contained\" color=\"primary\" onClick={nextTurn}>\n                  {t('wheel.nextDuel')}\n                </Button>\n              ) : (\n                <LoadingButton\n                  isLoading={isLoadingSeed}\n                  disabled={isSpinning || isLoadingSeed}\n                  className=\"wheel-controls-button\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleSpin}\n                >\n                  {isSpinning ? t('wheel.spinning') : t('wheel.spin')}\n                </LoadingButton>\n              )}\n              <TextField\n                className=\"wheel-controls-input\"\n                variant=\"outlined\"\n                margin=\"dense\"\n                label={t('wheel.duration')}\n                onChange={handleSpinTimeChange}\n                value={spinTime || ''}\n              />\n              <Typography className=\"wheel-controls-tip\">с.</Typography>\n            </div>\n            {elements.mode && (\n              <RadioButtonGroup\n                style={{ marginTop: 10 }}\n                options={WHEEL_OPTIONS}\n                activeKey={wheelFormat}\n                onChangeActive={handleWheelFormatChange}\n              />\n            )}\n            {wheelFormat === WheelFormat.BattleRoyal && (\n              <>\n                <Dialog\n                  open={isDuelHelpOpen}\n                  onClose={toggleHelp}\n                  className=\"description-dialog\"\n                  maxWidth=\"sm\"\n                  fullWidth\n                >\n                  <DialogTitle>Описание дуэльного режима</DialogTitle>\n                  <DialogContent dividers className=\"description-dialog-content\">\n                    <DuelWheelProof />\n                  </DialogContent>\n                </Dialog>\n                <button onClick={toggleHelp} type=\"button\" className=\"description-link\">\n                  {t('wheel.howItWorks')}\n                </button>\n                <div className=\"wheel-controls-row\">\n                  <Typography className=\"wheel-controls-tip md\">{t('wheel.nesting')}</Typography>\n                  <Slider\n                    step={1}\n                    min={1}\n                    max={maxDepth}\n                    valueLabelDisplay=\"auto\"\n                    onChange={handleDepthRestrictChange}\n                    value={depthRestrict || 1}\n                    marks={[\n                      { value: maxDepth || 1, label: maxDepth },\n                      { value: 1, label: '1' },\n                    ]}\n                  />\n                </div>\n                <Typography className=\"wheel-controls-tip hint\">{t('wheel.nestingDesc')}</Typography>\n              </>\n            )}\n            <Dialog\n              open={isDropoutProofOpen}\n              onClose={toggleDropoutProof}\n              className=\"description-dialog dropout\"\n              maxWidth=\"md\"\n              fullWidth\n            >\n              <DialogTitle>{t('wheel.dropoutProof')}</DialogTitle>\n              <DialogContent dividers className=\"description-content-dropout\">\n                <DropoutWheelProof />\n              </DialogContent>\n            </Dialog>\n            {wheelFormat === WheelFormat.Dropout && (\n              <button onClick={toggleDropoutProof} type=\"button\" className=\"description-link\">\n                {t('wheel.readBeforeUsage')}\n              </button>\n            )}\n            {wheelFormat === WheelFormat.Dropout && (\n              <Typography style={{ marginTop: 10 }}>{`${t('common.left')}: ${filteredItems.length}`}</Typography>\n            )}\n            {elements.split && (\n              <>\n                {!!totalSize && (\n                  <div className=\"wheel-controls-row\">\n                    <Typography className=\"wheel-controls-tip md\">{t('wheel.dividing')}</Typography>\n                    <Slider\n                      step={1}\n                      min={maxSize / 10}\n                      max={maxSize}\n                      valueLabelDisplay=\"auto\"\n                      onChange={handleMaxValueChange}\n                      value={maxValidValue}\n                      marks={[\n                        { value: maxSize / 10, label: `${t('common.max')} / 10` },\n                        { value: maxSize, label: t('common.max') },\n                      ]}\n                    />\n                  </div>\n                )}\n                <Typography className=\"wheel-controls-tip hint\">{t('wheel.dividingDesc')}</Typography>\n              </>\n            )}\n            {elements.randomPace && (\n              <>\n                <div className=\"wheel-controls-row\">\n                  <Typography>Финал с перчинкой</Typography>\n                  <Switch onChange={handleIsRandomPaceChange} />\n                </div>\n                {isRandomPace && (\n                  <PaceSettings paceConfig={paceConfig} setPaceConfig={setPaceConfig} spinTime={spinTime} />\n                )}\n              </>\n            )}\n            {elements.randomOrg && (\n              <FormControlLabel\n                control={<Checkbox checked={useRandomOrg} onChange={handleUseRandomOrg} color=\"primary\" />}\n                label={t('wheel.useRandomOrg')}\n                className=\"wheel-controls-checkbox\"\n              />\n            )}\n            {elements.import && (\n              <div className=\"wheel-controls-row\" style={{ marginTop: 10 }}>\n                <SlotsPresetInput\n                  buttonTitle={t('wheel.importToWheel')}\n                  onChange={handleCustomWheel}\n                  hint={presetHint}\n                />\n              </div>\n            )}\n            <div>{children}</div>\n          </div>\n          <div className=\"settings\" style={{ width: 325 }}>\n            <TwitchEmotesList setActiveEmote={handleEmoteChange} onEmotesLoad={handleEmotesLoad} />\n            <ImageLinkInput\n              buttonTitle={t('wheel.loadCustomMessage')}\n              buttonClass=\"upload-wheel-image\"\n              onChange={handleEmoteChange}\n            />\n          </div>\n        </div>\n        {wheelFormat === WheelFormat.BattleRoyal && (\n          <ResizableBracket\n            onGamesOrder={initBattleRoyale}\n            currentGame={selectedGame}\n            items={filteredItems}\n            maxDepth={depthRestrict}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default RandomWheel;\n","import React, { FC, useMemo } from 'react';\nimport { Typography } from '@material-ui/core';\nimport { useTranslation } from 'react-i18next';\nimport { RoulettePreset } from '../PresetSelect/PresetSelect';\nimport { WheelItem } from '../../../../models/wheel.model';\n\nimport './Roulette.scss';\nimport RandomWheel, { SettingElements } from '../../../../components/RandomWheel/RandomWheel';\nimport { Purchase } from '../../../../reducers/Purchases/Purchases';\nimport PurchaseComponent from '../../PurchaseComponent/PurchaseComponent';\nimport RoulettePresetView from '../RoulettePresetView/RoulettePresetView';\n\ninterface RouletteProps {\n  presets: RoulettePreset[];\n  selectedPreset: RoulettePreset;\n  onRoll: (multiplayer: number) => void;\n  bid: Purchase;\n}\n\ninterface PresetWheelItem extends WheelItem {\n  multiplier: number;\n}\n\nconst getPair = (arr: RoulettePreset[], start = 0): number => {\n  for (let i = start + 1; i <= arr.length; i++) {\n    const currentIndex = i === arr.length ? 0 : i;\n\n    if (arr[currentIndex].multiplier === arr[i - 1].multiplier) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\nconst getPairsIndexes = (arr: RoulettePreset[]): number[] => {\n  const result = [];\n  let cursor = 0;\n\n  while (cursor !== -1) {\n    cursor = getPair(arr, cursor);\n\n    if (cursor !== -1) {\n      result.push(cursor);\n    }\n  }\n\n  return result;\n};\n\nconst insertItems = (source: RoulettePreset[], subArray: RoulettePreset[]): RoulettePreset[] => {\n  const result = [...source];\n\n  const pairsIndexes = getPairsIndexes(result);\n  const pairs = pairsIndexes.length;\n  const maxSteps = pairs / subArray.length;\n  let step = maxSteps;\n  let insertedItems = 0;\n\n  pairsIndexes.forEach((value) => {\n    if (step >= maxSteps) {\n      result.splice(value + insertedItems, 0, subArray.pop()!);\n\n      insertedItems++;\n      step = step - maxSteps + 1;\n    } else {\n      step++;\n    }\n  });\n\n  return result;\n};\n\nconst convertToWheelItem = ({ multiplier, color }: RoulettePreset): PresetWheelItem => ({\n  id: Math.random(),\n  name: `x${multiplier}`,\n  amount: 1,\n  color,\n  multiplier,\n});\n\nconst wheelElements: SettingElements = {\n  mode: false,\n  split: false,\n  randomOrg: false,\n  randomPace: false,\n  import: false,\n};\n\nconst Roulette: FC<RouletteProps> = ({ presets, onRoll, bid, selectedPreset }) => {\n  const { t } = useTranslation();\n  const rawItems = useMemo(() => {\n    const items = presets.map((preset) => Array(preset.amount).fill(preset));\n\n    return items.reduce((accum, arr) => insertItems(accum, arr)).map(convertToWheelItem);\n  }, [presets]);\n  const handleWin = (winner: PresetWheelItem): void => {\n    onRoll(winner.multiplier);\n  };\n\n  return (\n    <div className=\"roulette\">\n      <div className=\"roulette-wheel\">\n        <RandomWheel\n          items={rawItems}\n          isShuffle={false}\n          onWin={handleWin}\n          elements={wheelElements}\n          initialSpinTime={5}\n          hideDeleteItem\n        >\n          <div className=\"roulette-wheel-extra\">\n            <div className=\"roulette-preset-wrapper\">\n              <Typography>{t('auc.casino.yourLot')}</Typography>\n              <RoulettePresetView preset={selectedPreset} />\n            </div>\n            <div>\n              <Typography>{t('auc.casino.yourBid')}</Typography>\n              <PurchaseComponent {...bid} hideActions disabled />\n            </div>\n          </div>\n        </RandomWheel>\n      </div>\n    </div>\n  );\n};\n\nexport default Roulette;\n","import React, { FC, useState } from 'react';\n\nimport './RouletteMenu.scss';\nimport PresetSelect, { RoulettePreset } from './PresetSelect/PresetSelect';\nimport Roulette from './Roulette/Roulette';\nimport { Purchase } from '../../../reducers/Purchases/Purchases';\n\nconst roulettePresets: RoulettePreset[] = [\n  {\n    multiplier: 2,\n    amount: 18,\n    color: '#4682B4',\n  },\n  {\n    multiplier: 4,\n    amount: 9,\n    color: '#bcc95b',\n  },\n  {\n    multiplier: 6,\n    amount: 6,\n    color: '#FF7F50',\n  },\n  {\n    multiplier: 18,\n    amount: 2,\n    color: '#75adad',\n  },\n  {\n    multiplier: 36,\n    amount: 1,\n    color: '#5b5b5b',\n  },\n];\n\nconst selectablePresets = roulettePresets.filter(({ hidden }) => !hidden);\nconst getPreset = (multi: number): RoulettePreset | undefined =>\n  roulettePresets.find(({ multiplier }) => multiplier === multi);\n\ninterface RouletteMenuProps {\n  onRoll: (preset: number) => void;\n  bid: Purchase;\n}\n\nconst RouletteMenu: FC<RouletteMenuProps> = ({ onRoll, bid }) => {\n  const [selectedPreset, setSelectedPreset] = useState<RoulettePreset>();\n  const handleSpin = (multi: number): void => {\n    const winner = getPreset(multi);\n\n    if (winner?.safe || winner?.multiplier === selectedPreset?.multiplier) {\n      onRoll(winner!.multiplier);\n    } else {\n      onRoll(0);\n    }\n  };\n\n  return (\n    <div className=\"roulette-menu\">\n      {selectedPreset ? (\n        <Roulette presets={roulettePresets} onRoll={handleSpin} bid={bid} selectedPreset={selectedPreset} />\n      ) : (\n        <PresetSelect presets={selectablePresets} onSelect={setSelectedPreset} />\n      )}\n    </div>\n  );\n};\n\nexport default RouletteMenu;\n","import React, { useCallback, useMemo, useState } from 'react';\nimport {\n  Button,\n  Card,\n  CardContent,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  IconButton,\n  Typography,\n} from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport CloseIcon from '@material-ui/icons/Close';\nimport classNames from 'classnames';\nimport { findBestMatch } from 'string-similarity';\nimport {\n  logPurchase,\n  Purchase,\n  removePurchase,\n  setDraggedRedemption,\n  updateBid,\n  updateExistBids,\n} from '../../../reducers/Purchases/Purchases';\nimport './PurchaseComponent.scss';\nimport { RootState } from '../../../reducers';\nimport donationBackground from '../../../assets/img/donationBackground.jpg';\nimport { addBid, createSlotFromPurchase } from '../../../reducers/Slots/Slots';\nimport { useCostConvert } from '../../../hooks/useCostConvert';\nimport Marble from '../../../assets/img/Marble.png';\nimport { store } from '../../../index';\nimport { PurchaseStatusEnum } from '../../../models/purchase';\nimport { updateRedemption } from '../../../api/twitchApi';\nimport { RedemptionStatus } from '../../../models/redemption.model';\nimport RouletteMenu from '../RouletteMenu/RouletteMenu';\n\ninterface PurchaseComponentProps extends Purchase {\n  isDragging?: boolean;\n  showBestMatch?: boolean;\n  hideActions?: boolean;\n  disabled?: boolean;\n}\n\nconst PurchaseComponent: React.FC<PurchaseComponentProps> = ({\n  isDragging,\n  showBestMatch = true,\n  hideActions,\n  disabled,\n  ...purchase\n}) => {\n  const dispatch = useDispatch();\n  const {\n    integration: {\n      twitch: { isRefundAvailable },\n      da: { pointsRate },\n    },\n    settings: { marblesAuc, luckyWheel },\n  } = useSelector((root: RootState) => root.aucSettings);\n  const { id, message, username, cost, color, rewardId, isDonation } = purchase;\n  const isRemovePurchase = useMemo(() => cost < 0, [cost]);\n  const [casinoModalOpened, setCasinoModalOpened] = useState(false);\n\n  const bestMatch = useMemo(() => {\n    if (!showBestMatch) {\n      return null;\n    }\n\n    const { slots } = store.getState().slots;\n    const slotNames = slots.map(({ name }) => name || '');\n    const {\n      bestMatch: { rating },\n      bestMatchIndex,\n    } = findBestMatch(message, slotNames);\n\n    return rating > 0.4 ? { ...slots[bestMatchIndex], index: bestMatchIndex + 1 } : null;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const refundRedemption = useCallback(\n    () =>\n      rewardId &&\n      updateRedemption({\n        status: RedemptionStatus.Canceled,\n        redemptionId: id,\n        rewardId,\n      }),\n    [id, rewardId],\n  );\n\n  const handleRemove = (): void => {\n    dispatch(logPurchase({ ...purchase, status: PurchaseStatusEnum.Deleted }));\n    dispatch(removePurchase(id));\n\n    if (isRefundAvailable && !isDonation) {\n      refundRedemption();\n    }\n  };\n\n  const { getMarblesAmount, formatMarblesCost } = useCostConvert();\n\n  const redemptionStyles = { backgroundColor: color };\n  const donationStyles = {\n    backgroundImage: `url(${donationBackground})`,\n    backgroundColor: 'transparent',\n    backgroundPosition: 'center',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n  };\n  const cardStyles = isDonation ? donationStyles : redemptionStyles;\n  const purchaseClasses = classNames([\n    'purchase',\n    { 'drag-placeholder': isDragging, 'remove-cost': isRemovePurchase, disabled },\n  ]);\n  const donationCost = useMemo(\n    () => (pointsRate === 1 ? `${cost}₽` : `${cost * pointsRate} (${cost} ₽)`),\n    [cost, pointsRate],\n  );\n  const costString = useMemo(\n    () => (isDonation && !marblesAuc ? donationCost : formatMarblesCost(cost)),\n    [formatMarblesCost, cost, donationCost, isDonation, marblesAuc],\n  );\n  const bidTitle = useMemo(\n    () =>\n      marblesAuc ? (\n        <>\n          <span>{costString}</span>\n          <img src={Marble} alt=\"шар\" width={15} height={15} style={{ marginLeft: 5, marginRight: 5 }} />\n          <span>{username}</span>\n        </>\n      ) : (\n        `${costString} ${username}`\n      ),\n    [costString, marblesAuc, username],\n  );\n\n  const handleAddNewSlot = useCallback(() => {\n    dispatch(createSlotFromPurchase({ ...purchase, cost: getMarblesAmount(purchase.cost, true) }));\n    dispatch(removePurchase(id));\n    dispatch(setDraggedRedemption(null));\n    dispatch(updateExistBids);\n  }, [getMarblesAmount, dispatch, id, purchase]);\n\n  const handleAddToBestMatch = useCallback(() => {\n    if (bestMatch) {\n      dispatch(addBid(bestMatch.id, purchase));\n      dispatch(updateExistBids);\n    }\n  }, [bestMatch, dispatch, purchase]);\n\n  const openCasino = (): void => setCasinoModalOpened(true);\n\n  const multiplySlot = (multi: number): void => {\n    dispatch(updateBid({ ...purchase, cost: purchase.cost * multi }));\n  };\n\n  return (\n    <Card className={purchaseClasses} style={isDragging ? undefined : cardStyles}>\n      <CardContent className=\"purchase-content\">\n        <div className=\"purchase-header\">\n          <Typography variant=\"h6\">{bidTitle}</Typography>\n          <IconButton onClick={handleRemove} className=\"purchase-header-remove-button\" title=\"Удалить слот\">\n            <CloseIcon />\n          </IconButton>\n        </div>\n        <Typography>{message}</Typography>\n        {!hideActions && (\n          <>\n            <Button variant=\"outlined\" size=\"small\" className=\"purchase-new-button\" onClick={handleAddNewSlot}>\n              Новый\n            </Button>\n            {luckyWheel && (\n              <Button variant=\"outlined\" size=\"small\" className=\"purchase-new-button\" onClick={openCasino}>\n                Испытать удачу\n              </Button>\n            )}\n            {bestMatch && (\n              <Button variant=\"outlined\" size=\"small\" className=\"purchase-new-button\" onClick={handleAddToBestMatch}>\n                {`К ${bestMatch.name}`}\n              </Button>\n            )}\n          </>\n        )}\n      </CardContent>\n      {casinoModalOpened && (\n        <Dialog open={casinoModalOpened} onClose={(): void => setCasinoModalOpened(false)} maxWidth=\"lg\">\n          <DialogContent>\n            <RouletteMenu onRoll={multiplySlot} bid={purchase} />\n          </DialogContent>\n          <DialogActions>\n            <Button color=\"primary\" variant=\"outlined\" onClick={(): void => setCasinoModalOpened(false)}>\n              Закрыть\n            </Button>\n          </DialogActions>\n        </Dialog>\n      )}\n    </Card>\n  );\n};\n\nexport default PurchaseComponent;\n","import React, { FC, useEffect, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../../reducers';\nimport PurchaseComponent from '../PurchaseComponent/PurchaseComponent';\n\ninterface DraggedBid {\n  ref: HTMLDivElement | null;\n}\n\nexport const draggedBid: DraggedBid = {\n  ref: null,\n};\n\nconst DragBidContext: FC = () => {\n  const { draggedRedemption } = useSelector((root: RootState) => root.purchases);\n  const dragRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (dragRef.current) {\n      draggedBid.ref = dragRef.current;\n    }\n  }, []);\n\n  return (\n    <div style={{ pointerEvents: 'none', position: 'absolute' }} className=\"drag-context\" ref={dragRef}>\n      {draggedRedemption && <PurchaseComponent {...draggedRedemption} showBestMatch={false} />}\n    </div>\n  );\n};\n\nexport default DragBidContext;\n","import React, { FC, memo, useCallback, useEffect, useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Purchase, setDraggedRedemption } from '../../../reducers/Purchases/Purchases';\nimport PurchaseComponent from '../PurchaseComponent/PurchaseComponent';\nimport { draggedBid } from '../DragBidContext/DragBidContext';\nimport { DragPosition } from '../../../models/common.model';\n\nconst initialPosition: DragPosition = { left: -1000, top: -1000 };\n\nconst DraggableRedemption: FC<Purchase> = (purchase) => {\n  const dispatch = useDispatch();\n  const { cost } = purchase;\n  const [isDragging, setIsDragging] = useState<boolean>(false);\n  const [mouseOffset, setMouseOffset] = useState<DragPosition>(initialPosition);\n  const redemptionRef = useRef<HTMLDivElement>(null);\n\n  const handleDragStart = useCallback(\n    (e: React.DragEvent<HTMLDivElement>): void => {\n      e.dataTransfer.setData('redemption', JSON.stringify(purchase));\n      e.dataTransfer.setDragImage(new Image(), 0, 0);\n      if (cost < 0) {\n        e.dataTransfer.setData('remove', 'true');\n      }\n\n      dispatch(setDraggedRedemption(purchase));\n      setIsDragging(true);\n\n      if (redemptionRef.current) {\n        const { left, top } = redemptionRef.current.getBoundingClientRect();\n\n        setMouseOffset({ left: e.pageX - left, top: e.pageY - top });\n\n        if (draggedBid.ref) {\n          draggedBid.ref.style.left = `${left}px`;\n          draggedBid.ref.style.top = `${top}px`;\n          draggedBid.ref.hidden = false;\n        }\n      }\n    },\n    [cost, dispatch, purchase],\n  );\n\n  const handleDragEnd = useCallback((): void => {\n    dispatch(setDraggedRedemption(null));\n    setIsDragging(false);\n\n    if (draggedBid.ref) {\n      draggedBid.ref.hidden = true;\n    }\n  }, [dispatch]);\n\n  const handleDrag = useCallback(\n    (e: React.DragEvent) => {\n      e.preventDefault();\n\n      if (draggedBid.ref) {\n        draggedBid.ref.style.left = `${e.pageX - mouseOffset.left}px`;\n        draggedBid.ref.style.top = `${e.pageY - mouseOffset.top}px`;\n      }\n    },\n    [mouseOffset.left, mouseOffset.top],\n  );\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    let isFrameRequested = false;\n    const handleDragOver = (e: DragEvent): void => {\n      if (!isFrameRequested) {\n        requestAnimationFrame(() => {\n          handleDrag(e as any);\n\n          isFrameRequested = false;\n        });\n\n        isFrameRequested = true;\n      }\n    };\n\n    document.addEventListener('dragover', handleDragOver);\n\n    return (): void => document.removeEventListener('dragover', handleDragOver);\n  }, [handleDrag]);\n\n  return (\n    <>\n      <div draggable onDragStart={handleDragStart} onDragEnd={handleDragEnd} ref={redemptionRef}>\n        <PurchaseComponent {...purchase} isDragging={isDragging} />\n      </div>\n    </>\n  );\n};\n\nexport default memo(DraggableRedemption);\n","import React, { ReactText, useCallback, useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Typography } from '@material-ui/core';\nimport { RootState } from '../../../reducers';\nimport './PurchaseList.scss';\nimport { processRedemption, Purchase } from '../../../reducers/Purchases/Purchases';\nimport { PURCHASE_SORT_OPTIONS } from '../../../constants/purchase.constants';\nimport DraggableRedemption from '../DraggableRedemption/DraggableRedemption';\nimport DragBidContext from '../DragBidContext/DragBidContext';\n\nconst PurchaseList: React.FC = () => {\n  const dispatch = useDispatch();\n  const { purchases } = useSelector((root: RootState) => root.purchases);\n  const { twitchSocket, daSocket } = useSelector((root: RootState) => root.socketIo);\n  const {\n    settings: { purchaseSort },\n  } = useSelector((root: RootState) => root.aucSettings);\n\n  const handleRedemption = useCallback(\n    (redemption: Purchase): void => {\n      dispatch(processRedemption(redemption));\n    },\n    [dispatch],\n  );\n\n  const compareValues = (a: ReactText, b: ReactText): number => {\n    if (a === b) {\n      return 0;\n    }\n    return a > b ? 1 : -1;\n  };\n\n  const sortedPurchases = useMemo(() => {\n    const { key, order } = PURCHASE_SORT_OPTIONS[purchaseSort || 0];\n    const orderModifier = order === 'ascend' ? 1 : -1;\n\n    return [...purchases].sort((a: Purchase, b: Purchase) => compareValues(a[key], b[key]) * orderModifier);\n  }, [purchaseSort, purchases]);\n\n  useEffect(() => {\n    twitchSocket?.on('Bid', handleRedemption);\n    daSocket?.on('Bid', handleRedemption);\n  }, [daSocket, handleRedemption, twitchSocket]);\n\n  return (\n    <div className=\"purchase-container\">\n      <DragBidContext />\n      <div className=\"purchase-list\">\n        {sortedPurchases.map((purchase) => (\n          <DraggableRedemption {...purchase} key={purchase.id} />\n        ))}\n      </div>\n      {!!purchases.length && (\n        <Typography className=\"total-purchases\">\n          Всего заказов:\n          <span>{purchases.length}</span>\n        </Typography>\n      )}\n    </div>\n  );\n};\n\nexport default PurchaseList;\n","var _title, _desc, _defs, _g;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgDaAlert = function SvgDaAlert(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"69px\",\n    height: \"80px\",\n    viewBox: \"0 0 69 80\",\n    ref: svgRef\n  }, props), title === undefined ? _title || (_title = /*#__PURE__*/React.createElement(\"title\", null, \"DA_Alert\")) : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _desc || (_desc = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\")), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    x1: \"74.9906006%\",\n    y1: \"0%\",\n    x2: \"19.1353629%\",\n    y2: \"100%\",\n    id: \"linearGradient-1\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#FC8722\",\n    offset: \"0%\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#F57507\",\n    offset: \"100%\"\n  })))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Dashboard\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Brand\",\n    transform: \"translate(-536.000000, -275.000000)\",\n    fill: \"#FFFFFF\",\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Logos\",\n    transform: \"translate(390.000000, 120.000000)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: 1,\n    transform: \"translate(0.000000, 120.000000)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"DA_Alert\",\n    transform: \"translate(146.000000, 35.000000)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M34.8586103,46.5882227 L29.4383109,46.5882227 C29.1227896,46.5896404 28.8214241,46.4709816 28.6091788,46.2617625 C28.3969336,46.0525435 28.2937566,45.7724279 28.325313,45.4910942 L28.8039021,40.6038855 C28.8504221,40.0844231 29.3353656,39.684617 29.9168999,39.6862871 L35.3371993,39.6862871 C35.6527206,39.6848694 35.9540862,39.8035282 36.1663314,40.0127473 C36.3785767,40.2219663 36.4817536,40.5020819 36.4501972,40.7834156 L35.9716081,45.6706244 C35.9250881,46.1900867 35.4401446,46.5898928 34.8586103,46.5882227 Z M35.7273704,37.0196078 L30.2062624,37.0196078 C29.5964177,37.0196078 29.1020408,36.5436108 29.1020408,35.9564386 L30.6037822,19.445421 C30.6711655,18.9085577 31.1463683,18.5059261 31.7080038,18.5098321 L37.2291117,18.5098321 C37.8389565,18.5098321 38.3333333,18.9858292 38.3333333,19.5730013 L36.7874231,36.0946506 C36.71732,36.6114677 36.2684318,37.0031485 35.7273704,37.0196078 Z M68.1907868,17.7655375 C68.7783609,18.4477209 69.0654113,19.3359027 68.9874243,20.2304671 L66.8294442,44.7595227 C66.7602449,45.5618649 66.4022166,46.3125114 65.8210422,46.8737509 L48.1740082,63.9078173 C47.5440361,64.5136721 46.7011436,64.8515656 45.8244317,64.849701 L27.0379034,64.849701 L10.5001116,80 L11.780782,64.8396809 L3.37070981,64.8396809 C2.42614186,64.8404154 1.52467299,64.4469919 0.886144518,63.7553546 C0.247616048,63.0637173 -0.0692823639,62.1374374 0.0127313353,61.2024067 L5.14549723,3.00601995 C5.32162283,1.29571214 6.77326374,-0.00377492304 8.50347571,8.23911697e-06 L51.3303063,8.23911697e-06 C52.3155567,-0.000274507348 53.2515294,0.428127083 53.8916472,1.17235281 L68.1907868,17.7655375 Z M55.1118136,40.0801644 L56.4832402,24.9398854 C56.5364472,24.0422509 56.2238954,23.1611024 55.6160145,22.4949959 L47.548799,13.2364798 C46.9095165,12.5050105 45.982605,12.084699 45.0076261,12.0841753 L19.5958971,12.0841753 C17.8656851,12.0803922 16.4140442,13.3798792 16.2379186,15.090187 L13.2127128,49.1583198 C13.1430685,50.0904539 13.4642119,51.0097453 14.1001037,51.6985265 C14.7359954,52.3873077 15.6300918,52.7843324 16.5706913,52.795594 L41.5588914,52.795594 C42.4258216,52.7976549 43.2601656,52.4674704 43.8882999,51.8737504 L54.1034116,42.2044127 C54.6867718,41.6406314 55.0449815,40.8860452 55.1118136,40.0801644 Z\",\n    id: \"DA_Logo\"\n  }))))))));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDaAlert, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/DAAlert.02c44431.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FC } from 'react';\nimport { Button } from '@material-ui/core';\nimport { useTranslation } from 'react-i18next';\nimport { ReactComponent as TwitchSvg } from '../../../assets/icons/twitch.svg';\n\nconst authParams = {\n  client_id: '83xjs5k4yvqo0yn2cxu1v5lan2eeam',\n  redirect_uri: `${window.location.origin}/twitch/redirect`,\n  response_type: 'code',\n  scope: 'channel:read:redemptions channel:manage:redemptions',\n  force_verify: 'true',\n};\n\nconst authUrl = new URL('https://id.twitch.tv/oauth2/authorize');\n\nconst TwitchLoginButton: FC = () => {\n  const { t } = useTranslation();\n  const handleAuth = (): void => {\n    const params = new URLSearchParams(authParams);\n    authUrl.search = params.toString();\n\n    window.open(authUrl.toString(), '_self');\n  };\n\n  return (\n    <Button\n      className=\"twitch-login-button\"\n      variant=\"contained\"\n      size=\"large\"\n      startIcon={<TwitchSvg className=\"base-icon\" />}\n      onClick={handleAuth}\n    >\n      {t('common.connectTwitch')}\n    </Button>\n  );\n};\n\nexport default TwitchLoginButton;\n","import React, { FC } from 'react';\nimport { Button } from '@material-ui/core';\nimport { useTranslation } from 'react-i18next';\nimport { ReactComponent as DASvg } from '../../../assets/icons/DAAlert.svg';\nimport './DALoginButton.scss';\n\nconst authParams = {\n  client_id: '6727',\n  redirect_uri: `${window.location.origin}/da/redirect`,\n  response_type: 'code',\n  scope: 'oauth-donation-subscribe oauth-user-show',\n  // force_verify: 'true',\n};\n\nconst authUrl = new URL('https://www.donationalerts.com/oauth/authorize');\n\nconst TwitchLoginButton: FC = () => {\n  const { t } = useTranslation();\n  const handleAuth = (): void => {\n    const params = new URLSearchParams(authParams);\n    authUrl.search = params.toString();\n\n    window.open(authUrl.toString(), '_self');\n  };\n\n  return (\n    <>\n      <Button\n        className=\"da-login-button\"\n        variant=\"contained\"\n        size=\"large\"\n        startIcon={<DASvg className=\"base-icon da\" />}\n        onClick={handleAuth}\n      >\n        {t('common.connectDA')}\n      </Button>\n    </>\n  );\n};\n\nexport default TwitchLoginButton;\n","import { Accordion, AccordionDetails, AccordionSummary, Switch, Typography } from '@material-ui/core';\n\nimport React, { FC, useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useTranslation } from 'react-i18next';\nimport { ReactComponent as TwitchSvg } from '../../../assets/icons/twitch.svg';\nimport { ReactComponent as DASvg } from '../../../assets/icons/DAAlert.svg';\nimport './IntegrationSubscription.scss';\nimport TwitchLoginButton from '../../../components/IntegrationPage/TwitchLoginButton/TwitchLoginButton';\nimport { sendCpSubscribedState, sendDaSubscribedState } from '../../../reducers/Subscription/Subscription';\nimport { RootState } from '../../../reducers';\nimport DALoginButton from '../../../components/IntegrationPage/DALoginButton/DALoginButton';\n\nconst IntegrationSubscription: FC = () => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { hasDAAuth, hasTwitchAuth, username } = useSelector((root: RootState) => root.user);\n\n  const {\n    da: { actual, loading },\n    twitch: { actual: twitchActual, loading: twitchLoading },\n  } = useSelector((root: RootState) => root.subscription);\n\n  const [isSubscribedDA, setIsSubscribedDA] = useState<boolean>(actual);\n  const [isSubscribedTwitch, setIsSubscribedTwitch] = useState<boolean>(twitchActual);\n\n  useEffect(() => {\n    setIsSubscribedTwitch(twitchActual);\n  }, [twitchActual]);\n\n  useEffect(() => {\n    setIsSubscribedDA(actual);\n  }, [actual]);\n\n  const subscribeTwitch = useCallback((): void => {\n    setIsSubscribedTwitch((checked) => {\n      dispatch(sendCpSubscribedState(!checked, setIsSubscribedTwitch));\n\n      return !checked;\n    });\n  }, [dispatch]);\n\n  const subscribeDA = useCallback(\n    (e: any, checked: boolean): void => {\n      setIsSubscribedDA(checked);\n      dispatch(sendDaSubscribedState(checked));\n    },\n    [dispatch],\n  );\n\n  return (\n    <Accordion defaultExpanded className=\"fast-access\">\n      <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\n        <Typography>{t('auc.integrations')}</Typography>\n      </AccordionSummary>\n      <AccordionDetails className=\"content\">\n        {username && hasTwitchAuth ? (\n          <div className=\"row\">\n            <div className=\"col\">\n              <TwitchSvg className=\"base-icon twitch\" />\n              <span className=\"label\">Twitch</span>\n            </div>\n            <Switch onChange={subscribeTwitch} disabled={twitchLoading} checked={isSubscribedTwitch} />\n          </div>\n        ) : (\n          <TwitchLoginButton />\n        )}\n        {username && hasDAAuth ? (\n          <div className=\"row\">\n            <div className=\"col\">\n              <DASvg className=\"base-icon da\" />\n              <span className=\"label\">Donation Alerts</span>\n            </div>\n            <Switch onChange={subscribeDA} disabled={loading} checked={isSubscribedDA} />\n          </div>\n        ) : (\n          <DALoginButton />\n        )}\n      </AccordionDetails>\n    </Accordion>\n  );\n};\n\nexport default IntegrationSubscription;\n","import React, { FC } from 'react';\nimport IntegrationSubscription from '../IntegrationSubscription/IntegrationSubscription';\n\nconst FastAccessPanel: FC = () => {\n  return (\n    <div style={{ width: '90%' }}>\n      <IntegrationSubscription />\n    </div>\n  );\n};\n\nexport default FastAccessPanel;\n","import React from 'react';\nimport Stopwatch from '../Stopwatch/Stopwatch';\nimport './ControlColumn.scss';\nimport PurchaseList from '../PurchaseList/PurchaseList';\nimport FastAccessPanel from '../FastAccessPanel/FastAccessPanel';\n\nconst ControlColumn: React.FC = () => {\n  return (\n    <div className=\"control-column\">\n      <Stopwatch />\n      <FastAccessPanel />\n      <PurchaseList />\n    </div>\n  );\n};\n\nexport default ControlColumn;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Backdrop } from '@material-ui/core';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport { RootState } from '../../reducers';\nimport { setNotification } from '../../reducers/notifications/notifications';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: '#fff',\n      fontSize: '45px',\n    },\n  }),\n);\n\nconst Notification: React.FC = () => {\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const { message } = useSelector((root: RootState) => root.notifications);\n\n  const handleClose = (): void => {\n    dispatch(setNotification(null));\n  };\n\n  return (\n    <Backdrop open={!!message} onClick={handleClose} className={classes.backdrop}>\n      {message}\n    </Backdrop>\n  );\n};\n\nexport default Notification;\n","import React, { FC } from 'react';\nimport { Container, ContainerProps, createStyles, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\nimport './PageContainer.scss';\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      background: theme.palette.background.default,\n      color: theme.palette.text.primary,\n      height: '100vh',\n      paddingTop: theme.spacing(4),\n      paddingBottom: theme.spacing(4),\n      overflowX: 'hidden',\n      overflowY: 'auto',\n    },\n  }),\n);\n\ninterface PgeContainerProps extends ContainerProps {\n  title?: string;\n}\n\nconst PageContainer: FC<PgeContainerProps> = ({ title, children, className, ...props }) => {\n  const classes = useStyles();\n\n  return (\n    <Container className={classNames(classes.root, className, 'page-container')} style={{ maxWidth: '95%' }} {...props}>\n      {!!title && <Typography variant=\"h3\">{title}</Typography>}\n      {children}\n    </Container>\n  );\n};\n\nexport default PageContainer;\n","import React, { FC, MouseEvent, MutableRefObject, useCallback, useEffect, useState } from 'react';\nimport './Resizer.scss';\nimport { TRAILER_MIN_SIZE } from '../../../constants/common.constants';\nimport { Size } from '../../../models/common.model';\n\ninterface ResizerProps {\n  container: MutableRefObject<HTMLDivElement | null>;\n  onResize: (size: Size) => void;\n}\n\nconst Resizer: FC<ResizerProps> = ({ container, onResize }) => {\n  const [mouseOffset, setMouseOffset] = useState<{ bottom: number; right: number }>();\n\n  const handleMouseDown = useCallback(() => {\n    if (container.current) {\n      const { bottom, right } = container.current.getBoundingClientRect();\n\n      container.current.classList.add('interaction');\n      setMouseOffset({ bottom, right });\n    }\n  }, [container]);\n  const handleMouseUp = useCallback(() => {\n    setMouseOffset(undefined);\n\n    if (container.current) {\n      container.current.classList.remove('interaction');\n    }\n  }, [container]);\n\n  const handleMouseMove = useCallback(\n    (e: MouseEvent) => {\n      if (mouseOffset && container.current) {\n        const width = Math.max(e.pageX - container.current.offsetLeft, TRAILER_MIN_SIZE.width);\n        const height = Math.max(e.pageY - container.current.offsetTop, TRAILER_MIN_SIZE.height);\n\n        container.current.style.width = `${width}px`;\n        container.current.style.height = `${height}px`;\n\n        onResize({ width, height });\n      }\n    },\n    [container, mouseOffset, onResize],\n  );\n\n  useEffect(() => {\n    document.addEventListener('mouseup', handleMouseUp);\n    document.addEventListener('mousemove', handleMouseMove as any);\n\n    return (): void => {\n      document.removeEventListener('mouseup', handleMouseUp);\n      document.removeEventListener('mousemove', handleMouseMove as any);\n    };\n  }, [handleMouseMove, handleMouseUp]);\n\n  return (\n    <div role=\"button\" className=\"resizer\" onMouseDown={handleMouseDown} tabIndex={0}>\n      <div className=\"resizer-icon\" />\n    </div>\n  );\n};\n\nexport default Resizer;\n","import React, { FC, MouseEvent, useCallback, useEffect, useRef, useState } from 'react';\nimport './ResizablePanel.scss';\nimport { IconButton, Typography } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport classNames from 'classnames';\nimport Resizer from './Resizer/Resizer';\nimport { DragPosition, Size } from '../../models/common.model';\n\ninterface ResizablePanelProps {\n  initialSize: Size;\n  title: string;\n  onResize: (size: Size) => void;\n  onClose: () => void;\n}\n\nconst ResizablePanel: FC<ResizablePanelProps> = ({ children, initialSize, title, onClose, onResize }) => {\n  const [mouseOffset, setMouseOffset] = useState<DragPosition>();\n  const container = useRef<HTMLDivElement>(null);\n\n  const setContainerSize = useCallback(({ width, height }: Size) => {\n    if (container.current) {\n      container.current.style.width = `${width}px`;\n      container.current.style.height = `${height}px`;\n    }\n  }, []);\n\n  useEffect(() => {\n    setContainerSize(initialSize);\n  }, [initialSize, setContainerSize]);\n\n  const handleMouseDown = useCallback((e: MouseEvent) => {\n    if (container.current) {\n      const { left, top } = container.current.getBoundingClientRect();\n\n      setMouseOffset({ left: e.pageX - left, top: e.pageY - top });\n    }\n  }, []);\n  const handleMouseUp = useCallback(() => {\n    setMouseOffset(undefined);\n  }, []);\n\n  const handleMouseMove = useCallback(\n    (e: MouseEvent) => {\n      if (mouseOffset && container.current) {\n        const { width, height } = container.current.getBoundingClientRect();\n        const {\n          screen: { width: screenWidth, height: screenHeight },\n        } = window;\n        const offsetLeft = e.pageX - mouseOffset.left;\n        const offsetTop = e.pageY - mouseOffset.top;\n        const left = screenWidth > offsetLeft + width ? Math.max(offsetLeft, 0) : screenWidth - width;\n        const top = screenHeight > offsetTop + height ? Math.max(offsetTop, 0) : screenHeight - height;\n\n        container.current.style.left = `${left}px`;\n        container.current.style.top = `${top}px`;\n      }\n    },\n    [mouseOffset],\n  );\n\n  useEffect(() => {\n    document.addEventListener('mouseup', handleMouseUp);\n    document.addEventListener('mousemove', handleMouseMove as any);\n\n    return (): void => {\n      document.removeEventListener('mouseup', handleMouseUp);\n      document.removeEventListener('mousemove', handleMouseMove as any);\n    };\n  }, [handleMouseMove, handleMouseUp]);\n\n  const handleResize = useCallback(\n    ({ width, height }: Size) => {\n      onResize({ width, height });\n    },\n    [onResize],\n  );\n\n  return (\n    <div className={classNames('resizable-panel', { interaction: !!mouseOffset })} ref={container}>\n      <Typography role=\"button\" className=\"resizable-panel-header\" onMouseDown={handleMouseDown} variant=\"h5\">\n        {`Трейлер: ${title}`}\n        <IconButton onClick={onClose} className=\"resizable-panel-close\" title=\"Закрыть\">\n          <CloseIcon />\n        </IconButton>\n      </Typography>\n      <div className=\"resizable-panel-content\">{children}</div>\n      <Resizer container={container} onResize={handleResize} />\n    </div>\n  );\n};\n\nexport default ResizablePanel;\n","import { axios } from './axios';\nimport { YOUTUBE_API_KEYS } from '../constants/common.constants';\nimport { VideoSnippet } from '../models/youtube';\n\nexport const searchYoutubeVideos = async (query: string, keyId = 0): Promise<VideoSnippet[]> => {\n  return [];\n  // try {\n  //   if (!YOUTUBE_API_KEYS[keyId]) {\n  //     return [];\n  //   }\n  //\n  //   const { data } = await axios.get('https://www.googleapis.com/youtube/v3/search', {\n  //     params: {\n  //       q: query,\n  //       part: 'snippet',\n  //       type: 'video',\n  //       maxResults: 10,\n  //       key: YOUTUBE_API_KEYS[keyId],\n  //     },\n  //   });\n  //\n  //   return data.items;\n  // } catch (e) {\n  //   return searchYoutubeVideos(query, keyId + 1);\n  // }\n};\n","import React, { FC, useCallback } from 'react';\nimport { Button } from '@material-ui/core';\nimport { VideoSnippet } from '../../../models/youtube';\nimport './VideoPreview.scss';\n\ninterface VideoPreviewProps extends VideoSnippet {\n  onSelect: (id: string) => void;\n}\n\nconst VideoPreview: FC<VideoPreviewProps> = ({ onSelect, id: { videoId }, snippet: { title } }) => {\n  const handleSelect = useCallback(() => {\n    onSelect(videoId);\n  }, [onSelect, videoId]);\n\n  return (\n    <div className=\"video-preview\">\n      <Button onClick={handleSelect} className=\"video-preview-button\">\n        {title}\n      </Button>\n    </div>\n  );\n};\n\nexport default VideoPreview;\n","import React, { FC, useEffect, useRef, useState } from 'react';\nimport PlayerFactory from 'youtube-player';\nimport { YouTubePlayer } from 'youtube-player/dist/types';\n\ninterface YoutubePlayerProps {\n  width: number;\n  height: number;\n  videoId?: string;\n}\n\nconst YoutubePlayer: FC<YoutubePlayerProps> = ({ width, videoId, height }) => {\n  const container = useRef<HTMLDivElement>(null);\n  const [playerInstance, setPlayerInstance] = useState<YouTubePlayer>();\n\n  useEffect(() => {\n    if (container.current) {\n      setPlayerInstance(PlayerFactory(container.current, { width, videoId, height }));\n    }\n\n    return (): void => {\n      if (playerInstance) {\n        playerInstance.destroy();\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (playerInstance) {\n      playerInstance.setSize(width, height);\n    }\n  }, [height, playerInstance, width]);\n\n  return <div ref={container} />;\n};\n\nexport default YoutubePlayer;\n","import React, { FC, useCallback, useEffect, useMemo, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { CircularProgress, IconButton, InputBase } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Trailer } from '../../../models/extraWindows';\nimport ResizablePanel from '../../ResizablePanel/ResizablePanel';\nimport { closeTrailer } from '../../../reducers/ExtraWindows/ExtraWindows';\nimport './TrailerWindow.scss';\nimport withLoading from '../../../decorators/withLoading';\nimport { searchYoutubeVideos } from '../../../api/youtubeApi';\nimport { VideoSnippet } from '../../../models/youtube';\nimport VideoPreview from '../VideoPreview/VideoPreview';\nimport { Size } from '../../../models/common.model';\nimport YoutubePlayer from '../../YoutubePlayer/YoutubePlayer';\n\nconst initialSize = { width: 1000, height: 650 };\n\nconst TrailerWindow: FC<Trailer> = ({ id, title: windowTitle }) => {\n  const dispatch = useDispatch();\n  const [searchRequest, setSearchRequest] = useState<string>(`${windowTitle} trailer`);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [videos, setVideos] = useState<VideoSnippet[]>([]);\n  const [currentVideo, setCurrentVideo] = useState<string>();\n  const [windowSize, setWindowSize] = useState<Size>(initialSize);\n\n  const handleCloseTrailer = useCallback(() => {\n    dispatch(closeTrailer(id));\n  }, [dispatch, id]);\n\n  const handleRequestChange = useCallback(({ target: { value } }) => {\n    setSearchRequest(value);\n  }, []);\n\n  const searchVideos = useCallback(async () => {\n    const videosData = await searchYoutubeVideos(searchRequest);\n\n    setVideos(videosData);\n  }, [searchRequest]);\n\n  const onSubmit = useMemo(() => withLoading(setIsLoading, searchVideos), [searchVideos]);\n\n  const handleKeyPress = useCallback(\n    ({ key }) => {\n      if (key === 'Enter') {\n        onSubmit();\n      }\n    },\n    [onSubmit],\n  );\n\n  const playerOptions = useMemo(() => ({ width: windowSize.width - 2, height: windowSize.height - 50 }), [\n    windowSize.height,\n    windowSize.width,\n  ]);\n\n  useEffect(() => {\n    onSubmit();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <ResizablePanel initialSize={initialSize} onClose={handleCloseTrailer} title={windowTitle} onResize={setWindowSize}>\n      {currentVideo ? (\n        <div style={{ position: 'absolute', top: 0, left: 0 }} className=\"youtube-container\">\n          <YoutubePlayer videoId={currentVideo} {...playerOptions} />\n        </div>\n      ) : (\n        <div className=\"trailer\">\n          <div className=\"search-form\">\n            <IconButton type=\"submit\" className=\"search-form-icon\" onClick={onSubmit}>\n              <SearchIcon />\n            </IconButton>\n            <InputBase\n              placeholder=\"Поиск YouTube\"\n              className=\"search-form-input\"\n              value={searchRequest}\n              onChange={handleRequestChange}\n              onKeyPress={handleKeyPress}\n            />\n          </div>\n          <div className=\"trailers-list\">\n            {isLoading ? (\n              <div className=\"trailer-loading\">\n                <CircularProgress className=\"trailer-loading-spinner\" />\n              </div>\n            ) : (\n              videos.map((video) => <VideoPreview {...video} onSelect={setCurrentVideo} key={video.id.videoId} />)\n            )}\n          </div>\n        </div>\n      )}\n    </ResizablePanel>\n  );\n};\n\nexport default TrailerWindow;\n","import React, { FC } from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../reducers';\nimport TrailerWindow from './TrailerWindow/TrailerWindow';\nimport './TrailersContainer.scss';\n\nconst TrailersContainer: FC = () => {\n  const { trailers } = useSelector((root: RootState) => root.extraWindows);\n  return (\n    <div className=\"trailers-container\">\n      {trailers.map((trailer) => (\n        <TrailerWindow {...trailer} key={trailer.id} />\n      ))}\n    </div>\n  );\n};\n\nexport default TrailersContainer;\n","export const FORMAT = {\n  DATE: {\n    time: 'HH:mm:ss',\n    dateTime: 'DD.MM HH:mm',\n  },\n};\n","import dayjs from 'dayjs';\nimport { SaveInfo } from '../models/save.model';\nimport { LocalStorage } from '../constants/common.constants';\nimport { Slot } from '../models/slot.model';\nimport { FORMAT } from '../constants/format.constants';\n\nclass SaveLoadService {\n  static getSavesConfig = (): SaveInfo[] => {\n    const rawConfig = localStorage.getItem(LocalStorage.SaveConfig);\n\n    if (!rawConfig) {\n      localStorage.setItem(LocalStorage.SaveConfig, JSON.stringify([]));\n    }\n\n    return rawConfig ? JSON.parse(rawConfig) : [];\n  };\n\n  static getSlots = (name: string): Slot[] => {\n    const config = SaveLoadService.getSavesConfig();\n    const configIndex = config.findIndex(({ name: infoName }) => infoName === name);\n\n    const slots = localStorage.getItem(config[configIndex].slotsLocation);\n\n    return slots ? JSON.parse(slots) : [];\n  };\n\n  static rename = (previousName: string, nextName: string): SaveInfo[] => {\n    const config = SaveLoadService.getSavesConfig();\n    const configIndex = config.findIndex(({ name: infoName }) => infoName === previousName);\n    const saveInfo: SaveInfo = { ...config[configIndex], name: nextName };\n\n    config.splice(configIndex, 1, saveInfo);\n    localStorage.setItem(LocalStorage.SaveConfig, JSON.stringify(config));\n\n    return config;\n  };\n\n  static rewrite = (slots: Slot[], name: string): SaveInfo[] => {\n    const config = SaveLoadService.getSavesConfig();\n    const configIndex = config.findIndex(({ name: infoName }) => infoName === name);\n\n    if (configIndex < 0) {\n      return SaveLoadService.newSave(slots, name);\n    }\n\n    const saveInfo: SaveInfo = {\n      ...config[configIndex],\n      timestamp: new Date().toISOString(),\n      length: slots.length.toString(),\n    };\n\n    config.splice(configIndex, 1, saveInfo);\n\n    localStorage.setItem(saveInfo.slotsLocation, JSON.stringify(slots));\n    localStorage.setItem(LocalStorage.SaveConfig, JSON.stringify(config));\n\n    return config;\n  };\n\n  static delete = (name: string): SaveInfo[] => {\n    const config = SaveLoadService.getSavesConfig();\n    const configIndex = config.findIndex(({ name: infoName }) => infoName === name);\n\n    const deletedSave = config.splice(configIndex, 1)[0];\n\n    localStorage.removeItem(deletedSave.slotsLocation);\n    localStorage.setItem(LocalStorage.SaveConfig, JSON.stringify(config));\n\n    return config;\n  };\n\n  static newSave = (slots: Slot[], name?: string): SaveInfo[] => {\n    const saveInfo: SaveInfo = {\n      timestamp: new Date().toISOString(),\n      name: name || `Сохранение ${dayjs().format(FORMAT.DATE.dateTime)}`,\n      length: slots.length.toString(),\n      slotsLocation: Math.random().toString(),\n    };\n    const config = [...SaveLoadService.getSavesConfig(), saveInfo];\n\n    localStorage.setItem(saveInfo.slotsLocation, JSON.stringify(slots));\n    localStorage.setItem(LocalStorage.SaveConfig, JSON.stringify(config));\n\n    return config;\n  };\n}\n\nexport default SaveLoadService;\n","export enum Language {\n  RU = 'ru',\n  EN = 'en',\n  BE = 'be',\n}\n","import React, { FC, FocusEvent, useCallback } from 'react';\nimport dayjs from 'dayjs';\nimport { Button, TextField, Typography } from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { SaveInfo } from '../../../../models/save.model';\nimport { FORMAT } from '../../../../constants/format.constants';\nimport './SaveRecord.scss';\nimport SaveLoadService from '../../../../services/SaveLoadService';\nimport { RootState } from '../../../../reducers';\nimport { setSlots } from '../../../../reducers/Slots/Slots';\nimport { loadFile } from '../../../../utils/common.utils';\n\ninterface SaveRecordProps extends SaveInfo {\n  onConfigChange: (config: SaveInfo[]) => void;\n}\n\nconst SaveRecord: FC<SaveRecordProps> = ({ timestamp, name, length, onConfigChange }) => {\n  const { slots } = useSelector((root: RootState) => root.slots);\n  const dispatch = useDispatch();\n\n  const handleDelete = useCallback(() => {\n    onConfigChange(SaveLoadService.delete(name));\n  }, [name, onConfigChange]);\n\n  const handleSave = useCallback(() => {\n    onConfigChange(SaveLoadService.rewrite(slots, name));\n  }, [name, onConfigChange, slots]);\n\n  const handleLoad = useCallback(() => {\n    dispatch(setSlots(SaveLoadService.getSlots(name)));\n  }, [dispatch, name]);\n\n  const handleRename = useCallback(\n    (e: FocusEvent<HTMLInputElement>) => {\n      onConfigChange(SaveLoadService.rename(name, e.target.value));\n    },\n    [name, onConfigChange],\n  );\n\n  const handleDownloadFile = useCallback(() => {\n    loadFile(name, JSON.stringify(SaveLoadService.getSlots(name)));\n  }, [name]);\n\n  return (\n    <div className=\"save-record\">\n      <div className=\"row\">\n        <div className=\"row\">\n          <TextField variant=\"outlined\" className=\"name-input\" defaultValue={name} onBlur={handleRename} />\n          <Typography className=\"timestamp\">{`${length} лотов`}</Typography>\n        </div>\n        <Typography className=\"timestamp\">{dayjs(timestamp).format(FORMAT.DATE.dateTime)}</Typography>\n      </div>\n      <div className=\"row actions\">\n        <div className=\"save-actions\">\n          <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={handleLoad}>\n            Загрузить\n          </Button>\n          <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={handleSave}>\n            Сохранить\n          </Button>\n          <Button variant=\"outlined\" color=\"primary\" size=\"small\" onClick={handleDownloadFile}>\n            Скачать в файл\n          </Button>\n        </div>\n        <Button variant=\"outlined\" color=\"secondary\" size=\"small\" onClick={handleDelete}>\n          Удалить\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default SaveRecord;\n","import React, { FC, useCallback, useMemo, useState } from 'react';\nimport { Button, Dialog, DialogContent } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport dayjs from 'dayjs';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport SaveLoadService from '../../../services/SaveLoadService';\nimport { SaveInfo } from '../../../models/save.model';\nimport SaveRecord from './SaveRecord/SaveRecord';\nimport { RootState } from '../../../reducers';\nimport './SaveLoad.scss';\n\nconst SaveLoad: FC = () => {\n  const { slots } = useSelector((root: RootState) => root.slots);\n  const initialSaves = useMemo(\n    () =>\n      SaveLoadService.getSavesConfig().sort(\n        ({ timestamp: a }, { timestamp: b }) => dayjs(b).valueOf() - dayjs(a).valueOf(),\n      ),\n    [],\n  );\n  const [saveConfig, setSaveConfig] = useState<SaveInfo[]>(initialSaves);\n  const [isImportOpen, setIsImportOpen] = useState<boolean>(false);\n  const handleNewSave = useCallback(() => setSaveConfig(SaveLoadService.newSave(slots)), [slots]);\n  const toggleDialog = (): void => {\n    setIsImportOpen((prevOpened) => !prevOpened);\n  };\n  const handleImportSave = useCallback(([file]: File[]) => {\n    const reader = new FileReader();\n\n    reader.onloadend = (): void => {\n      if (typeof reader.result === 'string') {\n        setSaveConfig(SaveLoadService.newSave(JSON.parse(reader.result), file.name));\n      }\n\n      toggleDialog();\n    };\n\n    reader.readAsText(file);\n  }, []);\n\n  return (\n    <div className=\"save-load-wrapper\">\n      <div className=\"saves-container\">\n        {saveConfig.map((info) => (\n          <SaveRecord key={info.timestamp} {...info} onConfigChange={setSaveConfig} />\n        ))}\n      </div>\n      <div className=\"controls\">\n        <Button style={{ marginRight: 10 }} onClick={toggleDialog} variant=\"outlined\">\n          Импорт из файла\n        </Button>\n        <Button onClick={handleNewSave} variant=\"outlined\">\n          Новое сохранение\n        </Button>\n      </div>\n      <Dialog open={isImportOpen} onClose={toggleDialog} maxWidth={false}>\n        <DialogContent className=\"image-input-wrapper\">\n          <DropzoneArea\n            dropzoneClass=\"drop-zone\"\n            dropzoneText=\"Перетащите сюда файл или нажмите\"\n            onDrop={handleImportSave}\n            filesLimit={1}\n          />\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default SaveLoad;\n","import { i18n } from 'i18next';\nimport { Language } from '../enums/language.enum';\n\nexport interface LanguageData {\n  key: Language;\n  name: string;\n}\n\nexport const SupportedLanguages: LanguageData[] = [\n  { key: Language.EN, name: 'English' },\n  { key: Language.RU, name: 'Русский' },\n  { key: Language.BE, name: 'Беларуская' },\n];\n\nexport const getCurrentLanguage = (i18next: i18n): LanguageData =>\n  SupportedLanguages.find(({ key }) => i18next.language === key) || SupportedLanguages[0];\n","var _g;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgAuction = function SvgAuction(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 512,\n    viewBox: \"0 0 96 96\",\n    width: 512,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"_29-auction\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Glyph\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0 88h56v8h-56z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m48 79.935a4 4 0 0 0 -4-4h-32a4 4 0 0 0 -4 4v4.065h40z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m54.426 47.231a27.906 27.906 0 0 0 -4.639 6.674l32.924 32.924a4 4 0 0 0 5.656 0l5.657-5.657a4 4 0 0 0 0-5.657l-32.924-32.915a27.263 27.263 0 0 0 -6.674 4.631z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m34.627 27.432a34.686 34.686 0 0 1 -10.34 6.629l20.674 20.674a35.253 35.253 0 0 1 6.639-10.335 34.715 34.715 0 0 1 10.34-6.63l-20.675-20.67a35.282 35.282 0 0 1 -6.638 10.332z\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    height: 40,\n    rx: 4,\n    transform: \"matrix(.707 -.707 .707 .707 4.201 48.034)\",\n    width: 16,\n    x: 52.083,\n    y: -1.054\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    height: 40,\n    rx: 4,\n    transform: \"matrix(.707 -.707 .707 .707 -29.74 33.976)\",\n    width: 16,\n    x: 18.142,\n    y: 32.887\n  })))));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgAuction, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/auction.4bbe2c6e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { Button, Menu, MenuItem } from '@material-ui/core';\nimport { useTranslation } from 'react-i18next';\nimport UnfoldMoreIcon from '@material-ui/icons/UnfoldMore';\nimport { getCurrentLanguage, SupportedLanguages } from '../../../constants/language.constants';\nimport { Language } from '../../../enums/language.enum';\nimport './LanguageDropdown.scss';\n\nconst LanguageDropdown = () => {\n  const { t, i18n } = useTranslation();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const currentLanguage = getCurrentLanguage(i18n);\n\n  const handleClick = (event: any): void => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = (): void => {\n    setAnchorEl(null);\n  };\n\n  const setLanguage = (key: Language) => {\n    i18n.changeLanguage(key);\n    handleClose();\n  };\n\n  return (\n    <>\n      <Button\n        className=\"language-dropdown-button\"\n        aria-controls=\"language-menu\"\n        onClick={handleClick}\n        variant=\"outlined\"\n        startIcon={<UnfoldMoreIcon />}\n      >\n        {t('auc.language', { replace: { lng: currentLanguage.name } })}\n      </Button>\n      <Menu\n        id=\"language-menu\"\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n      >\n        {SupportedLanguages.map(({ key, name }) => (\n          <MenuItem key={key} selected={key === currentLanguage.key} onClick={() => setLanguage(key)}>\n            {name}\n          </MenuItem>\n        ))}\n      </Menu>\n    </>\n  );\n};\n\nexport default LanguageDropdown;\n","import React, { useCallback, useState } from 'react';\nimport './AucActions.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  Button,\n  Checkbox,\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  FormControlLabel,\n  IconButton,\n  Link,\n} from '@material-ui/core';\nimport DeleteSweepIcon from '@material-ui/icons/DeleteSweep';\nimport { useTranslation } from 'react-i18next';\nimport { LINE_BREAK } from '../../../constants/common.constants';\nimport { resetPurchases } from '../../../reducers/Purchases/Purchases';\nimport { isProduction, loadFile } from '../../../utils/common.utils';\nimport { RootState } from '../../../reducers';\nimport { Slot } from '../../../models/slot.model';\nimport { setCompact, setShowChances } from '../../../reducers/AucSettings/AucSettings';\nimport SaveLoad from '../SaveLoad/SaveLoad';\nimport { resetSlots } from '../../../reducers/Slots/Slots';\nimport { updateSettings } from '../../../api/userApi';\nimport LanguageDropdown from '../LanguageDropdown/LanguageDropdown';\n\nconst isProd = isProduction();\n\nconst getSlotNamesByCount = ({ name, amount }: Slot): string =>\n  new Array<string>(Number(amount)).fill(name || '').join(LINE_BREAK);\nconst createMarbleConfig = (slots: Slot[]): string => slots.map(getSlotNamesByCount).join(LINE_BREAK);\n\nconst AucActions: React.FC = () => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { slots } = useSelector((root: RootState) => root.slots);\n  const { showChances } = useSelector((root: RootState) => root.aucSettings.settings);\n  const { compact } = useSelector((root: RootState) => root.aucSettings.view);\n  const [confirmRestoreOpen, setConfirmRestoreOpen] = useState<boolean>(false);\n\n  const handleResetSlots = (): void => {\n    dispatch(resetSlots());\n    dispatch(resetPurchases());\n  };\n\n  const downloadMarbles = (): void => {\n    loadFile('marbles.csv', createMarbleConfig(slots));\n  };\n\n  const handleRestoreOpen = useCallback(() => {\n    setConfirmRestoreOpen(true);\n  }, []);\n\n  const handleRestoreClose = useCallback(() => {\n    setConfirmRestoreOpen(false);\n  }, []);\n\n  const handleSetCompact = useCallback(\n    (e, checked: boolean) => {\n      dispatch(setCompact(checked));\n    },\n    [dispatch],\n  );\n\n  const handleSetShowChances = useCallback(\n    (e, checked: boolean) => {\n      dispatch(setShowChances(checked));\n      updateSettings({ showChances: checked });\n    },\n    [dispatch],\n  );\n\n  return (\n    <div className=\"options-wrapper\">\n      <FormControlLabel\n        control={<Checkbox checked={showChances} onChange={handleSetShowChances} color=\"primary\" />}\n        label={t('auc.showWinningChances')}\n        className=\"save-current-slots compact-view-checkbox\"\n      />\n      <div className=\"options\">\n        <Link\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"da-link gitlab\"\n          href=\"https://gitlab.com/Ankirig/woodsauc-renewal\"\n        >\n          GitLab\n        </Link>\n        <Link\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"da-link\"\n          href=\"https://www.donationalerts.com/r/kozjar\"\n        >\n          {t('auc.supportCreator')}\n        </Link>\n        <IconButton onClick={handleResetSlots} className=\"clear-button\" title=\"Очистить все\">\n          <DeleteSweepIcon />\n        </IconButton>\n        <FormControlLabel\n          control={<Checkbox checked={compact} onChange={handleSetCompact} color=\"primary\" />}\n          label={t('auc.compactView')}\n          className=\"save-current-slots compact-view-checkbox\"\n        />\n        {/* <RouteLink to={ROUTES.HELP}> */}\n        {/*  <Button className=\"button\" variant=\"outlined\"> */}\n        {/*    Гайд */}\n        {/*  </Button> */}\n        {/* </RouteLink> */}\n        <Button className=\"button marbles\" onClick={downloadMarbles} variant=\"outlined\">\n          {t('auc.downloadMarbles')}\n        </Button>\n        <Button className=\"button restore\" onClick={handleRestoreOpen} variant=\"outlined\">\n          {t('auc.saveLoad')}\n        </Button>\n        <LanguageDropdown />\n        {/* {!isProd && <MockBidForm />} */}\n        <Dialog\n          open={confirmRestoreOpen}\n          onClose={handleRestoreClose}\n          className=\"confirm-restore\"\n          maxWidth=\"sm\"\n          fullWidth\n        >\n          <DialogTitle>Ваши сохранения</DialogTitle>\n          <DialogContent dividers className=\"content\">\n            <SaveLoad />\n          </DialogContent>\n        </Dialog>\n      </div>\n    </div>\n  );\n};\n\nexport default AucActions;\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport SlotsColumn from './SlotsColumn/SlotsColumn';\nimport ControlColumn from './ControlColumn/ControlColumn';\nimport Notification from '../../components/Notification/Notification';\nimport './AucPage.scss';\nimport { RootState } from '../../reducers';\nimport PageContainer from '../../components/PageContainer/PageContainer';\nimport { updatePercents } from '../../services/PercentsRefMap';\nimport TrailersContainer from '../../components/TrailersContainer/TrailersContainer';\nimport AucActions from './AucActions/AucActions';\n\nconst AucPage: React.FC = () => {\n  const { background } = useSelector((root: RootState) => root.aucSettings.settings);\n  const { showChances } = useSelector((root: RootState) => root.aucSettings.settings);\n  const { slots, searchTerm } = useSelector((root: RootState) => root.slots);\n\n  const backgroundStyles = {\n    backgroundImage: `url(${background})`,\n    backgroundPosition: 'center',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n  };\n\n  useEffect(() => {\n    if (showChances && !searchTerm) {\n      updatePercents(slots);\n    }\n  }, [searchTerm, showChances, slots]);\n\n  return (\n    <PageContainer className=\"auc-container\" style={backgroundStyles} maxWidth={false}>\n      <div className=\"auc-container-column\">\n        <div className=\"auc-container-row\">\n          <SlotsColumn />\n          <ControlColumn />\n        </div>\n        <AucActions />\n      </div>\n      <Notification />\n      <TrailersContainer />\n    </PageContainer>\n  );\n};\n\nexport default AucPage;\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgWheel = function SvgWheel(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 58 58\",\n    style: {\n      enableBackground: \"new 0 0 58 58\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#F0785A\"\n    },\n    d: \"M31,26.962h26.924C56.94,12.541,45.421,1.022,31,0.038V26.962z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#F0C419\"\n    },\n    d: \"M50.386,48.615c4.343-4.71,7.151-10.858,7.614-17.653H32.733L50.386,48.615z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#556080\"\n    },\n    d: \"M27,28.134V0.038C11.918,1.067,0,13.619,0,28.962C0,36.25,2.695,42.905,7.134,48L27,28.134z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#71C285\"\n    },\n    d: \"M28.414,32.376L9.962,50.828c5.095,4.439,11.75,7.134,19.038,7.134 c6.99,0,13.396-2.479,18.401-6.599L28.414,32.376z\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null)), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgWheel, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/wheel.1a0f2ae1.svg\";\nexport { ForwardRef as ReactComponent };","import AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport HelpIcon from '@material-ui/icons/Help';\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\nimport HowToVoteIcon from '@material-ui/icons/HowToVote';\nimport { MenuItem } from '../models/common.model';\nimport { ReactComponent as AuctionSvg } from '../assets/icons/auction.svg';\nimport { ReactComponent as WheelSvg } from '../assets/icons/wheel.svg';\nimport ROUTES from './routes.constants';\n\nconst MENU_ITEMS: MenuItem[] = [\n  { title: 'Аукцион', IconComponent: AuctionSvg, path: ROUTES.HOME },\n  { title: 'Интеграция', IconComponent: AccountCircleIcon, path: ROUTES.INTEGRATION },\n  { title: 'Настройки', IconComponent: SettingsIcon, path: ROUTES.SETTINGS },\n  { title: 'Колесо рандома', IconComponent: WheelSvg, path: ROUTES.WHEEL },\n  { title: 'Статистика', IconComponent: EqualizerIcon, path: ROUTES.STATISTIC },\n  { title: 'История', IconComponent: AssignmentIcon, path: ROUTES.HISTORY },\n  { title: 'Гайд', IconComponent: HelpIcon, path: ROUTES.HELP },\n  { title: 'Заказы зрителей', IconComponent: HowToVoteIcon, path: ROUTES.REQUESTS, divide: true },\n];\n\nexport default MENU_ITEMS;\n","import React, { FC } from 'react';\nimport './SettingsGroupTitle.scss';\nimport { Typography } from '@material-ui/core';\n\ninterface SettingsGroupTitleProps {\n  title: string;\n}\n\nconst SettingsGroupTitle: FC<SettingsGroupTitleProps> = ({ title, children }) => {\n  return (\n    <Typography variant=\"h5\" className=\"setting-group-title\">\n      {title}\n      {children}\n    </Typography>\n  );\n};\n\nexport default SettingsGroupTitle;\n","import React, { ChangeEvent, FC, useCallback, useMemo } from 'react';\nimport { FormControlLabel, OutlinedInput, OutlinedInputProps, Typography } from '@material-ui/core';\nimport { UseFormMethods } from 'react-hook-form/dist/types/form';\nimport { Controller, ControllerRenderProps } from 'react-hook-form';\nimport { RegisterOptions } from 'react-hook-form/dist/types/validator';\nimport { ErrorMessage } from '@hookform/error-message';\n\ninterface FormInputProps extends OutlinedInputProps {\n  name: string;\n  control: UseFormMethods['control'];\n  label?: string;\n  className?: string;\n  type?: string;\n  hint?: string;\n  rules?: Exclude<RegisterOptions, 'valueAsNumber' | 'valueAsDate' | 'setValueAs'>;\n  errors?: UseFormMethods['errors'];\n}\n\nconst FormInput: FC<FormInputProps> = ({\n  label,\n  control,\n  type,\n  name,\n  defaultValue,\n  hint,\n  errors = {},\n  rules,\n  ...restProps\n}) => {\n  const isNumber = useMemo(() => type === 'number', [type]);\n  const normalizeNumber = useCallback((value) => value && Number(value), []);\n  const renderInput = useCallback(\n    ({ onBlur, onChange, value: formValue }: ControllerRenderProps) => {\n      const handleChange = ({ target: { value } }: ChangeEvent<HTMLInputElement>): void =>\n        onChange(isNumber ? normalizeNumber(value) : value);\n\n      return (\n        <div style={{ display: 'flex', flexDirection: 'column' }}>\n          <OutlinedInput onChange={handleChange} value={formValue} type={type} onBlur={onBlur} {...restProps} />\n          <ErrorMessage as={<Typography className=\"error-hint\" />} errors={errors} name={name} />\n        </div>\n      );\n    },\n    [errors, isNumber, name, normalizeNumber, restProps, type],\n  );\n\n  const renderField = useCallback(\n    (data: ControllerRenderProps) =>\n      label ? <FormControlLabel control={renderInput(data)} label={label} labelPlacement=\"start\" /> : renderInput(data),\n    [label, renderInput],\n  );\n\n  return (\n    <div>\n      <Controller rules={rules} name={name} defaultValue={defaultValue} control={control} render={renderField} />\n      {!!hint && <div className=\"hint\">{hint}</div>}\n    </div>\n  );\n};\n\nexport default FormInput;\n","import React, { ChangeEvent, FC, useCallback } from 'react';\nimport { FormControlLabel, Switch } from '@material-ui/core';\nimport { UseFormMethods } from 'react-hook-form/dist/types/form';\nimport { Controller, ControllerRenderProps } from 'react-hook-form';\n\ninterface FormSwitchProps {\n  name: string;\n  control: UseFormMethods['control'];\n  label: string;\n  hint?: string;\n}\n\nconst FormSwitch: FC<FormSwitchProps> = ({ label, control, name, hint }) => {\n  const renderSwitch = useCallback(({ onBlur, onChange, value, ref }: ControllerRenderProps) => {\n    const handleChange = (event: ChangeEvent<HTMLInputElement>, checked: boolean): void => onChange(checked);\n    return <Switch onBlur={onBlur} onChange={handleChange} checked={value} inputRef={ref} />;\n  }, []);\n\n  const renderField = useCallback(\n    (props: ControllerRenderProps) => (\n      <FormControlLabel control={renderSwitch(props)} label={label} labelPlacement=\"start\" />\n    ),\n    [label, renderSwitch],\n  );\n\n  return (\n    <div>\n      <Controller control={control} name={name} render={renderField} />\n      {!!hint && <div className=\"hint\">{hint}</div>}\n    </div>\n  );\n};\n\nexport default FormSwitch;\n","import React, { FC } from 'react';\nimport { FormGroup, Typography } from '@material-ui/core';\nimport { UseFormMethods } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport SettingsGroupTitle from '../../SettingsGroupTitle/SettingsGroupTitle';\nimport FormInput from '../../Form/FormInput/FormInput';\nimport FormSwitch from '../../Form/FormSwitch/FormSwitch';\n\ninterface StopwatchSettingsProps {\n  control: UseFormMethods['control'];\n}\n\nconst StopwatchSettings: FC<StopwatchSettingsProps> = ({ control }) => {\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <SettingsGroupTitle title={t('settings.stopwatch.stopwatch')} />\n      <FormGroup className=\"auc-settings-list\">\n        <FormGroup row className=\"auc-settings-row\">\n          <FormInput\n            name=\"startTime\"\n            label={t('settings.stopwatch.startTime')}\n            control={control}\n            type=\"number\"\n            className=\"field sm\"\n          />\n          <Typography variant=\"body1\">{t('common.min')}</Typography>\n        </FormGroup>\n        <div className=\"hint\">{t('settings.stopwatch.startTimeDesc')}</div>\n        <FormGroup row className=\"auc-settings-row\">\n          <FormInput\n            name=\"timeStep\"\n            label={t('settings.stopwatch.additionalTime')}\n            control={control}\n            type=\"number\"\n            className=\"field sm\"\n          />\n          <Typography variant=\"body1\">{t('common.sec')}</Typography>\n        </FormGroup>\n        <div className=\"hint\">{t('settings.stopwatch.additionalTimeDesc')}</div>\n        <FormGroup row className=\"auc-settings-row\">\n          <FormSwitch\n            name=\"isAutoincrementActive\"\n            control={control}\n            label={t('settings.stopwatch.addTimeOnLeaderChange')}\n          />\n          <FormInput name=\"autoincrementTime\" className=\"field sm\" control={control} type=\"number\" />\n          <Typography variant=\"body1\">{t('common.sec')}</Typography>\n        </FormGroup>\n        <FormGroup row className=\"auc-settings-row\">\n          <FormSwitch\n            name=\"isNewSlotIncrement\"\n            control={control}\n            label={t('settings.stopwatch.addTimeOnNewPosition')}\n          />\n          <FormInput name=\"newSlotIncrement\" className=\"field sm\" control={control} type=\"number\" />\n          <Typography variant=\"body1\">{t('common.sec')}</Typography>\n        </FormGroup>\n        <FormGroup row className=\"auc-settings-row\">\n          <FormSwitch name=\"isMaxTimeActive\" control={control} label={t('settings.stopwatch.maxAdditionalTime')} />\n          <FormInput name=\"maxTime\" className=\"field sm\" control={control} type=\"number\" />\n          <Typography variant=\"body1\">{t('common.min')}</Typography>\n        </FormGroup>\n      </FormGroup>\n    </>\n  );\n};\n\nexport default StopwatchSettings;\n","// eslint-disable-next-line import/prefer-default-export\nimport { getCookie, isProduction } from './common.utils';\n\nexport const getQueryValue = (url: string, queryName: string): string | null => {\n  const regexp = new RegExp(`[?&]${queryName}=([^&]*)&|[?&]${queryName}=([^&]*)$`);\n  const query = regexp.exec(url);\n  return query && (query[1] || query[2]);\n};\n\nconst urlRegExp = /(https:\\/\\/[^\\s]*)/;\n\nexport const splitByUrls = (text: string): string[] => {\n  return text.split(urlRegExp);\n};\n\n// export const getWebsocketUrl = (): string =>\n//   isProduction()\n//     ? `wss://woods-service.herokuapp.com?userSession=${getCookie('userSession')}`\n//     : `ws://localhost:8000?userSession=${getCookie('userSession')}`;\n\nexport const getWebsocketUrl = (): string =>\n  `wss://woods-service.herokuapp.com?userSession=${getCookie('userSession')}`;\n\nexport const getSocketIOUrl = (): string => (isProduction() ? `https://pointauc.com` : `http://localhost:8000`);\n\nexport const getCloudifyUrl = (imageId: string): string =>\n  `https://res.cloudinary.com/dn4ue0pj9/image/upload/${imageId}`;\n","import React, { FC, ReactElement, useCallback, useRef, useState } from 'react';\nimport { Button, Fade, Paper, Popper } from '@material-ui/core';\nimport './ImagePresetsInput.scss';\n// eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n// @ts-ignore\nimport { CloudinaryContext, Image, Transformation } from 'cloudinary-react';\nimport { getCloudifyUrl } from '../../../utils/url.utils';\n\ninterface ImagePresetsInputProps {\n  images: string[];\n  buttonTitle: string;\n  onChange: (imageLink: string) => void;\n  dialogTitle?: string;\n}\n\nconst ImagePresetsInput: FC<ImagePresetsInputProps> = ({ buttonTitle, images, onChange }) => {\n  const anchorEl = useRef<HTMLButtonElement>(null);\n  const [open, setOpen] = useState(false);\n\n  const togglePopper = useCallback(() => {\n    setOpen((prevOpen) => !prevOpen);\n  }, []);\n\n  const createImageSelectHandler = useCallback(\n    (image: string) => (): void => {\n      onChange(getCloudifyUrl(image));\n      setOpen(false);\n    },\n    [onChange],\n  );\n\n  return (\n    <div>\n      <Popper\n        open={open}\n        anchorEl={anchorEl.current}\n        placement=\"top\"\n        transition\n        modifiers={{\n          offset: {\n            enabled: true,\n            offset: '0 10',\n          },\n        }}\n      >\n        {({ TransitionProps }): ReactElement => (\n          <Fade {...TransitionProps} timeout={350}>\n            <Paper>\n              <CloudinaryContext cloudName=\"dn4ue0pj9\" className=\"image-container\">\n                {images.map((image) => (\n                  <Button key={image} className=\"image-item\" onClick={createImageSelectHandler(image)}>\n                    <div className=\"image-item-shadow\" />\n                    <Image publicId={image} secure=\"true\">\n                      <Transformation width=\"200\" crop=\"scale\" />\n                    </Image>\n                  </Button>\n                ))}\n              </CloudinaryContext>\n            </Paper>\n          </Fade>\n        )}\n      </Popper>\n      <Button variant=\"outlined\" color=\"primary\" onClick={togglePopper} ref={anchorEl}>\n        {buttonTitle}\n      </Button>\n    </div>\n  );\n};\n\nexport default ImagePresetsInput;\n","import React, { FC, useEffect } from 'react';\nimport { FormGroup, IconButton, MenuItem, Select, Typography } from '@material-ui/core';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport { Controller, UseFormMethods } from 'react-hook-form';\nimport ArrowUpwardOutlinedIcon from '@material-ui/icons/ArrowUpwardOutlined';\nimport ArrowDownwardOutlinedIcon from '@material-ui/icons/ArrowDownwardOutlined';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport ImageLinkInput from '../../Form/ImageLinkInput/ImageLinkInput';\nimport SettingsGroupTitle from '../../SettingsGroupTitle/SettingsGroupTitle';\nimport { RootState } from '../../../reducers';\nimport FormSwitch from '../../Form/FormSwitch/FormSwitch';\nimport FormInput from '../../Form/FormInput/FormInput';\nimport ImagePresetsInput from '../../Form/ImagePresetsInput/ImagePresetsInput';\nimport { BACKGROUND_PRESETS } from '../../../constants/common.constants';\n\ninterface AucSettingsProps {\n  control: UseFormMethods['control'];\n  register: UseFormMethods['register'];\n  setValue: UseFormMethods['setValue'];\n}\n\nconst AucSettings: FC<AucSettingsProps> = ({ register, control, setValue }) => {\n  const { t } = useTranslation();\n  const { settings } = useSelector((root: RootState) => root.aucSettings);\n  const { purchaseSort } = settings;\n\n  useEffect(() => {\n    register()({ name: 'background', type: 'custom' });\n  }, [register]);\n\n  const handleImageChange = (image: string): void => {\n    setValue('background', image, { shouldDirty: true });\n  };\n\n  const resetBackground = (): void => {\n    setValue('background', null, { shouldDirty: true });\n  };\n\n  return (\n    <>\n      <SettingsGroupTitle title={t('settings.auc.auc')} />\n      <FormGroup className=\"auc-settings-list\">\n        <FormGroup row className=\"auc-settings-row\">\n          <FormSwitch name=\"isBuyoutVisible\" control={control} label={t('settings.auc.showBuyout')} />\n        </FormGroup>\n        <FormGroup row className=\"auc-settings-row\">\n          <FormSwitch name=\"isTotalVisible\" control={control} label={t('settings.auc.showTotal')} />\n        </FormGroup>\n        <FormGroup row className=\"auc-settings-row\">\n          <FormSwitch name=\"showChances\" control={control} label={t('settings.auc.showWinningChances')} />\n        </FormGroup>\n        <FormGroup row className=\"auc-settings-row\">\n          <Typography variant=\"body1\" className=\"MuiFormControlLabel-label\">\n            {t('settings.auc.background')}\n          </Typography>\n          <ImageLinkInput\n            buttonTitle={t('settings.auc.uploadBackground')}\n            buttonClass=\"upload-background\"\n            onChange={handleImageChange}\n          />\n          <ImagePresetsInput\n            images={BACKGROUND_PRESETS}\n            buttonTitle={t('settings.auc.selectFromList')}\n            onChange={handleImageChange}\n          />\n          <IconButton className=\"auc-settings-reset-background\" onClick={resetBackground}>\n            <ReplayIcon />\n          </IconButton>\n        </FormGroup>\n        <FormGroup row className=\"auc-settings-row\">\n          <Typography variant=\"body1\" className=\"MuiFormControlLabel-label\">\n            {t('settings.auc.sortBids')}\n          </Typography>\n          <Controller\n            control={control}\n            as={Select}\n            name=\"purchaseSort\"\n            className=\"auc-settings-option\"\n            defaultValue={purchaseSort}\n          >\n            <MenuItem value={0}>\n              <Typography>{t('settings.auc.dateSort')}</Typography>\n              <ArrowUpwardOutlinedIcon fontSize=\"small\" />\n            </MenuItem>\n            <MenuItem value={1}>\n              <Typography>{t('settings.auc.dateSort')}</Typography>\n              <ArrowDownwardOutlinedIcon fontSize=\"small\" />\n            </MenuItem>\n            <MenuItem value={2}>\n              <Typography>{t('settings.auc.costSort')}</Typography>\n              <ArrowUpwardOutlinedIcon fontSize=\"small\" />\n            </MenuItem>\n            <MenuItem value={3}>\n              <Typography>{t('settings.auc.costSort')}</Typography>\n              <ArrowDownwardOutlinedIcon fontSize=\"small\" />\n            </MenuItem>\n          </Controller>\n        </FormGroup>\n        <FormGroup row className=\"auc-settings-row\">\n          <FormSwitch name=\"luckyWheel\" control={control} label={t('settings.auc.luckyWheel')} />\n        </FormGroup>\n        <div className=\"hint\">{t('settings.auc.luckyWheelDesc')}</div>\n        <SettingsGroupTitle title={t('settings.marbles.marbles')} />\n        <FormGroup row className=\"auc-settings-row\">\n          <FormSwitch name=\"marblesAuc\" control={control} label={t('settings.marbles.marbleAuc')} />\n        </FormGroup>\n        <div className=\"hint\">{t('settings.marbles.marblesAucDesc')}</div>\n        <FormGroup row className=\"auc-settings-row\">\n          <FormInput\n            name=\"marbleRate\"\n            control={control}\n            label={t('settings.marbles.marbleCost')}\n            type=\"number\"\n            className=\"field md\"\n          />\n        </FormGroup>\n        <div className=\"hint\">{t('settings.marbles.marbleCostDesc')}</div>\n        <FormGroup row className=\"auc-settings-row\">\n          <FormInput\n            name=\"marbleCategory\"\n            control={control}\n            label={t('settings.marbles.newPositionCost')}\n            type=\"number\"\n            className=\"field md\"\n          />\n        </FormGroup>\n        <div className=\"hint\">{t('settings.marbles.newPositionCostDesc')}</div>\n      </FormGroup>\n    </>\n  );\n};\n\nexport default AucSettings;\n","import { createBrowserHistory } from 'history';\n\ninterface LocationState {\n  forcePush?: boolean;\n}\n\nconst history = createBrowserHistory<LocationState>();\n\nexport default history;\n","import React, { FC, useCallback, useEffect, useState } from 'react';\nimport { Button, Dialog, DialogActions, DialogTitle } from '@material-ui/core';\nimport history from '../../constants/history';\nimport './ConfirmFormOnLeave.scss';\n\ninterface ConfirmFormOnLeaveProps {\n  isDirtyForm: boolean;\n  onSubmit: () => void;\n}\n\nconst ConfirmFormOnLeave: FC<ConfirmFormOnLeaveProps> = ({ onSubmit, isDirtyForm }) => {\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const [nextLocation, setNextLocation] = useState<string>('');\n\n  useEffect(() => {\n    // eslint-disable-next-line consistent-return\n    const unBlock = history.block(({ pathname, state }) => {\n      if (isDirtyForm && !state?.forcePush) {\n        setIsOpen(true);\n        setNextLocation(pathname);\n\n        return false;\n      }\n    });\n\n    return (): void => unBlock();\n  }, [isDirtyForm]);\n\n  const handleClose = useCallback(() => history.push(nextLocation, { forcePush: true }), [nextLocation]);\n  const handleConfirm = useCallback(() => {\n    onSubmit();\n    handleClose();\n  }, [handleClose, onSubmit]);\n\n  return (\n    <Dialog open={isOpen} className=\"form-confirm-dialog\">\n      <DialogTitle>Применить несохраненные изменения?</DialogTitle>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"default\">\n          Отменить\n        </Button>\n        <Button onClick={handleConfirm} color=\"primary\" autoFocus>\n          Применить\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ConfirmFormOnLeave;\n","import React, { FC, useCallback, useEffect, useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport { useTranslation } from 'react-i18next';\nimport PageContainer from '../PageContainer/PageContainer';\nimport StopwatchSettings from './StopwatchSettings/StopwatchSettings';\nimport { RootState } from '../../reducers';\nimport { initialState, setAucSettings, SettingFields } from '../../reducers/AucSettings/AucSettings';\nimport AucSettings from './AucSettings/AucSettings';\nimport './SettingsPage.scss';\nimport LoadingButton from '../LoadingButton/LoadingButton';\nimport withLoading from '../../decorators/withLoading';\nimport { updateSettings } from '../../api/userApi';\nimport { getDirtyValues } from '../../utils/common.utils';\nimport ConfirmFormOnLeave from '../ConfirmFormOnLeave/ConfirmFormOnLeave';\n\nconst SettingsPage: FC = () => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { settings } = useSelector((root: RootState) => root.aucSettings);\n  const { username } = useSelector((root: RootState) => root.user);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const formMethods = useForm<SettingFields>({ defaultValues: settings });\n  const {\n    handleSubmit,\n    formState: { isDirty, dirtyFields },\n    reset,\n    control,\n    register,\n    setValue,\n  } = formMethods;\n\n  useEffect(() => {\n    reset(settings);\n  }, [reset, settings]);\n\n  const handleReset = useCallback(() => reset(), [reset]);\n  const onSubmit = useCallback(\n    (data) =>\n      withLoading(setIsSubmitting, async () => {\n        dispatch(setAucSettings(data));\n\n        if (username) {\n          await updateSettings(getDirtyValues(data, dirtyFields, initialState.settings));\n        }\n      })(),\n    [dirtyFields, dispatch, username],\n  );\n\n  return (\n    <PageContainer title={t('settings.settings')} classes={{ root: 'settings' }}>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <ConfirmFormOnLeave isDirtyForm={isDirty} onSubmit={handleSubmit(onSubmit)} />\n        <StopwatchSettings control={control} />\n        <AucSettings control={control} register={register} setValue={setValue} />\n        <div style={{ marginTop: 40 }}>\n          <LoadingButton\n            isLoading={isSubmitting}\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            style={{ marginRight: 20 }}\n            disabled={!isDirty || isSubmitting}\n          >\n            {t('common.apply')}\n          </LoadingButton>\n          <Button onClick={handleReset} variant=\"outlined\" disabled={!isDirty}>\n            {t('common.cancel')}\n          </Button>\n        </div>\n      </form>\n    </PageContainer>\n  );\n};\n\nexport default SettingsPage;\n","import React, { CSSProperties } from 'react';\nimport { CircularProgress } from '@material-ui/core';\nimport './LoadingPage.scss';\n\ninterface LoadingPageProps {\n  helpText?: string;\n  style?: CSSProperties;\n}\n\nconst LoadingPage: React.FC<LoadingPageProps> = ({ helpText, style }) => {\n  return (\n    <div className=\"loading-page\" style={style}>\n      <CircularProgress className=\"loading-page-spinner\" />\n      {!!helpText && <div>{helpText}</div>}\n    </div>\n  );\n};\n\nexport default LoadingPage;\n","import React, { FC, MouseEvent, useCallback, useState } from 'react';\nimport { ButtonBase, Popover } from '@material-ui/core';\nimport { ColorResult, SketchPicker } from 'react-color';\n\ninterface ColorPickerProps {\n  value: string;\n  onChange: (color: string) => void;\n}\n\nconst ColorPicker: FC<ColorPickerProps> = ({ value, onChange }) => {\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n\n  const handleColorChange = useCallback(({ hex }: ColorResult) => onChange(hex), [onChange]);\n\n  const handleOpen = useCallback((e: MouseEvent<HTMLElement>) => setAnchorEl(e.currentTarget), []);\n  const handleClose = useCallback(() => setAnchorEl(null), []);\n\n  return (\n    <>\n      <Popover\n        open={!!anchorEl}\n        anchorEl={anchorEl}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        elevation={10}\n        onClose={handleClose}\n      >\n        <SketchPicker color={value} onChange={handleColorChange} />\n      </Popover>\n      <ButtonBase\n        style={{\n          width: 34,\n          height: 34,\n          backgroundColor: value,\n          padding: 0,\n          border: '3px solid #eee',\n          borderRadius: 5,\n        }}\n        onClick={handleOpen}\n      />\n    </>\n  );\n};\n\nexport default ColorPicker;\n","import React, { FC, useCallback } from 'react';\nimport { UseFormMethods } from 'react-hook-form/dist/types/form';\nimport { Controller, ControllerRenderProps } from 'react-hook-form';\nimport ColorPicker from '../ColorPicker/ColorPicker';\n\ninterface FormColorPickerProps {\n  name: string;\n  control: UseFormMethods['control'];\n  defaultValue?: string;\n}\n\nconst FormColorPicker: FC<FormColorPickerProps> = (props) => {\n  const renderColorPicker = useCallback(\n    ({ onChange, value }: ControllerRenderProps) => <ColorPicker value={value} onChange={onChange} />,\n    [],\n  );\n\n  return <Controller {...props} render={renderColorPicker} />;\n};\n\nexport default FormColorPicker;\n","import React, { FC, ReactNode, useCallback, useState } from 'react';\nimport {\n  Button,\n  createStyles,\n  FormGroup,\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Theme,\n  Typography,\n  withStyles,\n} from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useFieldArray } from 'react-hook-form';\nimport { UseFormMethods } from 'react-hook-form/dist/types/form';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport classNames from 'classnames';\nimport { useTranslation } from 'react-i18next';\nimport SettingsGroupTitle from '../../SettingsGroupTitle/SettingsGroupTitle';\nimport { RootState } from '../../../reducers';\nimport './TwitchIntegration.scss';\nimport FormInput from '../../Form/FormInput/FormInput';\nimport FormSwitch from '../../Form/FormSwitch/FormSwitch';\nimport FormColorPicker from '../../Form/FormColorPicker/FormColorPicker';\nimport { sendCpSubscribedState } from '../../../reducers/Subscription/Subscription';\nimport LoadingButton from '../../LoadingButton/LoadingButton';\nimport { closeTwitchRewards } from '../../../api/twitchApi';\nimport TwitchLoginButton from '../TwitchLoginButton/TwitchLoginButton';\n\nconst StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    head: {\n      backgroundColor: '#505754',\n      color: theme.palette.common.white,\n      fontSize: 15,\n    },\n    body: {\n      paddingTop: 7,\n      paddingBottom: 7,\n      fontSize: 14,\n    },\n  }),\n)(TableCell);\n\nconst StyledTableRow = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      '&:nth-of-type(odd)': {\n        backgroundColor: theme.palette.action.hover,\n      },\n    },\n  }),\n)(TableRow);\n\ninterface TwitchIntegrationProps {\n  control: UseFormMethods['control'];\n}\n\nconst TwitchIntegration: FC<TwitchIntegrationProps> = ({ control }) => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { username, hasTwitchAuth } = useSelector((root: RootState) => root.user);\n  const {\n    twitch: { actual, loading },\n  } = useSelector((root: RootState) => root.subscription);\n  const [, setIsSubscribed] = useState<boolean>(actual);\n\n  const { fields, append, remove } = useFieldArray({\n    control,\n    name: 'twitch.rewardPresets',\n  });\n\n  const handleAppendReward = useCallback(() => append({ cost: 1000, color: '#e3924c' }), [append]);\n\n  const renderActionColumn = useCallback(\n    (index: number): ReactNode => {\n      const handleDeleteReward = (): void => remove(index);\n\n      return (\n        <IconButton onClick={handleDeleteReward}>\n          <DeleteIcon />\n        </IconButton>\n      );\n    },\n    [remove],\n  );\n\n  const renderCostColumn = useCallback(\n    (cost: number, index: number): ReactNode => {\n      return (\n        <FormInput\n          name={`twitch.rewardPresets[${index}].cost`}\n          control={control}\n          type=\"number\"\n          defaultValue={cost}\n          className=\"field lg\"\n        />\n      );\n    },\n    [control],\n  );\n\n  const renderColorColumn = useCallback(\n    (value: string, index: number) => (\n      <FormColorPicker name={`twitch.rewardPresets[${index}].color`} control={control} defaultValue={value} />\n    ),\n    [control],\n  );\n\n  const toggleSubscribe = useCallback((): void => {\n    setIsSubscribed((checked) => {\n      dispatch(sendCpSubscribedState(!checked));\n\n      return !checked;\n    });\n  }, [dispatch]);\n\n  return (\n    <div style={{ marginBottom: 20 }}>\n      <SettingsGroupTitle title=\"Twitch\">\n        {hasTwitchAuth && <span className=\"username\">{username}</span>}\n      </SettingsGroupTitle>\n      {username && hasTwitchAuth ? (\n        <FormGroup className=\"auc-settings-list\">\n          <div style={{ display: 'flex', marginBottom: 10 }}>\n            <LoadingButton\n              isLoading={loading}\n              variant=\"outlined\"\n              color=\"primary\"\n              className={classNames('open-rewards-button', { close: actual })}\n              onClick={toggleSubscribe}\n            >\n              {actual ? t('settings.twitch.closeRewards') : t('settings.twitch.openRewards')}\n            </LoadingButton>\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              style={{ width: 175, marginLeft: 20 }}\n              onClick={closeTwitchRewards}\n            >\n              {t('settings.twitch.deleteRewards')}\n            </Button>\n          </div>\n          <FormGroup row className=\"auc-settings-row\">\n            <FormSwitch name=\"twitch.alwaysAddNew\" control={control} label={t('settings.addNewBids')} />\n          </FormGroup>\n          <div className=\"hint\">Не рекомендуется для обычных аукционов!</div>\n          <FormGroup row className=\"auc-settings-row\">\n            <FormSwitch\n              name=\"twitch.isRefundAvailable\"\n              control={control}\n              label={t('settings.twitch.returnCanceledBids')}\n            />\n          </FormGroup>\n          <FormGroup row className=\"auc-settings-row\">\n            <FormSwitch\n              name=\"twitch.dynamicRewards\"\n              control={control}\n              label={t('settings.twitch.bindRewardsToTimer')}\n            />\n          </FormGroup>\n          <div className=\"hint\">{t('settings.twitch.bindRewardsToTimerDesc')}</div>\n          <FormGroup row className=\"auc-settings-row\">\n            <FormInput\n              name=\"twitch.rewardsPrefix\"\n              control={control}\n              label={t('settings.twitch.commonRewardsName')}\n              className=\"field lg\"\n            />\n          </FormGroup>\n          <div className=\"hint\">{t('settings.twitch.commonRewardsNameDesc')}</div>\n          <Typography variant=\"body1\" className=\"MuiFormControlLabel-label\">\n            {t('settings.twitch.rewardsList')}\n          </Typography>\n          <TableContainer component={Paper} style={{ width: 490, marginTop: 15 }}>\n            <Table>\n              <TableHead>\n                <StyledTableRow>\n                  <StyledTableCell>{t('settings.twitch.cost')}</StyledTableCell>\n                  <StyledTableCell align=\"center\">{t('settings.twitch.color')}</StyledTableCell>\n                  <StyledTableCell />\n                </StyledTableRow>\n              </TableHead>\n              <TableBody>\n                {fields.map(({ cost, color, id }, index) => {\n                  return (\n                    <StyledTableRow key={id}>\n                      <StyledTableCell>{renderCostColumn(cost, index)}</StyledTableCell>\n                      <StyledTableCell align=\"center\">{renderColorColumn(color, index)}</StyledTableCell>\n                      <StyledTableCell align=\"right\">{renderActionColumn(index)}</StyledTableCell>\n                    </StyledTableRow>\n                  );\n                })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n          <Button onClick={handleAppendReward} color=\"primary\" style={{ marginTop: 15, width: 220 }} variant=\"outlined\">\n            {t('settings.twitch.addReward')}\n          </Button>\n        </FormGroup>\n      ) : (\n        <TwitchLoginButton />\n      )}\n    </div>\n  );\n};\n\nexport default TwitchIntegration;\n","import React, { FC, useCallback, useState } from 'react';\nimport { UseFormMethods } from 'react-hook-form/dist/types/form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FormGroup, Switch, Typography } from '@material-ui/core';\nimport { useTranslation } from 'react-i18next';\nimport { RootState } from '../../../reducers';\nimport SettingsGroupTitle from '../../SettingsGroupTitle/SettingsGroupTitle';\nimport './DAIntegration.scss';\nimport FormSwitch from '../../Form/FormSwitch/FormSwitch';\nimport FormInput from '../../Form/FormInput/FormInput';\nimport { sendDaSubscribedState } from '../../../reducers/Subscription/Subscription';\nimport DALoginButton from '../DALoginButton/DALoginButton';\n\ninterface DaIntegration {\n  control: UseFormMethods['control'];\n}\n\nconst DaIntegration: FC<DaIntegration> = ({ control }) => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { hasDAAuth } = useSelector((root: RootState) => root.user);\n  const {\n    da: { actual, loading },\n  } = useSelector((root: RootState) => root.subscription);\n  const [isSubscribed, setIsSubscribed] = useState<boolean>(actual);\n\n  const handleSwitchChange = useCallback(\n    (e: any, checked: boolean): void => {\n      setIsSubscribed(checked);\n      dispatch(sendDaSubscribedState(checked));\n    },\n    [dispatch],\n  );\n\n  return (\n    <>\n      <SettingsGroupTitle title=\"Donation Alerts\">\n        <Switch onChange={handleSwitchChange} disabled={!hasDAAuth || loading} checked={isSubscribed} />\n      </SettingsGroupTitle>\n      {hasDAAuth ? (\n        <FormGroup>\n          <FormGroup row className=\"auc-settings-row\">\n            <FormInput\n              name=\"da.pointsRate\"\n              control={control}\n              label={t('settings.donations.pointsRate')}\n              type=\"number\"\n              className=\"field md\"\n            />\n          </FormGroup>\n          <FormGroup row className=\"auc-settings-row\">\n            <FormSwitch\n              name=\"da.isIncrementActive\"\n              control={control}\n              label={t('settings.donations.addTimeOnDonation')}\n            />\n            <FormInput name=\"da.incrementTime\" className=\"field sm\" control={control} type=\"number\" />\n            <Typography variant=\"body1\">{t('common.sec')}</Typography>\n          </FormGroup>\n        </FormGroup>\n      ) : (\n        <DALoginButton />\n      )}\n    </>\n  );\n};\n\nexport default DaIntegration;\n","import React, { FC, useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { DeepPartial, useForm } from 'react-hook-form';\nimport { Button } from '@material-ui/core';\nimport { useTranslation } from 'react-i18next';\nimport PageContainer from '../PageContainer/PageContainer';\nimport TwitchIntegration from './TwitchIntegration/TwitchIntegration';\nimport { RootState } from '../../reducers';\nimport { initialState, IntegrationFields, setIntegration } from '../../reducers/AucSettings/AucSettings';\nimport LoadingButton from '../LoadingButton/LoadingButton';\nimport withLoading from '../../decorators/withLoading';\nimport { updateIntegration } from '../../api/userApi';\nimport DaIntegration from './DAIntegration/DAIntegration';\nimport { getDirtyValues } from '../../utils/common.utils';\nimport ConfirmFormOnLeave from '../ConfirmFormOnLeave/ConfirmFormOnLeave';\n\nconst IntegrationPage: FC = () => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { integration } = useSelector((root: RootState) => root.aucSettings);\n  const { username } = useSelector((root: RootState) => root.user);\n  const formMethods = useForm<IntegrationFields>({ defaultValues: integration });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const {\n    control,\n    handleSubmit,\n    formState: { isDirty, dirtyFields },\n    reset,\n  } = formMethods;\n  const { twitch: twitchDirty, da: daDirty } = dirtyFields;\n\n  useEffect(() => {\n    reset(integration);\n  }, [reset, integration]);\n\n  const getDirtyIntegration = useCallback(\n    ({ twitch, da }: IntegrationFields): DeepPartial<IntegrationFields> => ({\n      twitch: getDirtyValues(twitch, twitchDirty, initialState.integration.twitch),\n      da: getDirtyValues(da, daDirty, initialState.integration.da),\n    }),\n    [daDirty, twitchDirty],\n  );\n\n  const handleReset = useCallback(() => reset(), [reset]);\n  const onSubmit = useCallback(\n    (data) =>\n      withLoading(setIsSubmitting, async () => {\n        dispatch(setIntegration(data));\n\n        if (username) {\n          await updateIntegration(getDirtyIntegration(data));\n        }\n      })(),\n    [dispatch, getDirtyIntegration, username],\n  );\n\n  return (\n    <PageContainer title={t('settings.integrations')}>\n      <form className=\"settings\" onSubmit={handleSubmit(onSubmit)}>\n        <ConfirmFormOnLeave isDirtyForm={isDirty} onSubmit={handleSubmit(onSubmit)} />\n        <TwitchIntegration control={control} />\n        <DaIntegration control={control} />\n        <div style={{ marginTop: 40 }}>\n          <LoadingButton\n            isLoading={isSubmitting}\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            style={{ marginRight: 20 }}\n            disabled={!isDirty || isSubmitting}\n          >\n            {t('common.apply')}\n          </LoadingButton>\n          <Button onClick={handleReset} variant=\"outlined\" disabled={!isDirty || isSubmitting}>\n            {t('common.cancel')}\n          </Button>\n        </div>\n      </form>\n    </PageContainer>\n  );\n};\n\nexport default IntegrationPage;\n","import { createMuiTheme, createStyles, makeStyles } from '@material-ui/core/styles';\n\nexport const theme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      main: '#a6d4fa',\n    },\n    secondary: {\n      main: '#f48fb1',\n    },\n    background: {\n      paper: '#2d2d2d',\n      default: '#242424',\n    },\n    text: {\n      primary: '#fff',\n      secondary: 'rgba(255, 255, 255, 0.7)',\n      disabled: 'rgba(255, 255, 255, 0.5)',\n    },\n    contrastThreshold: 3,\n  },\n  breakpoints: {\n    values: {\n      xs: 0,\n      sm: 600,\n      md: 960,\n      lg: 1600,\n      xl: 1920,\n    },\n  },\n  typography: {\n    h3: {\n      fontWeight: 300,\n      color: '#f1f1f1',\n      marginBottom: 30,\n    },\n    h4: {\n      fontWeight: 300,\n      color: '#f1f1f1',\n      marginBottom: 20,\n    },\n    h5: {\n      fontWeight: 300,\n      marginBottom: 15,\n    },\n    h6: {\n      fontWeight: 400,\n      marginBottom: 5,\n    },\n    body2: {\n      fontWeight: 300,\n      fontSize: 16,\n      marginBottom: 13,\n    },\n    fontFamily: ['Helvetica Neue', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif'].join(','),\n  },\n  overrides: {\n    MuiFormControlLabel: {\n      label: {\n        fontWeight: 300,\n        letterSpacing: 0.9,\n        color: '#f1f1f1',\n      },\n    },\n  },\n});\n\nexport const successTheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      main: '#80de84',\n    },\n  },\n});\n\nexport const useAudioPageStyles = makeStyles(() =>\n  createStyles({\n    content: {\n      flexGrow: 1,\n    },\n    root: {\n      background: theme.palette.background.default,\n      color: theme.palette.text.primary,\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      fontFamily: theme.typography.fontFamily,\n      fontWeight: 300,\n      height: '100vh',\n      width: '100vw',\n    },\n  }),\n);\n","import React, { FC, useEffect } from 'react';\nimport { Alert } from '@material-ui/lab';\nimport { useDispatch } from 'react-redux';\nimport { AlertType } from '../../../models/alert.model';\nimport { deleteAlert } from '../../../reducers/notifications/notifications';\nimport { ALERT_LIFETIME } from '../../../constants/common.constants';\n\nconst BaseAlert: FC<AlertType> = ({ id, type, message, duration }) => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const timeout = setTimeout(() => dispatch(deleteAlert(id)), duration || ALERT_LIFETIME);\n\n    return (): void => clearTimeout(timeout);\n  }, [dispatch, duration, id]);\n\n  return (\n    <Alert severity={type} variant=\"filled\">\n      {message}\n    </Alert>\n  );\n};\n\nexport default BaseAlert;\n","import React, { FC } from 'react';\nimport './AlertsContainer.scss';\nimport { useSelector } from 'react-redux';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { RootState } from '../../reducers';\nimport BaseAlert from './BaseAlert/BaseAlert';\n\nconst AlertsContainer: FC = () => {\n  const { alerts } = useSelector((root: RootState) => root.notifications);\n\n  return (\n    <div className=\"alerts-container\">\n      <TransitionGroup>\n        {alerts.map((alert) => (\n          <CSSTransition timeout={250} key={alert.id} classNames=\"example\">\n            <BaseAlert {...alert} />\n          </CSSTransition>\n        ))}\n      </TransitionGroup>\n    </div>\n  );\n};\n\nexport default AlertsContainer;\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  CellClassRules,\n  CellValue,\n  ColDef,\n  SelectionChangeParams,\n  ValueGetterParams,\n  XGrid,\n} from '@material-ui/x-grid';\nimport dayjs from 'dayjs';\nimport { Button } from '@material-ui/core';\nimport { RootState } from '../../../reducers';\nimport './PurchaseHistory.scss';\nimport { FORMAT } from '../../../constants/format.constants';\nimport { PurchaseStatusEnum } from '../../../models/purchase';\nimport { updateRedemption } from '../../../api/twitchApi';\nimport { RedemptionStatus } from '../../../models/redemption.model';\n\ninterface SlotsMap {\n  [key: string]: string | null;\n}\n\nconst PurchaseHistory: React.FC = () => {\n  const { history } = useSelector((root: RootState) => root.purchases);\n  const { slots } = useSelector((root: RootState) => root.slots);\n  const [selection, setSelection] = useState<SelectionChangeParams>();\n\n  const slotsMap = useMemo(\n    () => slots.reduce<SlotsMap>((acc, { id, name }) => ({ ...acc, [id.toString()]: name }), {}),\n    [slots],\n  );\n\n  const getTime = (params: ValueGetterParams): CellValue => dayjs(params.value?.toString()).format(FORMAT.DATE.time);\n\n  const statusCellClassRules: CellClassRules = {\n    status: true,\n    deleted: ({ value }: ValueGetterParams) => value === PurchaseStatusEnum.Deleted,\n    processed: ({ value }: ValueGetterParams) => value === PurchaseStatusEnum.Processed,\n  };\n\n  const getTargetName = (params: ValueGetterParams): CellValue =>\n    params.value && (slotsMap[params.value.toString()] || '');\n\n  const columns: ColDef[] = [\n    {\n      headerName: 'Время',\n      field: 'timestamp',\n      sortable: true,\n      valueGetter: getTime,\n      width: 110,\n    },\n    {\n      headerName: 'Пользователь',\n      field: 'username',\n      sortable: true,\n      filterable: true,\n      flex: 0.6,\n    },\n    {\n      headerName: 'Сообщение',\n      field: 'message',\n      filterable: true,\n      flex: 1,\n    },\n    {\n      headerName: 'Стоимость',\n      field: 'cost',\n      sortable: true,\n      filterable: true,\n      width: 140,\n    },\n    {\n      headerName: 'Добавлен к',\n      field: 'target',\n      sortable: true,\n      filterable: true,\n      valueGetter: getTargetName,\n      flex: 1,\n    },\n    { headerName: 'Статус', field: 'status', cellClassRules: statusCellClassRules, width: 110 },\n  ];\n\n  const handleRefund = useCallback(() => {\n    history.forEach(({ id, rewardId, isDonation, target }) => {\n      if (selection?.rowIds.includes(id) && !isDonation && target && rewardId) {\n        updateRedemption({\n          status: RedemptionStatus.Canceled,\n          redemptionId: id,\n          rewardId,\n        });\n      }\n    });\n  }, [history, selection]);\n\n  return (\n    <div className=\"history-table\">\n      <Button variant=\"outlined\" color=\"primary\" onClick={handleRefund}>\n        Вернуть выбранные награды\n      </Button>\n      <XGrid\n        checkboxSelection\n        onSelectionChange={setSelection}\n        rows={history}\n        columns={columns}\n        autoHeight\n        pagination\n        pageSize={10}\n        rowsPerPageOptions={[5, 10, 20, 50]}\n        disableSelectionOnClick\n      />\n    </div>\n  );\n};\n\nexport default PurchaseHistory;\n","import React, { FC } from 'react';\nimport PageContainer from '../../../components/PageContainer/PageContainer';\nimport PurchaseHistory from '../PurchaseHistory/PurchaseHistory';\n\nconst HistoryPage: FC = () => {\n  return (\n    <PageContainer title=\"История выполненных заказов\">\n      <div style={{ width: '75%' }}>\n        <PurchaseHistory />\n      </div>\n    </PageContainer>\n  );\n};\n\nexport default HistoryPage;\n","import React, { FC, Key, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport PageContainer from '../../../components/PageContainer/PageContainer';\nimport { RootState } from '../../../reducers';\nimport { WheelItem } from '../../../models/wheel.model';\nimport RandomWheel from '../../../components/RandomWheel/RandomWheel';\nimport { deleteSlot } from '../../../reducers/Slots/Slots';\nimport { slotToWheel } from '../../../utils/slots.utils';\n\nconst WheelPage: FC = () => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { slots } = useSelector((rootReducer: RootState) => rootReducer.slots);\n\n  const wheelItems = useMemo(() => slots.map<WheelItem>(slotToWheel), [slots]);\n\n  const deleteItem = (id: Key) => {\n    dispatch(deleteSlot(id.toString()));\n  };\n\n  return (\n    <PageContainer className=\"wheel-wrapper padding\" title={t('wheel.wheel')}>\n      <RandomWheel items={wheelItems} deleteItem={deleteItem} />\n    </PageContainer>\n  );\n};\n\nexport default WheelPage;\n","import React, { FC } from 'react';\nimport Marble from '../../assets/img/pradenW.png';\nimport Eblan from '../../assets/img/eblan.png';\nimport './Documentation.scss';\n\nconst Documentation: FC = () => {\n  return (\n    <div className=\"documentation\">\n      <h2 id=\"motivation\">Мотивация создания аукциона</h2>\n      <div>\n        Большая проблема обычных аукционов в том, что стримеру приходится тратить все свое внимание на долгий ручной\n        ввод ставок и постоянную сверку с donation alerts. К тому же стример может что-то пропустить и потом приходится\n        вспоминать, что же он там вводил, или искать клипы.\n      </div>\n      <div>\n        Большинство таких проблем решает данный аук. Таким образом стример может как можно меньше времени тратить на\n        чисто технические моменты, меньше душиться и больше времени взаимодействовать с аудиторией.\n      </div>\n      <div>\n        Также я стараюсь добавлять какие-то технические нововведения, которые могут разнообразить проведение аукциона\n      </div>\n      <h2 id=\"main-feature\">Основная фича аукциона</h2>\n      <div>Включение какой-либо интеграции добавляет множество новых фич:</div>\n      <ol>\n        <li>\n          Все новые ставки отображаются в виде карточек под таймером\n          <ul>\n            <li>Карточки можно перетаскивать прямо на лот, чтобы добавить сумму к его стоимости</li>\n            <li>На карточке есть кнопка &quot;новый&quot;, чтобы быстро создать новый лот</li>\n            <li>\n              <div>\n                {\n                  'На карточке может появиться кнопка \"к <название лота>\", если есть лот, название которого совпадает с названием ставки >60%. Нажав на кнопку ставка сразу добавится к этому лоту'\n                }\n              </div>\n              <div>\n                Поиск по частичному совпадению производится только в момент появления карточки в целях оптимизации\n              </div>\n            </li>\n          </ul>\n        </li>\n        <li>\n          Если название ставки полностью совпадает с названием лота, то ставка добавится автоматически. (также\n          запоминаются названия всех ставок, которые были добавлены в один лот)\n        </li>\n        <li>\n          {\n            'Можно делать ставки указав просто короткий номер лота \"#<ключ>\", который указан рядом с позицией лота. Это гораздо быстрее и автоматически добавит ставку к лоту.'\n          }\n        </li>\n      </ol>\n      <h2 id=\"point-auc\">Поинтовый аукцион</h2>\n      <div>На странице интеграции вы можете настроить список наград.</div>\n      <div>\n        При нажатии на кнопку &quot;Включить награды&quot; на канале АВТОМАТИЧЕСКИ создаются награды из списка. После\n        этого кнопка заменяется на &quot;Скрыть награды&quot;, которая собственно скрывает награды для зрителя, но они\n        все еще остаются на канале и их можно вернуть.\n      </div>\n      <div>При нажатии на &quot;Удалить награды&quot; награды полностью удаляются с канала</div>\n      <div style={{ color: '#ff6868' }}>\n        Награды можно будет вернуть на вкладке История, либо в дашборде твича, НО ТОЛЬКО ПОКА ВЫ ИХ НЕ УДАЛИТЕ.\n        <br />\n        ПРОШЛЫЕ НАГРАДЫ УДАЛЯЮТСЯ ПРИ ИХ ИЗМЕНЕНИИ.\n      </div>\n      <h2 id=\"donate-auc\">Донатный аукцион</h2>\n      <h2 id=\"marbles-auc\">Шаровой аукцион</h2>\n      <h2 id=\"wheel\">Колесо</h2>\n      <h2 id=\"statistic\">Статистика</h2>\n      <h2 id=\"history\">История</h2>\n      <h2 id=\"sponsors\">Спонсоры</h2>\n      <div className=\"sponsor tier-1\">UselessMouth</div>\n      <div className=\"sponsor tier-2\">MistaFaker</div>\n      <div className=\"sponsor tier-2\">Shizov</div>\n      <div className=\"sponsor tier-2\" style={{ display: 'flex', alignItems: 'center' }}>\n        <span>Archiedos</span>\n        <img src={Eblan} alt=\"шар\" width={25} height={25} style={{ marginLeft: 5, marginRight: 5 }} />\n      </div>\n      <div className=\"sponsor tier-2\">Slexboy</div>\n      <div className=\"sponsor tier-3\" style={{ display: 'flex', alignItems: 'center' }}>\n        <span>Pradenw</span>\n        <img src={Marble} alt=\"шар\" width={25} height={25} style={{ marginLeft: 5, marginRight: 5 }} />\n      </div>\n      <div className=\"sponsor tier-3\">Adash</div>\n      <div className=\"sponsor tier-3\">Gedo</div>\n      <div className=\"sponsor tier-3\">Никита</div>\n      <div className=\"sponsor tier-4\">фанибон</div>\n      <div className=\"sponsor tier-4\">ndrusha</div>\n      <div className=\"sponsor tier-4\">SlowLadin</div>\n      <div className=\"sponsor tier-5\">kebab boi</div>\n      <div className=\"sponsor tier-5\">Han_Soda</div>\n      <div className=\"sponsor tier-5\">cabbakid</div>\n      <div className=\"sponsor tier-5\">danzer</div>\n      <div className=\"sponsor tier-5\">KejVan</div>\n      <h2 id=\"contacts\">Мои контакты</h2>\n      <ul>\n        <li>Discord — kozjar#4193</li>\n        <li>Telegram — @Cougho</li>\n        <li>Twitch — kozjar</li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Documentation;\n","import React, { FC } from 'react';\nimport './TableOfContents.scss';\nimport { Paragraph } from '../../models/common.model';\n\ninterface TableOfContentsProps {\n  paragraphs: Paragraph[];\n  url: string;\n}\n\nconst TableOfContents: FC<TableOfContentsProps> = ({ paragraphs, url }) => {\n  return (\n    <div className=\"table-of-contents\">\n      <div className=\"content\">\n        <div className=\"title\">Содержание</div>\n        <ul className=\"table-of-contents-list\">\n          {paragraphs.map(({ title, key }) => (\n            <li key={key} className=\"paragraph\">\n              <a href={`${url}#${key}`}>{title}</a>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default TableOfContents;\n","export const DOCUMENTATION_PARAGRAPHS = [\n  {\n    title: 'Мотивация создания аукциона',\n    key: 'motivation',\n  },\n  {\n    title: 'Основная фича аукциона',\n    key: 'main-feature',\n  },\n  {\n    title: 'Поинтовый аукцион',\n    key: 'point-auc',\n  },\n  {\n    title: 'Донатный аукцион',\n    key: 'donate-auc',\n  },\n  {\n    title: 'Шаровой аукцион',\n    key: 'marbles-auc',\n  },\n  {\n    title: 'Колесо',\n    key: 'wheel',\n  },\n  {\n    title: 'Статистика',\n    key: 'statistic',\n  },\n  {\n    title: 'История',\n    key: 'history',\n  },\n  {\n    title: 'Спонсоры',\n    key: 'sponsors',\n  },\n  {\n    title: 'Мои контакты',\n    key: 'contacts',\n  },\n];\n","import React, { FC } from 'react';\nimport PageContainer from '../PageContainer/PageContainer';\nimport './HelpPage.scss';\nimport Documentation from '../../pages/documentation/Documentation';\nimport TableOfContents from '../TableOfContents/TableOfContents';\nimport { DOCUMENTATION_PARAGRAPHS } from '../../constants/documentation';\nimport ROUTES from '../../constants/routes.constants';\n\nconst HelpPage: FC = () => {\n  return (\n    <PageContainer title=\"Гайд\" className=\"help-page\">\n      <div className=\"content\">\n        <Documentation />\n        <TableOfContents paragraphs={DOCUMENTATION_PARAGRAPHS} url={ROUTES.HELP} />\n      </div>\n    </PageContainer>\n  );\n};\n\nexport default HelpPage;\n","import React, { FC } from 'react';\nimport { Score } from '../../../models/statistic';\nimport './Scoreboard.scss';\n\ninterface UsersTopProps {\n  scoreboard: Score[];\n}\n\nconst Scoreboard: FC<UsersTopProps> = ({ scoreboard }) => {\n  return (\n    <div className=\"scoreboard\">\n      {scoreboard.map(({ title, score }) => (\n        <div key={title}>{`${title} - ${score}`}</div>\n      ))}\n    </div>\n  );\n};\n\nexport default Scoreboard;\n","import React, { FC, useEffect, useRef } from 'react';\nimport { Chart, registerables } from 'chart.js';\nimport { Score } from '../../../models/statistic';\n\nChart.register(...registerables);\n\ninterface UsersChartProps {\n  scoreboard: Score[];\n}\n\nconst UsersChart: FC<UsersChartProps> = ({ scoreboard }) => {\n  const chartRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    if (chartRef.current) {\n      Chart.defaults.color = '#eee';\n      Chart.defaults.borderColor = 'rgba(255, 255, 255, 0.1)';\n      Chart.defaults.font = {\n        ...Chart.defaults.font,\n        size: 14,\n      };\n\n      // eslint-disable-next-line no-new\n      new Chart<'bar', Score[]>(chartRef.current, {\n        type: 'bar',\n        data: {\n          datasets: [\n            {\n              data: scoreboard.slice(0, 7),\n              backgroundColor: [\n                'rgba(255, 99, 132, 0.2)',\n                'rgba(255, 159, 64, 0.2)',\n                'rgba(255, 205, 86, 0.2)',\n                'rgba(75, 192, 192, 0.2)',\n                'rgba(54, 162, 235, 0.2)',\n                'rgba(153, 102, 255, 0.2)',\n                'rgba(201, 203, 207, 0.2)',\n              ],\n              borderColor: [\n                'rgb(255, 99, 132)',\n                'rgb(255, 159, 64)',\n                'rgb(255, 205, 86)',\n                'rgb(75, 192, 192)',\n                'rgb(54, 162, 235)',\n                'rgb(153, 102, 255)',\n                'rgb(201, 203, 207)',\n              ],\n              borderWidth: 1,\n            },\n          ],\n        },\n        options: {\n          plugins: {\n            legend: {\n              display: false,\n            },\n            title: {\n              display: true,\n              text: 'Общая сумма ставок',\n              font: {\n                size: 18,\n              },\n            },\n          },\n          parsing: {\n            xAxisKey: 'title',\n            yAxisKey: 'score',\n          },\n        },\n      });\n    }\n  }, [scoreboard]);\n\n  return (\n    <div className=\"chart\">\n      <canvas ref={chartRef} />\n    </div>\n  );\n};\n\nexport default UsersChart;\n","import React, { FC, useEffect, useMemo, useRef } from 'react';\nimport { Chart, ChartDataset, registerables, TooltipItem } from 'chart.js';\nimport dayjs from 'dayjs';\nimport { PurchaseLog } from '../../../reducers/Purchases/Purchases';\nimport { TimeScore } from '../../../models/statistic';\nimport { getRandomIntInclusive } from '../../../utils/common.utils';\nimport { FORMAT } from '../../../constants/format.constants';\nimport { COLORS } from '../../../constants/color.constants';\nimport { store } from '../../../index';\n\nChart.register(...registerables);\n\ninterface SlotsChartProps {\n  slotsMap: Map<string, PurchaseLog[]>;\n}\n\nconst SlotsChart: FC<SlotsChartProps> = ({ slotsMap }) => {\n  const chartRef = useRef<HTMLCanvasElement>(null);\n\n  const datasets: ChartDataset<'scatter', TimeScore[]>[] = useMemo(() => {\n    const { slots } = store.getState().slots;\n    const { history } = store.getState().purchases;\n    const topSlots = slots.slice(0, 5).reduce<PurchaseLog[][]>((accum, { name }) => {\n      const bids = slotsMap.get(name || '');\n\n      return bids ? [...accum, bids] : accum;\n    }, []);\n    const topSlotsIds = slots.slice(0, 5).map(({ id }) => id);\n\n    const lastTimestamp =\n      [...history].reverse().find(({ target }) => topSlotsIds.includes(target || ''))?.timestamp || '';\n\n    return topSlots.map<ChartDataset<'scatter', TimeScore[]>>((bids, index) => {\n      let previousCost = 0;\n\n      const data = bids.map<TimeScore>(({ timestamp, cost }) => {\n        previousCost = cost + previousCost;\n\n        return { timestamp: dayjs(timestamp).valueOf(), score: previousCost };\n      });\n\n      return {\n        data: [...data, { timestamp: dayjs(lastTimestamp).valueOf(), score: previousCost }],\n        label: slots[index].name || '',\n        borderColor: COLORS.WHEEL[getRandomIntInclusive(0, COLORS.WHEEL.length)],\n        showLine: true,\n        pointBorderColor: 'transparent',\n        pointBackgroundColor: 'transparent',\n      };\n    });\n  }, [slotsMap]);\n\n  useEffect(() => {\n    if (chartRef.current) {\n      Chart.defaults.color = '#eee';\n      Chart.defaults.borderColor = 'rgba(255, 255, 255, 0.1)';\n      Chart.defaults.font = {\n        ...Chart.defaults.font,\n        size: 14,\n      };\n\n      // eslint-disable-next-line no-new\n      new Chart<'scatter', TimeScore[]>(chartRef.current, {\n        type: 'scatter',\n        data: {\n          datasets,\n        },\n        options: {\n          plugins: {\n            title: {\n              display: true,\n              text: 'Изменение суммы лота во времени',\n              font: {\n                size: 18,\n              },\n            },\n            tooltip: {\n              callbacks: {\n                label: (ctx: TooltipItem<'scatter'>): string =>\n                  `(${dayjs(ctx.parsed.x).format(FORMAT.DATE.time)}, ${ctx.parsed.y})`,\n              },\n            },\n          },\n          scales: {\n            x: {\n              ticks: {\n                callback: (value): string => dayjs(value).format(FORMAT.DATE.time),\n              },\n            },\n          },\n          parsing: {\n            xAxisKey: 'timestamp',\n            yAxisKey: 'score',\n          },\n        },\n      });\n    }\n  }, [datasets]);\n\n  return (\n    <div className=\"chart\">\n      <canvas ref={chartRef} />\n    </div>\n  );\n};\n\nexport default SlotsChart;\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport './App.scss';\nimport { createStyles, makeStyles, MuiThemeProvider } from '@material-ui/core/styles';\nimport { Link, Route, Switch, useLocation } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Divider,\n  Drawer,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport classNames from 'classnames';\nimport ROUTES from '../../constants/routes.constants';\nimport AucPage from '../../pages/auction/AucPage';\nimport { MenuItem } from '../../models/common.model';\nimport MENU_ITEMS from '../../constants/menuItems.constants';\nimport SettingsPage from '../SettingsPage/SettingsPage';\nimport { loadUserData } from '../../reducers/AucSettings/AucSettings';\nimport withLoading from '../../decorators/withLoading';\nimport LoadingPage from '../LoadingPage/LoadingPage';\nimport IntegrationPage from '../IntegrationPage/IntegrationPage';\nimport { theme } from '../../constants/theme.constants';\nimport AlertsContainer from '../AlertsContainer/AlertsContainer';\nimport HistoryPage from '../../pages/history/HistoryPage/HistoryPage';\nimport WheelPage from '../../pages/wheel/WheelPage/WheelPage';\nimport HelpPage from '../HelpPage/HelpPage';\nimport Statistic from '../Statistic/Statistic';\nimport StopwatchPage from '../StopwatchPage/StopwatchPage';\nimport RequestsPage from '../RequestsPage/RequestsPage';\nimport { RootState } from '../../reducers';\nimport { connectToSocketIo } from '../../reducers/socketIo/socketIo';\nimport { getCookie } from '../../utils/common.utils';\nimport { setCanBeRestored } from '../../reducers/User/User';\nimport { postRestoreSettings, validateIntegrations } from '../../api/userApi';\nimport { addAlert } from '../../reducers/notifications/notifications';\nimport { AlertTypeEnum } from '../../models/alert.model';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n      whiteSpace: 'nowrap',\n      overflowX: 'hidden',\n    },\n    drawerOpen: {\n      width: drawerWidth,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    drawerClose: {\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n      width: theme.spacing(7) + 3,\n    },\n    content: {\n      flexGrow: 1,\n    },\n    root: {\n      background: theme.palette.background.default,\n      color: theme.palette.text.primary,\n      display: 'flex',\n      fontFamily: theme.typography.fontFamily,\n      fontWeight: 300,\n      minHeight: '100vh',\n      maxWidth: '100vw',\n    },\n    menuIcon: {\n      width: 26,\n      height: 26,\n      fill: '#fff',\n    },\n  }),\n);\n\nconst hasToken = !!getCookie('userSession');\nconst hiddenDrawerRoutes = [ROUTES.HOME, ROUTES.STOPWATCH];\n\nlet openDriverTimeout: NodeJS.Timeout;\n\nconst App: React.FC = () => {\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  const { pathname } = useLocation();\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState<boolean>(hasToken);\n  const { username, canBeRestored, authId } = useSelector((root: RootState) => root.user);\n  const { webSocket } = useSelector((root: RootState) => root.pubSubSocket);\n\n  const showDrawer = useCallback(() => {\n    openDriverTimeout = setTimeout(() => setIsDrawerOpen(true), 70);\n  }, []);\n  const hideDrawer = useCallback(() => {\n    clearTimeout(openDriverTimeout);\n    setIsDrawerOpen(false);\n  }, []);\n\n  useEffect(() => {\n    if (username && !webSocket) {\n      dispatch(connectToSocketIo);\n    }\n  }, [dispatch, username, webSocket]);\n\n  useEffect(() => {\n    let interval: any;\n    if (hasToken && username) {\n      interval = setInterval(() => {\n        validateIntegrations();\n      }, 1000 * 60 * 60 * 3);\n    }\n\n    return (): void => {\n      if (interval) {\n        clearInterval(interval);\n      }\n    };\n  }, [username]);\n\n  const isHomePage = useMemo(() => pathname === ROUTES.HOME, [pathname]);\n  const isOpen = useMemo(() => !hiddenDrawerRoutes.includes(pathname) || isDrawerOpen, [isDrawerOpen, pathname]);\n  const drawerClasses = useMemo(\n    () => classNames(classes.drawer, { [classes.drawerOpen]: isOpen, [classes.drawerClose]: !isOpen }),\n    [classes.drawer, classes.drawerClose, classes.drawerOpen, isOpen],\n  );\n\n  const createMenuItem = useCallback(\n    ({ IconComponent, title, path, disabled, divide }: MenuItem) => (\n      <>\n        {divide && <Divider style={{ margin: '10px 0' }} />}\n        <ListItem disabled={disabled} button key={title} selected={path === pathname} component={Link} to={path}>\n          <ListItemIcon>\n            <IconComponent className={classes.menuIcon} />\n          </ListItemIcon>\n          <ListItemText primary={title} />\n        </ListItem>\n      </>\n    ),\n    [classes.menuIcon, pathname],\n  );\n\n  useEffect(() => {\n    if (hasToken) {\n      dispatch(withLoading(setIsLoading, loadUserData));\n    }\n  }, [dispatch]);\n\n  const restoreSettings = useCallback(async () => {\n    try {\n      await postRestoreSettings(authId || '');\n      await loadUserData(dispatch);\n\n      dispatch(addAlert({ type: AlertTypeEnum.Success, message: 'Настройки были успешно перенесены' }));\n    } catch (e) {\n      dispatch(addAlert({ type: AlertTypeEnum.Error, message: 'Ошибка. Настройки не были перенесены.' }));\n    }\n  }, [authId, dispatch]);\n\n  const handleClose = useCallback(() => dispatch(setCanBeRestored(false)), [dispatch]);\n  const handleConfirm = useCallback(() => {\n    restoreSettings();\n    handleClose();\n  }, [handleClose, restoreSettings]);\n\n  if (isLoading) {\n    return <LoadingPage helpText=\"Загрузка аккаунта...\" />;\n  }\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <Dialog open={!!canBeRestored} maxWidth=\"md\" fullWidth>\n        <DialogTitle>Восстановление настроек</DialogTitle>\n        <DialogContent dividers className=\"description-dialog-content\">\n          <p>\n            Недавно у сайта были большие изменения в серверной части, значительно повысилась стабильность работы, а так\n            же был переход на более мощный сервер.\n          </p>\n          <p>\n            Но в связи с новым форматом хранения данных все аккаунты не могут быть перенесены автоматически. Но мы можем\n            перенести ваши прошлые настройки на этот аккаунт (кроме подключенных интеграций).\n          </p>\n          <p style={{ color: '#e5c938' }}>\n            Хотите восстановить ваши прошлые настройки или продолжить с чистым аккаунтом?\n          </p>\n        </DialogContent>\n        <DialogActions>\n          <Button variant=\"outlined\" onClick={handleClose} color=\"default\">\n            Продолжить как есть\n          </Button>\n          <Button variant=\"contained\" onClick={handleConfirm} color=\"primary\">\n            Восстановить\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <div className={classes.root}>\n        <Drawer\n          variant=\"permanent\"\n          className={drawerClasses}\n          classes={{ paper: drawerClasses }}\n          onMouseEnter={showDrawer}\n          onMouseLeave={hideDrawer}\n        >\n          <List>{MENU_ITEMS.map(createMenuItem)}</List>\n        </Drawer>\n        <main className={classes.content}>\n          <div hidden={!isHomePage}>\n            <AucPage />\n          </div>\n          <AlertsContainer />\n          <Switch>\n            <Route exact path={ROUTES.INTEGRATION}>\n              <IntegrationPage />\n            </Route>\n            <Route exact path={ROUTES.SETTINGS}>\n              <SettingsPage />\n            </Route>\n            <Route exact path={ROUTES.WHEEL}>\n              <WheelPage />\n            </Route>\n            <Route exact path={ROUTES.HISTORY}>\n              <HistoryPage />\n            </Route>\n            <Route exact path={ROUTES.HELP}>\n              <HelpPage />\n            </Route>\n            <Route exact path={ROUTES.STATISTIC}>\n              <Statistic />\n            </Route>\n            <Route exact path={ROUTES.STOPWATCH}>\n              <StopwatchPage />\n            </Route>\n            <Route exact path={ROUTES.REQUESTS}>\n              <RequestsPage />\n            </Route>\n          </Switch>\n        </main>\n      </div>\n    </MuiThemeProvider>\n  );\n};\n\nexport default App;\n","import React, { FC, useCallback, useMemo, useState } from 'react';\nimport PageContainer from '../PageContainer/PageContainer';\nimport { PurchaseLog } from '../../reducers/Purchases/Purchases';\nimport { store } from '../../index';\nimport Scoreboard from './Scoreboard/Scoreboard';\nimport { Score } from '../../models/statistic';\nimport UsersChart from './UsersChart/UsersChart';\nimport { createMapByKey } from '../../utils/common.utils';\nimport SlotsChart from './SlotsChart/SlotsChart';\n\nconst COST_SELECTOR = {\n  ALL: ({ cost }: PurchaseLog): number => cost,\n  DONATION: ({ cost, isDonation }: PurchaseLog): number => (isDonation ? cost : 0),\n  POINTS: ({ cost, isDonation }: PurchaseLog): number => (isDonation ? 0 : cost),\n};\n\nconst hasTarget = ({ target }: PurchaseLog): boolean => !!target;\n\nconst Statistic: FC = () => {\n  const [selectorKey] = useState<keyof typeof COST_SELECTOR>('ALL');\n  const usersMap = useMemo(() => {\n    const { history } = store.getState().purchases;\n\n    return createMapByKey(history, ({ username }) => username, hasTarget);\n  }, []);\n\n  const slotsMap = useMemo(() => {\n    const { history } = store.getState().purchases;\n    const { slots } = store.getState().slots;\n    const getSlotName = ({ target }: PurchaseLog): string => slots.find(({ id }) => id === target)?.name || '';\n\n    return createMapByKey(history, getSlotName, hasTarget);\n  }, []);\n\n  const createScoreboard = useCallback(\n    (map: Map<string, PurchaseLog[]>): Score[] => {\n      const scores: Score[] = [];\n      map.forEach((bids, title) => {\n        const score = bids.reduce<number>((accum, bid) => accum + Math.abs(COST_SELECTOR[selectorKey](bid)), 0);\n\n        if (score) {\n          scores.push({ title, score });\n        }\n      });\n\n      return scores.sort(({ score: a }, { score: b }) => b - a);\n    },\n    [selectorKey],\n  );\n\n  const userScoreboard = useMemo(() => createScoreboard(usersMap), [createScoreboard, usersMap]);\n\n  const slotsScoreboard = useMemo(() => createScoreboard(slotsMap), [createScoreboard, slotsMap]);\n\n  return (\n    <div>\n      <PageContainer title=\"Статистика\">\n        <div style={{ display: 'flex', paddingBottom: 30 }}>\n          <Scoreboard scoreboard={userScoreboard} />\n          <UsersChart scoreboard={userScoreboard} />\n        </div>\n        <div style={{ display: 'flex' }}>\n          <Scoreboard scoreboard={slotsScoreboard} />\n          <SlotsChart slotsMap={slotsMap} />\n        </div>\n      </PageContainer>\n    </div>\n  );\n};\n\nexport default Statistic;\n","import React from 'react';\nimport PageContainer from '../PageContainer/PageContainer';\nimport Stopwatch from '../../pages/auction/Stopwatch/Stopwatch';\n\nconst StopwatchPage = () => {\n  return (\n    <PageContainer>\n      <Stopwatch />\n    </PageContainer>\n  );\n};\n\nexport default StopwatchPage;\n","import React, { FC } from 'react';\nimport { UseFormMethods } from 'react-hook-form/dist/types/form';\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, FormGroup } from '@material-ui/core';\nimport { RequestsListInfo } from '../../../../models/requests.model';\nimport FormInput from '../../../Form/FormInput/FormInput';\nimport FormSwitch from '../../../Form/FormSwitch/FormSwitch';\n\ninterface ListSettingsProps {\n  form: UseFormMethods<RequestsListInfo>;\n  onSubmit: (data: RequestsListInfo) => void;\n  open: boolean;\n  toggleOpen: () => void;\n  title: string;\n  disabled?: boolean;\n}\n\nconst ListSettingsDialog: FC<ListSettingsProps> = ({ form, toggleOpen, open, onSubmit, title, disabled }) => {\n  const { control, handleSubmit } = form;\n\n  return (\n    <Dialog open={open} onClose={toggleOpen} maxWidth=\"sm\" fullWidth>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <DialogTitle>{title}</DialogTitle>\n        <DialogContent>\n          <FormGroup row>\n            <FormInput name=\"name\" control={control} label=\"Название\" />\n          </FormGroup>\n          <FormGroup row>\n            <FormInput name=\"command\" control={control} label=\"Команда чата\" />\n          </FormGroup>\n          <FormGroup row>\n            <FormSwitch name=\"subOnly\" control={control} label=\"Только для подписчиков\" />\n          </FormGroup>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={toggleOpen}>Закрыть</Button>\n          <Button type=\"submit\" color=\"primary\" disabled={disabled}>\n            Применить\n          </Button>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default ListSettingsDialog;\n","import React, { ChangeEvent, FC, useCallback, useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button, MenuItem, MuiThemeProvider, Select, Tooltip } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { useForm } from 'react-hook-form';\nimport { v4 } from 'uuid';\nimport { ChatUserstate } from 'tmi.js';\nimport { RootState } from '../../../reducers';\nimport './RequestsDataPanel.scss';\nimport { successTheme } from '../../../constants/theme.constants';\nimport { CamilleList, RequestsListInfo } from '../../../models/requests.model';\nimport {\n  addRequest,\n  addRequestsList,\n  getList,\n  setCurrentList,\n  updateFromCamilleBot,\n  updateRequestsList,\n} from '../../../reducers/Requests/Requests';\nimport ListSettingsDialog from './ListSettings/ListSettingsDialog';\n\nconst newListTemplate: RequestsListInfo = {\n  uuid: v4(),\n  name: 'Новый список',\n  command: '!play',\n  isSyncWithAuc: false,\n  winnersData: [],\n  allData: [],\n};\n\nconst RequestsDataPanel: FC = () => {\n  const dispatch = useDispatch();\n  const { lists, currentList, chatClient } = useSelector((root: RootState) => root.requests);\n  const { username: channelName } = useSelector((root: RootState) => root.user);\n  const [isSettingsOpen, setIsSettingsOpen] = useState<boolean>(false);\n  const [isCreationOpen, setIsCreationOpen] = useState<boolean>(false);\n\n  const listInfo = useMemo(() => getList(lists, currentList), [currentList, lists]);\n  const { command } = listInfo;\n\n  const [isConnected, setIsConnected] = useState<boolean>(false);\n\n  useEffect(() => {\n    setIsConnected(!!command && !!chatClient && chatClient.commandListeners.has(command));\n  }, [chatClient, command, listInfo]);\n\n  const settingsForm = useForm<RequestsListInfo>({ defaultValues: listInfo });\n  const { reset } = settingsForm;\n\n  useEffect(() => {\n    reset(listInfo);\n  }, [currentList, listInfo, reset]);\n\n  const creationForm = useForm<RequestsListInfo>({ defaultValues: newListTemplate });\n\n  const toggleSettingsOpen = useCallback(() => {\n    setIsSettingsOpen((prevOpen) => !prevOpen);\n  }, []);\n\n  const toggleCreationOpen = useCallback(() => {\n    setIsCreationOpen((prevOpen) => !prevOpen);\n  }, []);\n\n  const updateSettings = useCallback(\n    (data: RequestsListInfo) => {\n      dispatch(updateRequestsList({ id: currentList, data }));\n      toggleSettingsOpen();\n    },\n    [dispatch, currentList, toggleSettingsOpen],\n  );\n\n  const createList = useCallback(\n    (data: RequestsListInfo) => {\n      const uuid = v4();\n\n      dispatch(addRequestsList({ ...newListTemplate, ...data, uuid }));\n      dispatch(setCurrentList(uuid));\n      toggleCreationOpen();\n    },\n    [dispatch, toggleCreationOpen],\n  );\n\n  const handleListChange = useCallback(\n    (event: ChangeEvent<any>) => dispatch(setCurrentList(event.target.value)),\n    [dispatch],\n  );\n\n  useEffect(() => {\n    if (Object.values<any>(CamilleList).includes(currentList) && channelName) {\n      dispatch(updateFromCamilleBot(channelName, currentList as CamilleList));\n    }\n  }, [dispatch, currentList, channelName]);\n\n  const handleNewRequest = useCallback(\n    ({ username: id = '', 'display-name': username = '', badges }: ChatUserstate, request?: string) => {\n      if (!listInfo.subOnly || badges?.subscriber || badges?.founder) {\n        dispatch(addRequest({ data: { username, id, request } }));\n      }\n    },\n    [dispatch, listInfo.subOnly],\n  );\n\n  const handleConnect = useCallback(() => {\n    chatClient?.listenCommand(listInfo.command || '', handleNewRequest);\n    setIsConnected(true);\n  }, [chatClient, handleNewRequest, listInfo.command]);\n\n  const handleDisconnect = useCallback(() => {\n    chatClient?.unListenCommand(listInfo.command || '');\n    setIsConnected(false);\n  }, [chatClient, listInfo.command]);\n\n  return (\n    <div className=\"requests-list-panel\">\n      <ListSettingsDialog\n        form={settingsForm}\n        onSubmit={updateSettings}\n        open={isSettingsOpen}\n        toggleOpen={toggleSettingsOpen}\n        title=\"Настройки списка заказов\"\n        disabled\n      />\n      <ListSettingsDialog\n        form={creationForm}\n        onSubmit={createList}\n        open={isCreationOpen}\n        toggleOpen={toggleCreationOpen}\n        title=\"Создать новый список заказов\"\n      />\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        <div className=\"label\">Текущий список:</div>\n        <Select value={currentList} onChange={handleListChange}>\n          {lists.map(({ name, uuid }) => (\n            <MenuItem value={uuid} key={uuid}>\n              {name}\n            </MenuItem>\n          ))}\n        </Select>\n      </div>\n      <Button variant=\"outlined\" color=\"primary\" startIcon={<AddIcon />} onClick={toggleCreationOpen}>\n        Новый список\n      </Button>\n      <Tooltip title=\"Изменение настроек пока что недоступно\">\n        <span>\n          <Button variant=\"outlined\" startIcon={<SettingsIcon />} onClick={toggleSettingsOpen} disabled>\n            Настройки\n          </Button>\n        </span>\n      </Tooltip>\n      <MuiThemeProvider theme={successTheme}>\n        {isConnected ? (\n          <Button variant=\"outlined\" onClick={handleDisconnect}>\n            Закрыть голосование\n          </Button>\n        ) : (\n          <Button variant=\"outlined\" color=\"primary\" disabled={!listInfo.command} onClick={handleConnect}>\n            Открыть голосование\n          </Button>\n        )}\n      </MuiThemeProvider>\n    </div>\n  );\n};\n\nexport default RequestsDataPanel;\n","import React, { FC, ReactElement, useMemo } from 'react';\nimport { ColDef, XGrid } from '@material-ui/x-grid';\nimport { Button } from '@material-ui/core';\nimport classNames from 'classnames';\nimport { UserRequest } from '../../../models/requests.model';\nimport './RequestsTable.scss';\n\ninterface RequestsTableProps {\n  requests: UserRequest[];\n  onDelete: (id: string) => void;\n  loading?: boolean;\n}\n\nconst RequestsTable: FC<RequestsTableProps> = ({ requests, loading, onDelete }) => {\n  const columns: ColDef[] = useMemo(\n    () => [\n      {\n        headerName: 'Никнейм',\n        field: 'username',\n        sortable: true,\n        filterable: true,\n        flex: 1,\n      },\n      {\n        headerName: 'Заказ',\n        field: 'request',\n        sortable: true,\n        filterable: true,\n        flex: 2,\n      },\n      {\n        width: 150,\n        field: 'id',\n        // eslint-disable-next-line react/display-name\n        renderCell: ({ value }): ReactElement => {\n          const onClick = (): void => onDelete(value as string);\n\n          return (\n            <Button\n              onClick={onClick}\n              variant=\"outlined\"\n              color=\"secondary\"\n              style={{ fontSize: 12, padding: '2px 10px' }}\n            >\n              удалить\n            </Button>\n          );\n        },\n      },\n    ],\n    [onDelete],\n  );\n\n  return (\n    <div className={classNames('history-table', { empty: !requests.length && !loading })}>\n      <XGrid\n        columns={columns}\n        rows={requests}\n        autoHeight\n        pagination\n        pageSize={25}\n        rowsPerPageOptions={[25]}\n        disableSelectionOnClick\n        rowHeight={38}\n        loading={loading}\n      />\n    </div>\n  );\n};\n\nexport default RequestsTable;\n","import React, { ChangeEvent, FC, useCallback, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button, TextField } from '@material-ui/core';\nimport { RootState } from '../../../reducers';\nimport RequestsTable from '../RequestsTable/RequestsTable';\nimport SettingsGroupTitle from '../../SettingsGroupTitle/SettingsGroupTitle';\nimport { getRandomIntInclusive } from '../../../utils/common.utils';\nimport { UserRequest } from '../../../models/requests.model';\nimport { addRequestWinner, deleteRequestWinner, getList, setWinnersData } from '../../../reducers/Requests/Requests';\nimport { addAlert } from '../../../reducers/notifications/notifications';\nimport { AlertTypeEnum } from '../../../models/alert.model';\n\ninterface RequestsWinnersProps {\n  openWheel: (data: UserRequest[]) => void;\n}\n\nconst RequestsWinners: FC<RequestsWinnersProps> = ({ openWheel }) => {\n  const dispatch = useDispatch();\n  const { lists, currentList } = useSelector((root: RootState) => root.requests);\n  const [randomCount, setRandomCount] = useState<number>(1);\n\n  const { winnersData, allData } = useMemo(() => getList(lists, currentList), [currentList, lists]);\n\n  const clearWinnersList = useCallback(() => {\n    dispatch(setWinnersData({ data: [] }));\n  }, [dispatch]);\n\n  const handleRandomCountChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n    setRandomCount(Number(e.target.value));\n  }, []);\n\n  const addRandomWinners = useCallback(() => {\n    if (allData.length) {\n      for (let i = 0; i < randomCount; i++) {\n        if (allData.length !== winnersData.length) {\n          let winnerIndex = -1;\n          while (winnerIndex === -1 || winnersData.includes(allData[winnerIndex])) {\n            winnerIndex = getRandomIntInclusive(0, allData.length - 1);\n          }\n\n          dispatch(addRequestWinner({ data: allData[winnerIndex] }));\n        }\n      }\n    }\n  }, [allData, dispatch, randomCount, winnersData]);\n\n  const handleWheelClick = useCallback(() => {\n    openWheel(winnersData);\n  }, [openWheel, winnersData]);\n\n  const handleDelete = useCallback(\n    (id: string): void => {\n      dispatch(deleteRequestWinner({ data: id }));\n    },\n    [dispatch],\n  );\n\n  const copyTableData = useCallback(async () => {\n    const dataText = winnersData.map(({ request }) => request).join('; ');\n\n    await navigator.clipboard.writeText(dataText);\n    dispatch(addAlert({ duration: 3000, type: AlertTypeEnum.Success, message: 'Победители скопированы' }));\n  }, [dispatch, winnersData]);\n\n  return (\n    <div style={{ marginBottom: 10 }}>\n      <SettingsGroupTitle title=\"Победители\" />\n      <div className=\"row\">\n        <div className=\"col\">\n          <Button variant=\"contained\" color=\"primary\" onClick={addRandomWinners}>\n            Выбрать случайно\n          </Button>\n          <TextField\n            style={{ width: 50, margin: 0 }}\n            variant=\"outlined\"\n            margin=\"dense\"\n            InputProps={{ type: 'number' }}\n            onChange={handleRandomCountChange}\n            value={randomCount || ''}\n          />\n          <Button variant=\"outlined\" color=\"primary\" onClick={handleWheelClick}>\n            крутить колесо\n          </Button>\n          <Button variant=\"outlined\" onClick={clearWinnersList}>\n            Очистить\n          </Button>\n        </div>\n        <div className=\"col\">\n          <Button variant=\"outlined\" onClick={copyTableData}>\n            Копировать\n          </Button>\n        </div>\n      </div>\n      <RequestsTable requests={winnersData} onDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default RequestsWinners;\n","import React, { FC, useCallback, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button, MuiThemeProvider } from '@material-ui/core';\nimport { RootState } from '../../../reducers';\nimport RequestsTable from '../RequestsTable/RequestsTable';\nimport SettingsGroupTitle from '../../SettingsGroupTitle/SettingsGroupTitle';\nimport { UserRequest } from '../../../models/requests.model';\nimport { deleteRequest, getList, setAllData, setSyncState, syncWithAuc } from '../../../reducers/Requests/Requests';\nimport { successTheme } from '../../../constants/theme.constants';\n\ninterface RequestsListProps {\n  openWheel: (data: UserRequest[]) => void;\n}\n\nconst RequestsList: FC<RequestsListProps> = ({ openWheel }) => {\n  const dispatch = useDispatch();\n  const { lists, currentList, isLoading } = useSelector((root: RootState) => root.requests);\n  const { allData, isSyncWithAuc } = useMemo(() => getList(lists, currentList), [currentList, lists]);\n\n  const clearWinnersList = useCallback(() => {\n    dispatch(setAllData({ data: [] }));\n  }, [dispatch]);\n\n  const handleWheelClick = useCallback(() => {\n    openWheel(allData || []);\n  }, [openWheel, allData]);\n\n  const handleDelete = useCallback(\n    (id: string): void => {\n      dispatch(deleteRequest({ data: id }));\n    },\n    [dispatch],\n  );\n\n  const handleSync = (): void => {\n    dispatch(syncWithAuc());\n  };\n\n  const handleDeSync = (): void => {\n    dispatch(setSyncState({ data: false }));\n  };\n\n  return (\n    <div>\n      <SettingsGroupTitle title=\"Все заказы\" />\n      <div className=\"row\">\n        <div className=\"col\">\n          <Button variant=\"outlined\" color=\"primary\" onClick={handleWheelClick}>\n            крутить колесо\n          </Button>\n          <Button variant=\"outlined\" onClick={clearWinnersList}>\n            Очистить\n          </Button>\n          <MuiThemeProvider theme={successTheme}>\n            {isSyncWithAuc ? (\n              <Button variant=\"outlined\" onClick={handleDeSync}>\n                отменить синхронизацию\n              </Button>\n            ) : (\n              <Button variant=\"outlined\" color=\"primary\" onClick={handleSync}>\n                синхронизировать с аукционом\n              </Button>\n            )}\n          </MuiThemeProvider>\n        </div>\n      </div>\n      <RequestsTable requests={allData} loading={isLoading} onDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default RequestsList;\n","import React, { FC } from 'react';\nimport { Button } from '@material-ui/core';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport './StepWrapper.scss';\n\ninterface StepWrapperProps {\n  backSteepTitle: string;\n  onBackStep: () => void;\n  className?: string;\n}\n\nconst StepWrapper: FC<StepWrapperProps> = ({ children, onBackStep, backSteepTitle, className }) => {\n  return (\n    <div className=\"step-wrapper\">\n      <Button className=\"button\" startIcon={<ArrowBackIosIcon />} onClick={onBackStep}>\n        {backSteepTitle}\n      </Button>\n      <div className={className}>{children}</div>\n    </div>\n  );\n};\n\nexport default StepWrapper;\n","import React, { FC, useCallback, useEffect, useMemo, useState } from 'react';\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport PageContainer from '../PageContainer/PageContainer';\nimport RequestsDataPanel from './RequestsDataPanel/RequestsDataPanel';\nimport RequestsWinners from './RequestsActions/RequestsWinners';\nimport RequestsList from './RequestsList/RequestsList';\nimport { WheelItem } from '../../models/wheel.model';\nimport { UserRequest } from '../../models/requests.model';\nimport { getCookie, getWheelColor } from '../../utils/common.utils';\nimport RandomWheel from '../RandomWheel/RandomWheel';\nimport StepWrapper from './StepWrapper/StepWrapper';\nimport { RootState } from '../../reducers';\nimport TwitchLoginButton from '../IntegrationPage/TwitchLoginButton/TwitchLoginButton';\n\nconst RequestsPage: FC = () => {\n  const { hasTwitchAuth } = useSelector((root: RootState) => root.user);\n  const [currentData, setCurrentData] = useState<UserRequest[]>();\n  const [warningOpen, setWarningOpen] = useState<boolean>(false);\n  const closeWarning = (): void => {\n    setWarningOpen(false);\n    document.cookie = 'seenRequestWarning=true; expires=Fri, 31 Dec 9999 23:59:59 GMT';\n  };\n\n  useEffect(() => {\n    setWarningOpen(!getCookie('seenRequestWarning'));\n  }, []);\n\n  const wheelItems = useMemo(\n    () =>\n      currentData?.map<WheelItem>(({ username, id, request }) => ({\n        name: request ? `${username}: ${request}` : username,\n        id,\n        color: getWheelColor(),\n      })),\n    [currentData],\n  );\n\n  const moveToUsersRequests = useCallback(() => {\n    setCurrentData(undefined);\n  }, []);\n\n  if (!hasTwitchAuth) {\n    return (\n      <div>\n        <TwitchLoginButton />\n        <div>Авторизируйтесь, чтобы продолжить</div>\n      </div>\n    );\n  }\n\n  return (\n    <PageContainer title=\"Заказы зрителей\">\n      <Dialog open={warningOpen} className=\"description-dialog\" maxWidth=\"md\">\n        <DialogTitle>Внимание!</DialogTitle>\n        <DialogContent className=\"description-dialog-content\">\n          <div>Это только начальная версию. На данный момент использовать эту страницу можно двумя способами:</div>\n          <ol>\n            <li>\n              Если вы хотите прямо сейчас заролить человека из чата или его реквест. Работает аналогично Marbles On\n              Stream. Для этого вам надо просто создать новый список и открыть голосование, далее люди в чате пишут\n              команду и попадают в список, который можно заролить колесом или другими способами.\n              <div style={{ color: '#ff5c36' }}>\n                Зрители добавляются на сайт только пока открыта вкладка!!! Списки пока что не сохраняются между\n                сессиями!\n              </div>\n            </li>\n            <li>\n              Если вы уже пользуетесь ботом Камиля (Camille) для заказов сабов, кто понял тот поймет. Работает все по\n              схеме выше, но заказы загружаются с бота. Если у вас есть какой-то другой бот, которых собирает заказы\n              зрителей и вы хотите, чтобы его можно было перенести на этот сайт, можете написать мне, я ченить придумаю.\n            </li>\n          </ol>\n          <div>\n            Можете предложить идеи для новых форматов выбора заказов зрителей. Планируется добавить формат турнира по\n            типу как у Ласки, но вы можете предложить, как его можно было бы доработать. Мои контакты есть на странице\n            \"Гайд\".\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button variant=\"outlined\" onClick={closeWarning}>\n            Понятно\n          </Button>\n        </DialogActions>\n      </Dialog>\n      {wheelItems && (\n        <StepWrapper className=\"wheel-wrapper\" backSteepTitle=\"Вернуться к списку\" onBackStep={moveToUsersRequests}>\n          <RandomWheel items={wheelItems} />\n        </StepWrapper>\n      )}\n      <div hidden={!!wheelItems}>\n        <RequestsDataPanel />\n        <RequestsWinners openWheel={setCurrentData} />\n        <RequestsList openWheel={setCurrentData} />\n      </div>\n    </PageContainer>\n  );\n};\n\nexport default RequestsPage;\n","import { io, Socket } from 'socket.io-client';\nimport { createSlice, PayloadAction, ThunkDispatch } from '@reduxjs/toolkit';\nimport { Action } from 'redux';\nimport { RootState } from '../index';\nimport { getSocketIOUrl } from '../../utils/url.utils';\n\ninterface SocketIoState {\n  client?: Socket | null;\n  twitchSocket?: Socket | null;\n  daSocket?: Socket | null;\n}\n\nconst initialState: SocketIoState = {\n  client: null,\n};\n\nconst socketIoSlice = createSlice({\n  name: 'socketIo',\n  initialState,\n  reducers: {\n    setSocket(state, action: PayloadAction<SocketIoState>): void {\n      Object.assign(state, action.payload);\n    },\n  },\n});\n\nexport const { setSocket } = socketIoSlice.actions;\n\nexport const connectToSocketIo = (dispatch: ThunkDispatch<RootState, {}, Action>): void => {\n  const twitchSocket = io(`${getSocketIOUrl()}/twitch`, { query: { cookie: document.cookie } });\n  const daSocket = io(`${getSocketIOUrl()}/da`, { query: { cookie: document.cookie } });\n\n  dispatch(setSocket({ twitchSocket, daSocket }));\n};\n\nexport default socketIoSlice.reducer;\n","/* eslint-disable */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport ru from './ru.json';\nimport en from './en.json';\nimport be from './be.json';\n\nenum Language {\n  RU = 'ru',\n  EN = 'en',\n  BE = 'be',\n}\n\nconst resources = {\n  [Language.RU]: ru,\n  [Language.EN]: en,\n  [Language.BE]: be,\n};\n\nconst i18next = i18n.use(LanguageDetector).use(initReactI18next).init({\n  resources,\n});\n\nexport default i18next;\n","import { createSlice, PayloadAction, ThunkDispatch } from '@reduxjs/toolkit';\nimport { Action } from 'redux';\n// import axios from 'axios';\nimport WebSocketService from '../../services/WebSocketService';\nimport { Purchase } from '../Purchases/Purchases';\nimport { MESSAGE_TYPES } from '../../constants/webSocket.constants';\nimport { getWebsocketUrl } from '../../utils/url.utils';\nimport { addAlert } from '../notifications/notifications';\nimport { AlertTypeEnum } from '../../models/alert.model';\nimport { RootState } from '../index';\nimport { sendCpSubscribedState, sendDaSubscribedState } from '../Subscription/Subscription';\n\ninterface PubSubSocketState {\n  webSocket?: WebSocket;\n}\n\nconst initialState: PubSubSocketState = {\n  webSocket: undefined,\n};\n\nconst puSubSocketSlice = createSlice({\n  name: 'pubSubSocket',\n  initialState,\n  reducers: {\n    setWebSocket(state, action: PayloadAction<WebSocket | undefined>): void {\n      state.webSocket = action.payload;\n    },\n  },\n});\n\nexport const { setWebSocket } = puSubSocketSlice.actions;\n\nexport const connectToServer =\n  (showSuccessMessage?: boolean) =>\n  (dispatch: ThunkDispatch<RootState, {}, Action>, getState: () => RootState): void => {\n    let interval: NodeJS.Timeout;\n    const {\n      twitch: { actual: twitchSub },\n      da: { actual: daSub },\n    } = getState().subscription;\n\n    const onOpen = (ws: WebSocket): void => {\n      ws.send(JSON.stringify({ type: MESSAGE_TYPES.IDENTIFY_CLIENT }));\n\n      interval = setInterval(() => {\n        if (ws) {\n          ws.send(JSON.stringify({ type: MESSAGE_TYPES.IDENTIFY_CLIENT }));\n        }\n\n        //axios.get('api/isAlive');\n      }, 1000 * 60 * 30);\n\n      dispatch(setWebSocket(ws));\n      if (showSuccessMessage) {\n        dispatch(\n          addAlert({\n            message: 'Соединение установлено',\n            type: AlertTypeEnum.Success,\n            duration: 3000,\n          }),\n        );\n      }\n\n      if (twitchSub) {\n        dispatch(sendCpSubscribedState(twitchSub));\n      }\n\n      if (daSub) {\n        dispatch(sendDaSubscribedState(daSub));\n      }\n    };\n\n    const onClose = (): void => {\n      dispatch(setWebSocket(undefined));\n      dispatch(\n        addAlert({\n          message: 'Произошло отключение от сервера, подождите пару секунд, сейчас все переподключится',\n          type: AlertTypeEnum.Error,\n          duration: 7000,\n        }),\n      );\n      clearInterval(interval);\n    };\n\n    const webSocketService = new WebSocketService<Purchase>(onClose, onOpen);\n    webSocketService.connect(getWebsocketUrl());\n  };\n\nexport default puSubSocketSlice.reducer;\n","import { combineReducers } from '@reduxjs/toolkit';\nimport slots from './Slots/Slots';\nimport user from './User/User';\nimport purchases from './Purchases/Purchases';\nimport notifications from './notifications/notifications';\nimport pubSubSocket from './PubSubSocket/PubSubSocket';\nimport aucSettings from './AucSettings/AucSettings';\nimport subscription from './Subscription/Subscription';\nimport extraWindows from './ExtraWindows/ExtraWindows';\nimport requests from './Requests/Requests';\nimport socketIo from './socketIo/socketIo';\n\nconst rootReducer = combineReducers({\n  slots,\n  user,\n  purchases,\n  notifications,\n  pubSubSocket,\n  aucSettings,\n  subscription,\n  extraWindows,\n  requests,\n  socketIo,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nexport default rootReducer;\n","import React, { useEffect, useState } from 'react';\nimport { Redirect, useLocation } from 'react-router';\nimport { useDispatch } from 'react-redux';\nimport { getQueryValue } from '../../../utils/url.utils';\nimport ROUTES from '../../../constants/routes.constants';\nimport { authenticateTwitch } from '../../../api/twitchApi';\nimport { QUERIES } from '../../../constants/common.constants';\nimport LoadingPage from '../../../components/LoadingPage/LoadingPage';\nimport withLoading from '../../../decorators/withLoading';\nimport { loadUserData } from '../../../reducers/AucSettings/AucSettings';\nimport { setAuthId, setCanBeRestored, setHasTwitchAuth } from '../../../reducers/User/User';\nimport { getIsCanRestoreSettings, updateIntegration } from '../../../api/userApi';\n\nconst TwitchRedirect: React.FC = () => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [loadingMessage, setLoadingMessage] = useState<string>('Авторизация...');\n\n  useEffect(() => {\n    const code = getQueryValue(location.search, QUERIES.CODE);\n    if (code) {\n      authenticateTwitch(code).then(({ isNew }) => {\n        setLoadingMessage('Загрузка аккаунта...');\n        dispatch(setHasTwitchAuth(true));\n\n        return withLoading(setIsLoading, async () => {\n          if (isNew) {\n            await updateIntegration({ da: { pointsRate: 1 } });\n          }\n          const user: any = await loadUserData(dispatch);\n\n          if (isNew) {\n            const { id } = user.twitchAuth;\n            const canRestoreSettings = await getIsCanRestoreSettings(id);\n\n            dispatch(setCanBeRestored(canRestoreSettings));\n            dispatch(setAuthId(id));\n          }\n        })();\n      });\n    }\n  }, [dispatch, location]);\n\n  return isLoading ? <LoadingPage helpText={loadingMessage} /> : <Redirect to={ROUTES.INTEGRATION} />;\n};\n\nexport default TwitchRedirect;\n","import React, { useEffect, useState } from 'react';\nimport { Redirect, useLocation } from 'react-router';\nimport { useDispatch } from 'react-redux';\nimport { getQueryValue } from '../../../utils/url.utils';\nimport ROUTES from '../../../constants/routes.constants';\nimport { authenticateDA } from '../../../api/twitchApi';\nimport { QUERIES } from '../../../constants/common.constants';\nimport LoadingPage from '../../../components/LoadingPage/LoadingPage';\nimport { setAuthId, setCanBeRestored, setHasDAAuth } from '../../../reducers/User/User';\nimport withLoading from '../../../decorators/withLoading';\nimport { loadUserData } from '../../../reducers/AucSettings/AucSettings';\nimport { getIsCanRestoreSettings, updateIntegration } from '../../../api/userApi';\n\nconst DARedirect: React.FC = () => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [loadingMessage, setLoadingMessage] = useState<string>('Авторизация...');\n\n  useEffect(() => {\n    const code = getQueryValue(location.search, QUERIES.CODE);\n\n    if (code) {\n      authenticateDA(code).then(({ isNew }) => {\n        setLoadingMessage('Загрузка аккаунта...');\n        dispatch(setHasDAAuth(true));\n\n        return withLoading(setIsLoading, async () => {\n          if (isNew) {\n            await updateIntegration({ da: { pointsRate: 1 } });\n          }\n\n          const user: any = await loadUserData(dispatch);\n\n          if (isNew) {\n            const { id } = user.daAuth;\n            const canRestoreSettings = await getIsCanRestoreSettings(`da${id}`);\n\n            dispatch(setCanBeRestored(canRestoreSettings));\n            dispatch(setAuthId(`da${id}`));\n          }\n        })();\n      });\n    }\n  }, [dispatch, location]);\n\n  return isLoading ? <LoadingPage helpText={loadingMessage} /> : <Redirect to={ROUTES.INTEGRATION} />;\n};\n\nexport default DARedirect;\n","import React, { FC, useCallback, useEffect, useRef, useState } from 'react';\nimport tmi, { Badges, ChatUserstate } from 'tmi.js';\nimport { useParams } from 'react-router';\nimport { CHAT_WHEEL_PREFIX, WheelCommand } from '../../constants/wheel';\nimport { WheelItem } from '../../models/wheel.model';\nimport useWheel from '../../hooks/useWheel';\nimport { getWheelColor } from '../../utils/common.utils';\n\nconst getOpts = (channel: string) => ({\n  identity: {\n    username: 'skipsome_bot',\n    password: 'oauth:bzel1k13fcfoldritkwjbejzx42m2g',\n  },\n  channels: [channel],\n});\n\nconst USER_BADGES = ['founder', 'subscriber', 'broadcaster'];\nconst MODERATOR_BADGES = ['broadcaster'];\n\nconst getCommand = (command: WheelCommand): string => `${CHAT_WHEEL_PREFIX}${command}`;\nconst checkBadges = (badges: Badges, validBadges: string[]): boolean =>\n  Object.keys(badges).some((badge) => validBadges.includes(badge));\n\n// const getRandomColor = (): string =>\n//   `#${Math.floor(Math.random() * 2 ** 24)\n//     .toString(16)\n//     .padStart(6, '0')}`;\n// const createItem = (index: number): WheelItem => ({\n//   id: index.toString(),\n//   name: Math.random()\n//     .toString()\n//     .slice(0, Math.floor(Math.random() * 15 + 5)),\n//   color: colors[Math.floor(Math.random() * colors.length)],\n// });\n// const defaultItems: WheelItem[] = Array(20)\n//   .fill(null)\n//   .map((value, index) => createItem(index));\n\nconst ChatWheelPage: FC = () => {\n  const [participants, setParticipants] = useState<WheelItem[]>([]);\n  const isRegOpened = useRef<boolean>(true);\n  const [winners, setWinners] = useState<WheelItem[]>([]);\n  const isSpinning = useRef<boolean>(false);\n  // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n  // @ts-ignore\n  const { channel } = useParams();\n\n  const existUsers = useRef<WheelItem[]>([]);\n  useEffect(() => {\n    existUsers.current = [...participants, ...winners];\n  }, [participants, winners]);\n\n  const removeParticipant = ({ id }: WheelItem): void => {\n    setParticipants((prevState) => prevState.filter((item) => item.id !== id));\n  };\n\n  const winner = useRef<WheelItem>();\n  const handleWinner = (newWinner: WheelItem): void => {\n    winner.current = newWinner;\n    setWinners((prevWinners) => [...prevWinners, newWinner]);\n    isSpinning.current = false;\n  };\n\n  const { spin, wheelComponent } = useWheel({ rawItems: participants, onWin: handleWinner, spinTime: 6000 });\n\n  const spinRef = useRef(spin);\n  useEffect(() => {\n    spinRef.current = spin;\n  }, [spin]);\n\n  const handleConnection = useCallback(() => {\n    console.log(`Connected`);\n    // setTimeout(() => spinRef.current(), 1000);\n  }, []);\n\n  const handleJoin = (userId: string, name: string, badges: Badges): void => {\n    if (checkBadges(badges, USER_BADGES) && !existUsers.current.find(({ id }) => id === userId)) {\n      const newParticipant: WheelItem = { id: userId, color: getWheelColor(), name };\n\n      setParticipants((prevState) => [...prevState, newParticipant]);\n    }\n  };\n\n  const handleMessage = useCallback((channelName: string, userState: ChatUserstate, message: string) => {\n    const { 'display-name': name = '', badges, 'user-id': userId = Math.random().toString() } = userState;\n\n    switch (message) {\n      case getCommand(WheelCommand.Join):\n        if (isRegOpened.current && !isSpinning.current && badges) {\n          handleJoin(userId, name, badges);\n        }\n        break;\n\n      case getCommand(WheelCommand.Spin):\n        if (badges && checkBadges(badges, MODERATOR_BADGES)) {\n          if (winner.current) {\n            removeParticipant(winner.current);\n          }\n\n          if (!isSpinning.current) {\n            spinRef.current();\n            isSpinning.current = true;\n          }\n        }\n\n        break;\n\n      case getCommand(WheelCommand.CloseReg):\n        if (badges && checkBadges(badges, MODERATOR_BADGES)) {\n          isRegOpened.current = false;\n        }\n        break;\n\n      case getCommand(WheelCommand.OpenReg):\n        if (badges && checkBadges(badges, MODERATOR_BADGES)) {\n          isRegOpened.current = true;\n        }\n        break;\n\n      default:\n        break;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    // eslint-disable-next-line new-cap\n    const client = new tmi.client(getOpts(channel));\n\n    client.on('connected', handleConnection);\n    client.on('message', handleMessage);\n\n    client.connect();\n\n    return (): void => {\n      client.disconnect();\n    };\n  }, [channel, handleConnection, handleMessage]);\n\n  return <div style={{ width: '100vw', height: '100vh' }}>{wheelComponent}</div>;\n};\n\nexport default ChatWheelPage;\n","import React, { FC } from 'react';\nimport { Link } from '@material-ui/core';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport PageContainer from '../PageContainer/PageContainer';\nimport { theme } from '../../constants/theme.constants';\nimport Dovolen from '../../assets/img/Dovolen.png';\nimport './NewDomainRedirect.scss';\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      background: theme.palette.background.default,\n      color: theme.palette.text.primary,\n      display: 'flex',\n      fontFamily: theme.typography.fontFamily,\n      fontWeight: 300,\n      minHeight: '100vh',\n    },\n  }),\n);\n\nconst NewDomainRedirect: FC = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <PageContainer>\n        <div className=\"redirect-page\">\n          <div>\n            <span>Аукцион переехал на новый крутой домен, заходите теперь через эту ссылку:</span>\n            <Link href=\"https://pointauc.ru\"> https://pointauc.ru</Link>\n          </div>\n          <img src={Dovolen} alt=\"Dovolen\" />\n        </div>\n      </PageContainer>\n    </div>\n  );\n};\n\nexport default NewDomainRedirect;\n","import { axios } from './axios';\nimport ENDPOINTS from '../constants/api.constants';\n\nexport interface AudioRoomUser {\n  username: string;\n  password: string;\n}\n\nexport interface AudioPresetCommon {\n  name: string;\n  volume: number;\n}\n\nexport interface AudioPreset extends AudioPresetCommon {\n  url: string;\n  _id: string;\n}\n\nexport interface AudioPresetPostData extends AudioPresetCommon {\n  file: File;\n}\n\nclass AudioRoomApi {\n  getUser = async (): Promise<AudioRoomUser> => {\n    throw new Error('no network');\n    // const { data } = await axios.get<AudioRoomUser>(ENDPOINTS.AUDIO_ROOM.USER);\n    //\n    // return data;\n  };\n\n  login = async (user: AudioRoomUser): Promise<void> => {\n    throw new Error('no network');\n    // await axios.post(ENDPOINTS.AUDIO_ROOM.USER, user);\n  };\n\n  getPresets = async (): Promise<AudioPreset[]> => {\n    throw new Error('no network');\n    // const { data } = await axios.get<AudioPreset[]>(ENDPOINTS.AUDIO_ROOM.PRESETS);\n    //\n    // return data;\n  };\n\n  postPreset = async ({ file, volume, name }: AudioPresetPostData): Promise<AudioPreset> => {\n    throw new Error('no network');\n    // const formData = new FormData();\n    //\n    // formData.append('file', file);\n    // formData.append('volume', volume.toString());\n    // formData.append('name', name);\n    //\n    // const { data } = await axios.post(ENDPOINTS.AUDIO_ROOM.PRESETS, formData);\n    //\n    // return data;\n  };\n\n  deletePreset = async (id: string): Promise<void> => {\n    throw new Error('no network');\n    // await axios.delete(ENDPOINTS.AUDIO_ROOM.PRESETS, { params: { id } });\n  };\n}\n\nexport default new AudioRoomApi();\n","import React, { FC, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Button, Typography } from '@material-ui/core';\nimport audioRoomApi, { AudioRoomUser } from '../../../api/audioRoomApi';\nimport { useAudioPageStyles } from '../../../constants/theme.constants';\nimport FormInput from '../../Form/FormInput/FormInput';\nimport './RoomLoginPage.scss';\n\ninterface RoomLoginPageProps {\n  setUser: (user: AudioRoomUser) => void;\n}\n\nconst RoomLoginPage: FC<RoomLoginPageProps> = ({ setUser }) => {\n  const classes = useAudioPageStyles();\n  const [errorMessage, setErrorMessage] = useState<string>();\n  // const [isLoading, setIsLoading] = useState(!!token);\n  const { control, handleSubmit, errors } = useForm<AudioRoomUser>();\n\n  const onSubmit = async (user: AudioRoomUser): Promise<void> => {\n    try {\n      await audioRoomApi.login(user);\n\n      setUser(user);\n    } catch (e) {\n      setErrorMessage(e.response.data.message);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <form onSubmit={handleSubmit(onSubmit)} className=\"box-container login-page\">\n        <Typography variant=\"h4\">Вход</Typography>\n        {errorMessage && <Typography className=\"login-page-error\">{errorMessage}</Typography>}\n        <FormInput\n          rules={{ required: 'required' }}\n          label=\"Username\"\n          name=\"username\"\n          control={control}\n          errors={errors}\n          autoComplete=\"new-password\"\n        />\n        <FormInput\n          type=\"password\"\n          rules={{ required: 'required' }}\n          label=\"Password\"\n          name=\"password\"\n          control={control}\n          errors={errors}\n          autoComplete=\"new-password\"\n        />\n        <Button className=\"login-page-submit\" type=\"submit\" variant=\"contained\" color=\"primary\">\n          войти\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nexport default RoomLoginPage;\n","import React, { FC, ReactEventHandler, useMemo, useState } from 'react';\nimport { Button, Dialog, DialogActions, DialogContent, OutlinedInput, Typography } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport { FilledInputProps } from '@material-ui/core/FilledInput';\nimport { useDispatch } from 'react-redux';\nimport audioRoomApi, { AudioPreset } from '../../../api/audioRoomApi';\nimport { addAlert } from '../../../reducers/notifications/notifications';\nimport { AlertTypeEnum } from '../../../models/alert.model';\nimport LoadingButton from '../../LoadingButton/LoadingButton';\n\ninterface AddPresetButtonProps {\n  addPreset: (preset: AudioPreset) => void;\n}\n\nconst AddPresetButton: FC<AddPresetButtonProps> = () => {\n  const dispatch = useDispatch();\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [formOpen, setFormOpen] = useState<boolean>(false);\n  const [audioFile, setAudioFile] = useState<File>();\n  const [presetName, setPresetName] = useState<string>();\n  const [volume, setVolume] = useState<number>(1);\n\n  const audioUrl = useMemo(() => audioFile && URL.createObjectURL(audioFile), [audioFile]);\n\n  const resetFields = () => {\n    setAudioFile(undefined);\n    setPresetName(undefined);\n    setVolume(1);\n  };\n\n  const toggleFormOpen = () => {\n    setFormOpen((prevOpen) => !prevOpen);\n    resetFields();\n  };\n\n  const handleFileUpload = ([file]: File[]): void => {\n    setAudioFile(file);\n\n    if (!presetName) {\n      setPresetName(file.name);\n    }\n  };\n\n  const handleNameChange: FilledInputProps['onChange'] = (e): void => {\n    setPresetName(e.target.value);\n  };\n\n  const handleVolumeChange: ReactEventHandler<HTMLAudioElement> = (e): void => {\n    setVolume((e.target as any).volume);\n  };\n\n  const handleSubmit = async () => {\n    try {\n      if (audioFile && presetName) {\n        // const file = await audioFile.arrayBuffer();\n        // console.log(file);\n        setIsLoading(true);\n        await audioRoomApi.postPreset({ name: presetName, file: audioFile, volume });\n\n        toggleFormOpen();\n      } else {\n        dispatch(addAlert({ type: AlertTypeEnum.Error, message: 'заполните все поля!' }));\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <Button startIcon={<AddIcon />} size=\"large\" variant=\"outlined\" onClick={toggleFormOpen}>\n        <Typography>Новое аудио</Typography>\n      </Button>\n      <Dialog open={formOpen} onClose={toggleFormOpen} maxWidth=\"md\">\n        <DialogContent className=\"image-input-wrapper\">\n          <div className=\"row-ap\" style={{ marginBottom: 20, width: '100%' }}>\n            <Typography style={{ margin: '0 15px 0 0' }} variant=\"h5\">\n              Название\n            </Typography>\n            <OutlinedInput margin=\"dense\" style={{ flexGrow: 1 }} value={presetName} onChange={handleNameChange} />\n          </div>\n          <DropzoneArea\n            dropzoneClass=\"drop-zone\"\n            dropzoneText=\"Перетащите сюда файл или нажмите\"\n            onDrop={handleFileUpload}\n            showPreviewsInDropzone={false}\n            maxFileSize={5 * 2 ** 20}\n            acceptedFiles={['.mp3']}\n          />\n          {audioFile && (\n            <div>\n              <div className=\"row-ap\" style={{ width: '100%', marginTop: 20 }}>\n                <Typography style={{ margin: '0 15px 0 0' }} variant=\"h5\">\n                  Превью:\n                </Typography>\n                {/* eslint-disable-next-line jsx-a11y/media-has-caption */}\n                <audio controls src={audioUrl} onVolumeChange={handleVolumeChange}>\n                  not supported audio\n                </audio>\n              </div>\n              <Typography style={{ color: '#f1f1f1', marginTop: 10 }}>\n                Настройте громкость, с такой же громкостью запись будет воспроизводиться на сайте.\n              </Typography>\n            </div>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <LoadingButton isLoading={isLoading} variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\n            создать\n          </LoadingButton>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default AddPresetButton;\n","import React, { FC } from 'react';\nimport { Button, IconButton, Typography } from '@material-ui/core';\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\nimport audioRoomApi, { AudioPreset } from '../../../api/audioRoomApi';\n\ninterface PresetProps {\n  data: AudioPreset;\n  deletePreset: (id: string) => void;\n  playPreset: (id: string) => void;\n}\n\nconst Preset: FC<PresetProps> = ({ data, playPreset }) => {\n  const { name, _id } = data;\n\n  const playAudio = () => {\n    playPreset(_id);\n  };\n\n  const handleClickDelete = () => {\n    audioRoomApi.deletePreset(_id);\n  };\n\n  return (\n    <div className=\"box-container row-ap preset\">\n      <div className=\"col-ap\" style={{ marginRight: 15 }}>\n        <Typography style={{ marginBottom: 5 }}>{name}</Typography>\n        <Button onClick={handleClickDelete} size=\"small\" variant=\"outlined\" color=\"secondary\">\n          удалить\n        </Button>\n      </div>\n      <IconButton onClick={playAudio} title=\"проиграть\">\n        <PlayCircleFilledIcon fontSize=\"large\" />\n      </IconButton>\n    </div>\n  );\n};\n\nexport default Preset;\n","import React, { FC } from 'react';\nimport { AudioPreset } from '../../../api/audioRoomApi';\nimport Preset from '../Preset/Preset';\n\ninterface PresetsListrPops {\n  presets: AudioPreset[];\n  deletePreset: (id: string) => void;\n  playPreset: (id: string) => void;\n}\n\nconst PresetsList: FC<PresetsListrPops> = ({ presets, deletePreset, playPreset }) => {\n  return (\n    <div className=\"box-container\">\n      <div className=\"presets-list\">\n        {presets.map((preset) => (\n          <Preset key={preset._id} data={preset} deletePreset={deletePreset} playPreset={playPreset} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default PresetsList;\n","import React, { FC } from 'react';\nimport { Typography } from '@material-ui/core';\n\ninterface ConnectedUsersProps {\n  users: string[];\n}\n\nconst ConnectedUsers: FC<ConnectedUsersProps> = ({ users }) => {\n  return (\n    <div className=\"box-container\">\n      {users.map((username) => (\n        <Typography key={username}>{username}</Typography>\n      ))}\n    </div>\n  );\n};\n\nexport default ConnectedUsers;\n","import React, { useEffect, useState } from 'react';\nimport { io, Socket } from 'socket.io-client';\nimport audioRoomApi, { AudioPreset, AudioRoomUser } from '../../api/audioRoomApi';\nimport RoomLoginPage from './RoomLoginPage/RoomLoginPage';\nimport { useAudioPageStyles } from '../../constants/theme.constants';\nimport AddPresetButton from './AddPresetButton/AddPresetButton';\nimport PresetsList from './PresetsList/PresetsList';\nimport ConnectedUsers from './ActiveUsers/ConnectedUsers';\nimport './AudioRoom.scss';\nimport AlertsContainer from '../AlertsContainer/AlertsContainer';\nimport { getSocketIOUrl } from '../../utils/url.utils';\n\nconst AudioRoom = () => {\n  const classes = useAudioPageStyles();\n  const [user, setUser] = useState<AudioRoomUser>();\n  const [presets, setPresets] = useState<AudioPreset[]>([]);\n  const [connectedUsers, setConnectedUsers] = useState<string[]>([]);\n  const [socket, setSocket] = useState<Socket>();\n\n  const addPreset = (preset: AudioPreset) => {\n    setPresets((prevState) => [...prevState, preset]);\n  };\n\n  const deletePreset = (id: string) => {\n    setPresets((prevState) => prevState.filter(({ _id }) => _id !== id));\n  };\n\n  const emitPreset = (id: string) => {\n    socket?.emit('play', id);\n  };\n\n  const updatePresets = async () => {\n    const newPresets = await audioRoomApi.getPresets();\n    setPresets(newPresets);\n  };\n\n  useEffect(() => {\n    if (user) {\n      updatePresets();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (user) {\n      const _socket = io(getSocketIOUrl(), { query: { username: user.username, password: user.password } });\n\n      _socket.on('connect', () => {\n        console.log('connected');\n      });\n\n      _socket.on('play', (id) => {\n        setPresets((currentPresets) => {\n          const preset = currentPresets.find(({ _id }) => id === _id);\n\n          if (preset) {\n            const { url, volume } = preset;\n\n            const audio = new Audio(url);\n\n            audio.volume = volume;\n\n            audio.play();\n          }\n\n          return currentPresets;\n        });\n      });\n\n      _socket.on('usersJoin', (usernames) => {\n        setConnectedUsers((prevState) => [...prevState, ...usernames]);\n      });\n      _socket.on('userLeave', (username) =>\n        setConnectedUsers((prevState) => prevState.filter((_username) => _username !== username)),\n      );\n      _socket.on('addPreset', addPreset);\n      _socket.on('deletePreset', deletePreset);\n\n      _socket.connect();\n\n      setSocket(_socket);\n\n      return () => {\n        _socket.disconnect();\n      };\n    }\n\n    return () => ({});\n  }, [user]);\n\n  if (!user) {\n    return <RoomLoginPage setUser={setUser} />;\n  }\n\n  return (\n    <div className={classes.root}>\n      <AlertsContainer />\n      <div className=\"row-ap\">\n        <div className=\"col-ap\">\n          <AddPresetButton addPreset={addPreset} />\n          <PresetsList presets={presets} deletePreset={deletePreset} playPreset={emitPreset} />\n        </div>\n        <div className=\"col-ap\">\n          <ConnectedUsers users={connectedUsers} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AudioRoom;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport { AnyAction, configureStore, Middleware } from '@reduxjs/toolkit';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport dayjs from 'dayjs';\nimport { Route, Router, Switch } from 'react-router-dom';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\nimport rootReducer, { RootState } from './reducers';\nimport { setSlots } from './reducers/Slots/Slots';\nimport ROUTES from './constants/routes.constants';\nimport TwitchRedirect from './pages/redirects/TwitchRedirect/TwitchRedirect';\nimport DARedirect from './pages/redirects/DARedirect/DARedirect';\nimport { sortSlots } from './utils/common.utils';\nimport ChatWheelPage from './components/ChatWheelPage/ChatWheelPage';\nimport { theme } from './constants/theme.constants';\nimport NewDomainRedirect from './components/NewDomainRedirect/NewDomainRedirect';\nimport history from './constants/history';\nimport SaveLoadService from './services/SaveLoadService';\nimport AudioRoom from './components/AudioRoom/AudioRoom';\nimport './assets/i18n';\n\ndayjs.locale('ru');\n\nconst SORTABLE_SLOT_EVENTS = [\n  'slots/setSlotAmount',\n  'slots/addExtra',\n  'slots/deleteSlot',\n  'slots/addSlot',\n  'slots/addSlotAmount',\n];\n\nconst sortSlotsMiddleware: Middleware<{}, RootState> =\n  (store) =>\n  (next) =>\n  (action): AnyAction => {\n    const result = next(action);\n    if (SORTABLE_SLOT_EVENTS.includes(action.type)) {\n      const sortedSlots = sortSlots(store.getState().slots.slots);\n\n      return next(setSlots(sortedSlots));\n    }\n    return result;\n  };\n\nexport const store = configureStore({\n  reducer: rootReducer,\n  middleware: [thunk, sortSlotsMiddleware],\n});\n\nwindow.onbeforeunload = (): undefined => {\n  const { slots } = store.getState().slots;\n\n  if (slots.length > 1) {\n    SaveLoadService.rewrite(slots, 'Автосохранение');\n  }\n\n  return undefined;\n};\n\nif (window.location.host === 'woodsauc-reneawal.netlify.app') {\n  ReactDOM.render(\n    <MuiThemeProvider theme={theme}>\n      <NewDomainRedirect />\n    </MuiThemeProvider>,\n    document.getElementById('root'),\n  );\n} else {\n  ReactDOM.render(\n    <Provider store={store}>\n      <Router history={history}>\n        <Switch>\n          <Route exact path={ROUTES.TWITCH_REDIRECT}>\n            <TwitchRedirect />\n          </Route>\n          <Route exact path={ROUTES.DA_REDIRECT}>\n            <DARedirect />\n          </Route>\n          <Route exact path={ROUTES.CHAT_WHEEL}>\n            <ChatWheelPage />\n          </Route>\n          <Route exact path={ROUTES.AUDIO_ROOM}>\n            <MuiThemeProvider theme={theme}>\n              <AudioRoom />\n            </MuiThemeProvider>\n          </Route>\n          <Route path={ROUTES.HOME}>\n            <App />\n          </Route>\n        </Switch>\n      </Router>\n    </Provider>,\n    document.getElementById('root'),\n  );\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}